webpackJsonp([15],{"+35/":function(t,e,n){var r=n("VU/8")(n("7hrs"),n("obAt"),!1,null,null,null);t.exports=r.exports},"+66z":function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},"+JtJ":function(t,e){var n="Expected a function";t.exports=function(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},"+X65":function(t,e,n){var r=n("O4Lo"),o=n("yCNF"),i="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},"+gg+":function(t,e,n){var r=n("TQ3y")["__core-js_shared__"];t.exports=r},"+guE":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("oTFi"),c=n("abp6"),u=n.n(c),l=n("Jaym"),f=n("Ngrm"),d=n("7/oE"),h=n("M7Fo");e.default=o.a.extend({components:{VueModal:u.a},mixins:[Object(d.a)(!1)],data:function(){return{id:null,dsc:"",name:"",sending:!1}},created:function(){l.b.on("showBookmarkModal",this.showModal.bind(this)),s.a.on("close",this.modalClosed.bind(this)),this._autoMount()},methods:{showModal:function(t){var e=this;this._editingItem=t,this.id=t.book_id,this.dsc=t.dsc||"",this.name=t.manga_name,s.a.show(this.$refs.editBook.$el),Object(l.c)(function(){return e.$refs.input.focus()},300)},closeModal:function(){s.a.close()},modalClosed:function(){this.dsc="",this.id=null,this._editingItem=null},saveComment:function(){var t=this,e={desc:this.dsc,book_id:this.id};s.a.disabled||this.sending||(s.a.disable(),this.sending=!0,a.a.post("/bookmark/save-desc",e).then(function(){t._editingItem.dsc=t.dsc,t.sending=!1,s.a.enable().close(),h.a.emit("resetCacheTime"),f.a.confirm("Сохранено")}).catch(function(e){var n=e.response.data.message,r=void 0===n?"Произошла ошибка":n;f.a.alert(r),s.a.enable(),t.sending=!1}))}}})},"+nGo":function(t,e,n){var r,o,i;i=function(){function t(t,e,n){var r,o=e.day[1];do{r=new Date(Date.UTC(n,e.month,Math.abs(o++)))}while(e.day[0]<7&&r.getUTCDay()!=e.day[0]);return(r={clock:e.clock,sort:r.getTime(),rule:e,save:6e4*e.save,offset:t.offset})[r.clock]=r.sort+6e4*e.time,r.posix?r.wallclock=r[r.clock]+(t.offset+e.saved):r.posix=r[r.clock]-(t.offset+e.saved),r}function e(e,n,r){var o,i,a,s,c,u,l,f=e[e.zone],d=[],h=new Date(r).getUTCFullYear(),p=1;for(o=1,i=f.length;o<i&&!(f[o][n]<=r);o++);if((a=f[o]).rules){for(u=e[a.rules],l=h+1;l>=h-p;--l)for(o=0,i=u.length;o<i;o++)u[o].from<=l&&l<=u[o].to?d.push(t(a,u[o],l)):u[o].to<l&&1==p&&(p=l-u[o].to);for(d.sort(function(t,e){return t.sort-e.sort}),o=0,i=d.length;o<i;o++)r>=d[o][n]&&d[o][d[o].clock]>a[d[o].clock]&&(s=d[o])}return s&&((c=/^(.*)\/(.*)$/.exec(a.format))?s.abbrev=c[s.save?2:1]:s.abbrev=a.format.replace(/%s/,s.rule.letter)),s||a}function n(t,n){return"UTC"==t.zone?n:(t.entry=e(t,"posix",n),n+t.entry.offset+t.entry.save)}function r(t,n){return"UTC"==t.zone?n:(t.entry=r=e(t,"wallclock",n),0<(o=n-r.wallclock)&&o<r.save?null:n-r.offset-r.save);var r,o}function o(t,e,o){var i,s=+(o[1]+1),u=o[2]*s,l=a.indexOf(o[3].toLowerCase());if(l>9)e+=u*c[l-10];else{if(i=new Date(n(t,e)),l<7)for(;u;)i.setUTCDate(i.getUTCDate()+s),i.getUTCDay()==l&&(u-=s);else 7==l?i.setUTCFullYear(i.getUTCFullYear()+u):8==l?i.setUTCMonth(i.getUTCMonth()+u):i.setUTCDate(i.getUTCDate()+u);null==(e=r(t,i.getTime()))&&(e=r(t,i.getTime()+864e5*s)-864e5*s)}return e}var i={clock:function(){return+new Date},zone:"UTC",entry:{abbrev:"UTC",offset:0,save:0},UTC:1,z:function(t,e,n,r){var o,i,a=this.entry.offset+this.entry.save,s=Math.abs(a/1e3),c=[],u=3600;for(o=0;o<3;o++)c.push(("0"+Math.floor(s/u)).slice(-2)),s%=u,u/=60;return"^"!=n||a?("^"==n&&(r=3),3==r?(i=(i=c.join(":")).replace(/:00$/,""),"^"!=n&&(i=i.replace(/:00$/,""))):r?(i=c.slice(0,r+1).join(":"),"^"==n&&(i=i.replace(/:00$/,""))):i=c.slice(0,2).join(""),i=(i=(a<0?"-":"+")+i).replace(/([-+])(0)/,{_:" $1","-":"$1"}[n]||"$1$2")):"Z"},"%":function(t){return"%"},n:function(t){return"\n"},t:function(t){return"\t"},U:function(t){return u(t,0)},W:function(t){return u(t,1)},V:function(t){return l(t)[0]},G:function(t){return l(t)[1]},g:function(t){return l(t)[1]%100},j:function(t){return Math.floor((t.getTime()-Date.UTC(t.getUTCFullYear(),0))/864e5)+1},s:function(t){return Math.floor(t.getTime()/1e3)},C:function(t){return Math.floor(t.getUTCFullYear()/100)},N:function(t){return t.getTime()%1e3*1e6},m:function(t){return t.getUTCMonth()+1},Y:function(t){return t.getUTCFullYear()},y:function(t){return t.getUTCFullYear()%100},H:function(t){return t.getUTCHours()},M:function(t){return t.getUTCMinutes()},S:function(t){return t.getUTCSeconds()},e:function(t){return t.getUTCDate()},d:function(t){return t.getUTCDate()},u:function(t){return t.getUTCDay()||7},w:function(t){return t.getUTCDay()},l:function(t){return t.getUTCHours()%12||12},I:function(t){return t.getUTCHours()%12||12},k:function(t){return t.getUTCHours()},Z:function(t){return this.entry.abbrev},a:function(t){return this[this.locale].day.abbrev[t.getUTCDay()]},A:function(t){return this[this.locale].day.full[t.getUTCDay()]},h:function(t){return this[this.locale].month.abbrev[t.getUTCMonth()]},b:function(t){return this[this.locale].month.abbrev[t.getUTCMonth()]},B:function(t){return this[this.locale].month.full[t.getUTCMonth()]},P:function(t){return this[this.locale].meridiem[Math.floor(t.getUTCHours()/12)].toLowerCase()},p:function(t){return this[this.locale].meridiem[Math.floor(t.getUTCHours()/12)]},R:function(t,e){return this.convert([e,"%H:%M"])},T:function(t,e){return this.convert([e,"%H:%M:%S"])},D:function(t,e){return this.convert([e,"%m/%d/%y"])},F:function(t,e){return this.convert([e,"%Y-%m-%d"])},x:function(t,e){return this.convert([e,this[this.locale].date])},r:function(t,e){return this.convert([e,this[this.locale].time12||"%I:%M:%S"])},X:function(t,e){return this.convert([e,this[this.locale].time24])},c:function(t,e){return this.convert([e,this[this.locale].dateTime])},convert:function(t){if(!t.length)return"1.0.22";var e,i,a,c,u,l=Object.create(this),f=[];for(e=0;e<t.length;e++)if(c=t[e],Array.isArray(c))e||isNaN(c[1])?c.splice.apply(t,[e--,1].concat(c)):u=c;else if(isNaN(c)){if("string"==(a=typeof c))~c.indexOf("%")?l.format=c:e||"*"!=c?!e&&(a=/^(\d{4})-(\d{2})-(\d{2})(?:[T\s](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d+))?)?(Z|(([+-])(\d{2}(:\d{2}){0,2})))?)?$/.exec(c))?((u=[]).push.apply(u,a.slice(1,8)),a[9]?(u.push(a[10]+1),u.push.apply(u,a[11].split(/:/))):a[8]&&u.push(1)):/^\w{2,3}_\w{2}$/.test(c)?l.locale=c:(a=s.exec(c))?f.push(a):l.zone=c:u=c;else if("function"==a){if(a=c.call(l))return a}else if(/^\w{2,3}_\w{2}$/.test(c.name))l[c.name]=c;else if(c.zones){for(a in c.zones)l[a]=c.zones[a];for(a in c.rules)l[a]=c.rules[a]}}else e||(u=c);if(l[l.locale]||delete l.locale,l[l.zone]||delete l.zone,null!=u){if("*"==u)u=l.clock();else if(Array.isArray(u)){for(a=[],i=!u[7],e=0;e<11;e++)a[e]=+(u[e]||0);--a[1],u=Date.UTC.apply(Date.UTC,a)+-a[7]*(36e5*a[8]+6e4*a[9]+1e3*a[10])}else u=Math.floor(u);if(!isNaN(u)){if(i&&(u=r(l,u)),null==u)return u;for(e=0,i=f.length;e<i;e++)u=o(l,u,f[e]);return l.format?(a=new Date(n(l,u)),l.format.replace(/%([-0_^]?)(:{0,3})(\d*)(.)/g,function(t,e,n,r,o){var i,s,c="0";if(i=l[o]){for(t=String(i.call(l,a,u,e,n.length)),"_"==(e||i.style)&&(c=" "),s="-"==e?0:i.pad||0;t.length<s;)t=c+t;for(s="-"==e?0:r||i.pad;t.length<s;)t=c+t;"N"==o&&s<t.length&&(t=t.slice(0,s)),"^"==e&&(t=t.toUpperCase())}return t})):u}}return function(){return l.convert(arguments)}},locale:"en_US",en_US:{date:"%m/%d/%Y",time24:"%I:%M:%S %p",time12:"%I:%M:%S %p",dateTime:"%a %d %b %Y %I:%M:%S %p %Z",meridiem:["AM","PM"],month:{abbrev:"Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec".split("|"),full:"January|February|March|April|May|June|July|August|September|October|November|December".split("|")},day:{abbrev:"Sun|Mon|Tue|Wed|Thu|Fri|Sat".split("|"),full:"Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday".split("|")}}},a="Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|year|month|day|hour|minute|second|millisecond",s=new RegExp("^\\s*([+-])(\\d+)\\s+("+a+")s?\\s*$","i"),c=[36e5,6e4,1e3,1];function u(t,e){var n,r,o;return r=new Date(Date.UTC(t.getUTCFullYear(),0)),n=Math.floor((t.getTime()-r.getTime())/864e5),r.getUTCDay()==e?o=0:8==(o=7-r.getUTCDay()+e)&&(o=1),n>=o?Math.floor((n-o)/7)+1:0}function l(t){var e,n,r;return n=t.getUTCFullYear(),e=new Date(Date.UTC(n,0)).getUTCDay(),(r=u(t,1)+(e>1&&e<=4?1:0))?53!=r||4==e||3==e&&29==new Date(n,1,29).getDate()?[r,t.getUTCFullYear()]:[1,t.getUTCFullYear()+1]:(n=t.getUTCFullYear()-1,[r=4==(e=new Date(Date.UTC(n,0)).getUTCDay())||3==e&&29==new Date(n,1,29).getDate()?53:52,t.getUTCFullYear()-1])}return a=a.toLowerCase().split("|"),"delmHMSUWVgCIky".replace(/./g,function(t){i[t].pad=2}),i.N.pad=9,i.j.pad=3,i.k.style="_",i.l.style="_",i.e.style="_",function(){return i.convert(arguments)}},"object"==typeof t&&t.exports?t.exports=i():void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},"+opI":function(t,e,n){var r=n("hcE8"),o=n("izte"),i=n("wkr2"),a=n("l/2K"),s=n("C/Wh"),c=n("0Q51"),u=n("I1z2"),l=u.get,f=u.enforce,d=String(c).split("toString");o("inspectSource",function(t){return c.call(t)}),(t.exports=function(t,e,n,o){var c=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||i(n,"name",e),f(n).source=d.join("string"==typeof e?e:"")),t!==r?(c?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=n:i(t,e,n)):u?t[e]=n:s(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||c.call(this)})},"/09a":function(t,e,n){var r=n("AMIE"),o=n("YveC");t.exports=Object.keys||function(t){return r(t,o)}},"/GnY":function(t,e,n){var r=n("HT7L"),o=n("W529"),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},"/I3N":function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},"/bZI":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast"},[n("transition-group",{attrs:{tag:"div",name:"toast"},on:{"before-leave":t.leave}},t._l(t.items,function(e){return n("v-toast-item",{key:e.id,attrs:{item:e},on:{remove:t.remove}})}),1)],1)},staticRenderFns:[]}},"/lET":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile__content paper bookmark__wrapper "},[n("tabs",{attrs:{count:t.count},on:{changeTab:t.changeTab}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&t.hasBookmarks,expression:"!loading && hasBookmarks"}],ref:"list",staticClass:"media-cards-grid"},t._l(t.filteredBookmarks,function(e){return n("div",{key:e.manga_id,staticClass:"media-card-wrap"},[n("a",{staticClass:"media-card",attrs:{href:"/"+e.slug,"data-src":t._cover(e.slug,e.cover),"data-media-id":e.manga_id}},[n("div",{staticClass:"media-card__caption"},[n("h5",{staticClass:"media-card__subtitle"},[t._v(t._s(t.types[e.type_id]))]),t._v(" "),n("h3",{staticClass:"media-card__title line-clamp"},[t._v(t._s(e.rus_name||e.name))])])])])}),0),t._v(" "),t.loading?n("loader"):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.hasBookmarks,expression:"!loading && !hasBookmarks"}],staticClass:"bookmark__empty"},[n("div",{staticClass:"empty"},[t._v("\n      Здесь нет закладок\n    ")])])],1)},staticRenderFns:[]}},0:function(t,e,n){n("aZpi"),n("0R0H"),n("Ba9a"),n("fJbB"),n("I+QF"),t.exports=n("EdYQ")},"037f":function(t,e,n){var r=n("1oyr"),o=n("p0bc"),i=n("wSKX"),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},"08Ot":function(t,e,n){var r=n("VU/8")(n("7JXq"),n("3EKh"),!1,null,null,null);t.exports=r.exports},"08WP":function(t,e,n){var r;r=function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2));t.exports=r.default},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(9)),i=r(n(3)),a=n(4);e.default=function(){if("undefined"!=typeof window){var t={history:[]},e={offset:{},threshold:0,test:a.inViewport},n=(0,o.default)(function(){t.history.forEach(function(e){t[e].check()})},100);["scroll","resize","load"].forEach(function(t){return addEventListener(t,n)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(n).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var r=function(n){if("string"==typeof n){var r=[].slice.call(document.querySelectorAll(n));return t.history.indexOf(n)>-1?t[n].elements=r:(t[n]=(0,i.default)(r,e),t.history.push(n)),t[n]}};return r.offset=function(t){if(void 0===t)return e.offset;var n=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(n(t)?function(n){return e.offset[n]=t}:function(r){return n(t[r])?e.offset[r]=t[r]:null}),e.offset},r.threshold=function(t){return"number"==typeof t&&t>=0&&t<=1?e.threshold=t:e.threshold},r.test=function(t){return"function"==typeof t?e.test=t:e.test},r.is=function(t){return e.test(t,e)},r.offset(0),r}}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.options=n,this.elements=e,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return n(t,[{key:"check",value:function(){var t=this;return this.elements.forEach(function(e){var n=t.options.test(e,t.options),r=t.current.indexOf(e),o=r>-1,i=!n&&o;n&&!o&&(t.current.push(e),t.emit("enter",e)),i&&(t.current.splice(r,1),t.emit("exit",e))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var n=this.handlers[t].length;--n>-1;)this.handlers[t][n](e);return this}}]),t}();e.default=function(t,e){return new r(t,e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=function(t,e){var n=t.getBoundingClientRect(),r=n.top,o=n.right,i=n.bottom,a=n.left,s=n.width,c=n.height,u=i,l=window.innerWidth-a,f=window.innerHeight-r,d=o,h=e.threshold*s,p=e.threshold*c;return u>e.offset.top+p&&l>e.offset.right+h&&f>e.offset.bottom+p&&d>e.offset.left+h}},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var r=n(5),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){var r=n(1),o=n(8),i=n(10),a="Expected a function",s=Math.max,c=Math.min;t.exports=function(t,e,n){function u(e){var n=p,r=v;return p=v=void 0,_=e,g=t.apply(r,n)}function l(t){var n=t-y;return void 0===y||n>=e||n<0||w&&t-_>=m}function f(){var t=o();return l(t)?d(t):void(b=setTimeout(f,function(t){var n=e-(t-y);return w?c(n,m-(t-_)):n}(t)))}function d(t){return b=void 0,k&&p?u(t):(p=v=void 0,g)}function h(){var t=o(),n=l(t);if(p=arguments,v=this,y=t,n){if(void 0===b)return function(t){return _=t,b=setTimeout(f,e),O?u(t):g}(y);if(w)return b=setTimeout(f,e),u(y)}return void 0===b&&(b=setTimeout(f,e)),g}var p,v,m,g,b,y,_=0,O=!1,w=!1,k=!0;if("function"!=typeof t)throw new TypeError(a);return e=i(e)||0,r(n)&&(O=!!n.leading,m=(w="maxWait"in n)?s(i(n.maxWait)||0,e):m,k="trailing"in n?!!n.trailing:k),h.cancel=function(){void 0!==b&&clearTimeout(b),_=0,p=y=v=b=void 0},h.flush=function(){return void 0===b?g:d(o())},h}},function(t,e,n){var r=n(6);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(7),o=n(1),i="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e){t.exports=function(t){return t}}])},t.exports=r()},"09Qt":function(t,e,n){var r=n("uIr7"),o=n("vi0E"),i=n("l9Lx"),a=n("C0hh"),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s},"0DSl":function(t,e,n){var r=n("YkxI"),o=n("zBOP");t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,a)}return e})}},"0LGO":function(t,e,n){var r=n("Eb96"),o=n("HAas"),i=n("l/2K"),a=n("1rEs").f,s=n("17Rs"),c=n("wjiB"),u=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(t){a(t,u,{value:{objectID:"O"+ ++l,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,u)){if(!f(t))return"F";if(!e)return"E";d(t)}return t[u].objectID},getWeakData:function(t,e){if(!i(t,u)){if(!f(t))return!0;if(!e)return!1;d(t)}return t[u].weakData},onFreeze:function(t){return c&&h.REQUIRED&&f(t)&&!i(t,u)&&d(t),t}};r[u]=!0},"0Q51":function(t,e,n){var r=n("izte");t.exports=r("native-function-to-string",Function.toString)},"0R0H":function(t,e){},"0tTY":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-row"},[t._m(0),t._v(" "),n("a",{ref:"notificationItem",staticClass:"notification-item",attrs:{href:t.notification.data.link,"data-type":t.notification.type},on:{mouseup:t.markAsRead,click:function(t){t.preventDefault()}}},[n("div",{staticClass:"notification-item__left"},[n("img",{staticClass:"notification-item__img",class:{"notification-item__img_cover":t.hasCover},attrs:{src:t.imgUrl}})]),t._v(" "),n("div",{staticClass:"notification-item__content"},[n("div",{staticClass:"notification-item__meta"},[n("b",{staticClass:"notification-item__username"},[t._v("\n          "+t._s(t.notification.data.user.username)+"\n        ")]),t._v(" "),n("timeago",{staticClass:"notification-item__date",attrs:{datetime:t.notification.created_at}})],1),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.titleByType)}}),t._v(" "),t.notification.data.manga?["chapter"===t.notification.type?n("span",[t._v("В манге")]):t._e(),t._v(" "),n("b",[t._v(t._s(t.mangaName))])]:t._e()],2)]),t._v(" "),n("div",{staticClass:"notification-item__remove tooltip",attrs:{"aria-label":"Прочитано","data-place":"left"},on:{click:function(e){return t.markRead(!0)}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notification-row__readinfo justify_between align-items_center text-center"},[e("div",{staticClass:"notification-row__readinfo-icon"},[e("i",{staticClass:"fa fa-check-circle"}),this._v(" "),e("span",[this._v("Прочитано")])])])}]}},"0uX4":function(t,e,n){var r=n("NkRn"),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},"0vOO":function(t,e,n){n("pkSX");var r=n("odTk");t.exports=r.Object.getOwnPropertyDescriptors},"11ho":function(t,e){void 0==document.createElement("div").style.webkitLineClamp&&document.body.classList.add("not-supported_line-clamp")},"16tV":function(t,e,n){var r=n("tO4o"),o=n("ktak");t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},"17Rs":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},"1C79":function(t,e,n){var r=n("uIr7"),o=n("Qp3N");t.exports=function t(e,n,i,a,s){var c=-1,u=e.length;for(i||(i=o),s||(s=[]);++c<u;){var l=e[c];n>0&&i(l)?n>1?t(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},"1H03":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("abp6"),a=n.n(i),s=n("oTFi"),c=n("7/oE");e.default=o.a.extend({components:{VueModal:a.a},mixins:[Object(c.a)()],methods:{openModal:function(t){s.a.close().show(t)}}})},"1Jaj":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark__content"},[t.settings.hideCover?t._e():n("div",{staticClass:"bookmark__cover"},[n("img",{attrs:{src:t._coverThumb(t.item.slug,!0),alt:t.item.manga_name},on:{"~error":function(e){return t.imageError(e)}}})]),t._v(" "),n("div",{staticClass:"bookmark__info"},[n("div",{staticClass:"bookmark__info-header"},[n("a",{staticClass:"bookmark__manga-name",attrs:{href:t.item.slug}},[t._v(t._s(t.item.manga_name))]),t._v(" "),t.chapters.length?n("a",{staticClass:"bookmark__last-book tooltip",attrs:{href:t.lastBookmark,"aria-label":"Перейти к последней закладке","data-place":"top-start"}},[t._v(t._s(t.lastBookText))]):t._e()]),t._v(" "),n("div",{staticClass:"bookmark__info-subheader"},[n("span",[t._v(t._s(t.item.rus_name))]),t._v(" "),t.item.last_chapter?n("a",{staticClass:"bookmark__last-chapter",attrs:{"data-new":t.isNewChapter,href:t.chapterUrl(t.item.last_chapter)}},[t._v("\n        Последняя глава - "+t._s(t.item.last_chapter.number)+" "),n("span",[t._v(t._s(t.item.last_chapter.name))])]):t._e()]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.settings.comments,expression:"settings.comments"}],staticClass:"bookmark__comment",class:{bookmark__comment_empty:!t.item.dsc}},[n("div",{staticClass:"bookmark__comment-text",on:{click:t.addComment}},[n("svg",{staticClass:"bookmark__comment-icon"},[n("use",{directives:[{name:"show",rawName:"v-show",value:t.item.dsc,expression:"item.dsc"}],attrs:{"xlink:href":"#icon-edit"}}),t._v(" "),n("use",{directives:[{name:"show",rawName:"v-show",value:!t.item.dsc,expression:"!item.dsc"}],attrs:{"xlink:href":"#icon-plus"}})]),t._v(" "),n("span",[t._v(t._s(t.commentText))])])])])])},staticRenderFns:[]}},"1QDk":function(t,e,n){var r=n("tv3T"),o=n("09Qt");t.exports=function(t,e){return r(t,o(t),e)}},"1UPi":function(t,e,n){"use strict";e.b=function(t){var e={params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};o.a.get("/chat",e).then(function(e){var n=e.data;t&&t(null,n)}).catch(t)},e.d=s,e.c=function(t){var e=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},s(),{},i.w.get("chat",{}));return t?e[t]:e},e.a=function(t,e,n){return Math.min(Math.max(t,e),n)};var r=n("mtWM"),o=n.n(r),i=n("Jaym");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e={settings:{alwaysOpen:!1,allPage:!1,inWindow:!1,unpinned:!1},pos:{right:20,bottom:0},size:{w:285,h:520}};return t?e[t]:e}},"1Vro":function(t,e,n){var r=n("Qr4f"),o=n("KF7L");t.exports={distanceInWords:r(),format:o()}},"1Yb9":function(t,e,n){var r=n("mgnk"),o=n("UnEC"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},"1klX":function(t,e,n){var r=n("VU/8")(n("FHdR"),n("J9xb"),!1,null,null,null);t.exports=r.exports},"1oyr":function(t,e){t.exports=function(t){return function(){return t}}},"1rEs":function(t,e,n){var r=n("q0qZ"),o=n("K6eN"),i=n("5+O3"),a=n("whWw"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"22B7":function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},"22C0":function(t,e,n){(function(e){var n,r;r=function(){return function t(e,r,o){function i(s,c){if(!r[s]){if(!e[s]){if(!c&&("function"==typeof n&&n))return n(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n||t)},l,l.exports,t,e,r,o)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,n,r){(function(t){"use strict";var e,r,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),e=function(){s.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,e=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;r=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}r=!1}n.exports=function(t){1!==u.push(t)||r||e()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==o&&h(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(t,e,n){r(function(){var r;try{r=e(n)}catch(e){return i.reject(t,e)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)})}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function h(t,e){var n=!1;function r(e){n||(n=!0,i.reject(t,e))}function o(e){n||(n=!0,i.resolve(t,e))}var a=p(function(){e(o,r)});"error"===a.status&&r(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=u,u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(o);this.state!==c?f(n,this.state===s?t:e,this.outcome):this.queue.push(new l(n,t,e));return n},l.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){i.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},i.resolve=function(t,e){var n=p(d,e);if("error"===n.status)return i.reject(t,n.value);var r=n.value;if(r)h(t,r);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},u.resolve=function(t){if(t instanceof this)return t;return i.resolve(new this(o),t)},u.reject=function(t){var e=new this(o);return i.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var a=new Array(n),s=0,c=-1,u=new this(o);for(;++c<n;)l(t[c],c);return u;function l(t,o){e.resolve(t).then(function(t){a[o]=t,++s!==n||r||(r=!0,i.resolve(u,a))},function(t){r||(r=!0,i.reject(u,t))})}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var a=-1,s=new this(o);for(;++a<n;)c=t[a],e.resolve(c).then(function(t){r||(r=!0,i.resolve(s,t))},function(t){r||(r=!0,i.reject(s,t))});var c;return s}},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function i(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function s(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function c(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function u(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",d=void 0,h={},p=Object.prototype.toString,v="readonly",m="readwrite";function g(t){return"boolean"==typeof d?a.resolve(d):function(t){return new a(function(e){var n=t.transaction(f,m),r=i([""]);n.objectStore(f).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return d=t})}function b(t){var e=h[t.name],n={};n.promise=new a(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function y(t){var e=h[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function _(t,e){var n=h[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function O(t,e){return new a(function(n,r){if(h[t.name]=h[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);b(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var a=o.open.apply(o,i);e&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(f)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),y(t)}})}function w(t){return O(t,!1)}function k(t){return O(t,!0)}function j(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,o=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function x(t){return i([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}(atob(t.data))],{type:t.type})}function C(t){return t&&t.__local_forage_encoded_blob}function E(t){var e=this,n=e._initReady().then(function(){var t=h[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return c(n,t,t),n}function S(t,e,n,r){void 0===r&&(r=1);try{var o=t.db.transaction(t.storeName,e);n(null,o)}catch(o){if(r>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),k(t)}).then(function(){return function(t){b(t);for(var e=h[t.name],n=e.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,w(t).then(function(e){return t.db=e,j(t)?k(t):e}).then(function(r){t.db=e.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r}).catch(function(e){throw _(t,e),e})}(t).then(function(){S(t,e,n,r-1)})}).catch(n);n(o)}}var T={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var o=h[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},h[n.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=E);var i=[];function s(){return a.resolve()}for(var c=0;c<o.forages.length;c++){var u=o.forages[c];u!==e&&i.push(u._initReady().catch(s))}var l=o.forages.slice(0);return a.all(i).then(function(){return n.db=o.db,w(n)}).then(function(t){return n.db=t,j(n,e._defaultConfig.version)?k(n):t}).then(function(t){n.db=o.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var i=l[r];i!==e&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}})},_support:function(){try{if(!o)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){S(n._dbInfo,v,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;C(r)&&(r=x(r));var o=t(r,n.key,s++);void 0!==o?e(o):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(t){r(t)}})}).catch(r)});return s(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new a(function(e,r){n.ready().then(function(){S(n._dbInfo,v,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),C(t)&&(t=x(t)),e(t)},a.onerror=function(){r(a.error)}}catch(t){r(t)}})}).catch(r)});return s(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var o=new a(function(n,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===p.call(e)?g(i.db).then(function(t){return t?e:(n=e,new a(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e}).then(function(e){S(r._dbInfo,m,function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var c=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){var t=c.error?c.error:c.transaction.error;o(t)}}catch(t){o(t)}})}).catch(o)});return s(o,n),o},removeItem:function(t,e){var n=this;t=u(t);var r=new a(function(e,r){n.ready().then(function(){S(n._dbInfo,m,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(t);i.oncomplete=function(){e()},i.onerror=function(){r(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(t){r(t)}})}).catch(r)});return s(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){S(e._dbInfo,m,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName).clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=i.error?i.error:i.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return s(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){S(e._dbInfo,v,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName).count();i.onsuccess=function(){t(i.result)},i.onerror=function(){n(i.error)}}catch(t){n(t)}})}).catch(n)});return s(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){t<0?e(null):n.ready().then(function(){S(n._dbInfo,v,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,c=a.openCursor();c.onsuccess=function(){var n=c.result;n?0===t?e(n.key):s?e(n.key):(s=!0,n.advance(t)):e(null)},c.onerror=function(){r(c.error)}}catch(t){r(t)}})}).catch(r)});return s(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){S(e._dbInfo,v,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName).openCursor(),a=[];i.onsuccess=function(){var e=i.result;e?(a.push(e.key),e.continue()):t(a)},i.onerror=function(){n(i.error)}}catch(t){n(t)}})}).catch(n)});return s(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n,r=this.config();if((t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),t.name){var i=t.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):w(t).then(function(e){var n=h[t.name],r=n.forages;n.db=e;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=e;return e});n=t.storeName?i.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;b(t);var r=h[t.name],i=r.forages;e.close();for(var s=0;s<i.length;s++){var c=i[s];c._dbInfo.db=null,c._dbInfo.version=n}return new a(function(e,r){var i=o.open(t.name,n);i.onerror=function(t){i.result.close(),r(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<i.length;e++){var n=i[e];n._dbInfo.db=t,y(n._dbInfo)}}).catch(function(e){throw(_(t,e)||a.resolve()).catch(function(){}),e})}}):i.then(function(e){b(t);var n=h[t.name],r=n.forages;e.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new a(function(e,n){var r=o.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)y(r[e]._dbInfo)}).catch(function(e){throw(_(t,e)||a.resolve()).catch(function(){}),e})})}else n=a.reject("Invalid arguments");return s(n,e),n}};var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P="~~local_forage_type~",N=/^~~local_forage_type~([^~]+)~/,I="__lfsc__:",M=I.length,L="arbf",D="blob",R="si08",q="ui08",B="uic8",F="si16",U="si32",z="ur16",H="ui32",$="fl32",W="fl64",G=M+L.length,Y=Object.prototype.toString;function V(t){var e,n,r,o,i,a=.75*t.length,s=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),l=new Uint8Array(u);for(e=0;e<s;e+=4)n=A.indexOf(t[e]),r=A.indexOf(t[e+1]),o=A.indexOf(t[e+2]),i=A.indexOf(t[e+3]),l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|o>>2,l[c++]=(3&o)<<6|63&i;return u}function K(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=A[n[e]>>2],r+=A[(3&n[e])<<4|n[e+1]>>4],r+=A[(15&n[e+1])<<2|n[e+2]>>6],r+=A[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Z={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var r,o=I;t instanceof ArrayBuffer?(r=t,o+=L):(r=t.buffer,"[object Int8Array]"===n?o+=R:"[object Uint8Array]"===n?o+=q:"[object Uint8ClampedArray]"===n?o+=B:"[object Int16Array]"===n?o+=F:"[object Uint16Array]"===n?o+=z:"[object Int32Array]"===n?o+=U:"[object Uint32Array]"===n?o+=H:"[object Float32Array]"===n?o+=$:"[object Float64Array]"===n?o+=W:e(new Error("Failed to get type for BinaryArray"))),e(o+K(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=P+t.type+"~"+K(this.result);e(I+D+n)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,M)!==I)return JSON.parse(t);var e,n=t.substring(G),r=t.substring(M,G);if(r===D&&N.test(n)){var o=n.match(N);e=o[1],n=n.substring(o[0].length)}var a=V(n);switch(r){case L:return a;case D:return i([a],{type:e});case R:return new Int8Array(a);case q:return new Uint8Array(a);case B:return new Uint8ClampedArray(a);case F:return new Int16Array(a);case z:return new Uint16Array(a);case U:return new Int32Array(a);case H:return new Uint32Array(a);case $:return new Float32Array(a);case W:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:V,bufferToString:K};function J(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function X(t,e,n,r,o,i){t.executeSql(n,r,o,function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,s){s.rows.length?i(t,a):J(t,e,function(){t.executeSql(n,r,o,i)},i)},i):i(t,a)},i)}var Q={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var o=new a(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction(function(o){J(o,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=Z,o},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){X(n,o,"SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var c=i.item(s),u=c.value;if(u&&(u=o.serializer.deserialize(u)),void 0!==(u=t(u,c.key,s+1)))return void e(u)}e()},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new a(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){X(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},setItem:function(t,e,n){return function t(e,n,r,o){var i=this;e=u(e);var c=new a(function(a,s){i.ready().then(function(){void 0===n&&(n=null);var c=n,u=i._dbInfo;u.serializer.serialize(n,function(n,l){l?s(l):u.db.transaction(function(t){X(t,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){a(c)},function(t,e){s(e)})},function(n){if(n.code===n.QUOTA_ERR){if(o>0)return void a(t.apply(i,[e,c,r,o-1]));s(n)}})})}).catch(s)});return s(c,r),c}.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=u(t);var r=new a(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){X(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){X(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){X(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){X(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){X(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);t(r)},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;return s(r=t.name?new a(function(e){var r;r=t.name===n.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e(function(t){return new a(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);e({db:t,storeNames:o})},function(t,e){n(e)})},function(t){n(t)})})}(r))}).then(function(t){return new a(function(e,n){t.db.transaction(function(r){function o(t){return new a(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var i=[],s=0,c=t.storeNames.length;s<c;s++)i.push(o(t.storeNames[s]));a.all(i).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):a.reject("Invalid arguments"),e),r}};function tt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function et(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var nt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=tt(t,this._defaultConfig),et()?(this._dbInfo=e,e.serializer=Z,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=e.serializer.deserialize(u)),void 0!==(u=t(u,c.substring(o),a++)))return u}}});return s(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return s(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var o=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new a(function(o,i){var a=r._dbInfo;a.serializer.serialize(e,function(e,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+t,e),o(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}})})});return s(o,n),o},removeItem:function(t,e){var n=this;t=u(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return s(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return s(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return s(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return s(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&r.push(i.substring(t.keyPrefix.length))}return r});return s(n,t),n},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,o=this;return s(r=t.name?new a(function(e){t.storeName?e(tt(t,o._defaultConfig)):e(t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):a.reject("Invalid arguments"),e),r}},rt=function(t,e){for(var n,r,o=t.length,i=0;i<o;){if((n=t[i])===(r=e)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;i++}return!1},ot=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},it={},at={},st={INDEXEDDB:T,WEBSQL:Q,LOCALSTORAGE:nt},ct=[st.INDEXEDDB._driver,st.WEBSQL._driver,st.LOCALSTORAGE._driver],ut=["dropInstance"],lt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ut),ft={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dt(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function ht(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(ot(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var pt=new(function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),st)if(st.hasOwnProperty(n)){var r=st[n],o=r._driver;this[n]=o,it[o]||this.defineDriver(r)}this._defaultConfig=ht({},ft),this._config=ht({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new a(function(e,n){try{var r=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(o);for(var i=lt.concat("_initStorage"),c=0,u=i.length;c<u;c++){var l=i[c];if((!rt(ut,l)||t[l])&&"function"!=typeof t[l])return void n(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=a.reject(e);return s(n,arguments[arguments.length-1]),n}},n=0,r=ut.length;n<r;n++){var o=ut[n];t[o]||(t[o]=e(o))}}();var f=function(n){it[r]&&console.info("Redefining LocalForage driver: "+r),it[r]=t,at[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(f,n):f(!!t._support):f(!0)}catch(t){n(t)}});return c(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=it[t]?a.resolve(it[t]):a.reject(new Error("Driver not found."));return c(r,e,n),r},t.prototype.getSerializer=function(t){var e=a.resolve(Z);return c(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return c(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;ot(t)||(t=[t]);var o=this._getSupportedDrivers(t);function i(){r._config.driver=r.driver()}function s(t){return r._extend(t),i(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=u.then(function(){var t=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){r._driver=t._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var o=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(s).catch(n)}i();var c=new Error("No available storage method found.");return r._driverSet=a.reject(c),r._driverSet}()}}(o)})}).catch(function(){i();var t=new Error("No available storage method found.");return r._driverSet=a.reject(t),r._driverSet}),c(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!at[t]},t.prototype._extend=function(t){ht(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=lt.length;t<e;t++)dt(this,lt[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=pt},{3:3}]},{},[4])(4)},t.exports=r()}).call(e,n("DuR2"))},"25hp":function(t,e,n){var r=n("G7No");t.exports=function(t,e){var n=r(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},"2Hvv":function(t,e,n){var r=n("imBK");t.exports=function(t){return r(this.__data__,t)>-1}},"2N6f":function(t,e,n){var r=n("rCVp"),o=n("Q2wK"),i=n("WHce");t.exports=function(t){return i(o(t,void 0,r),t+"")}},"2Ot3":function(t,e,n){var r=n("VU/8")(n("c746"),n("fAhN"),!1,null,null,null);t.exports=r.exports},"2X2u":function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},"2hd7":function(t,e,n){var r=n("sTWb");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("5d68184a",r,!0,{})},"2lO8":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-chapter",class:{"media-chapter_new":t.chapter.isNew},attrs:{"data-volume":t.chapter.chapter_volume,"data-number":t.chapter.chapter_number,"data-teams":JSON.stringify(t.chapter.teams)}},[n("div",{staticClass:"media-chapter__icon media-chapter__icon_read",class:{"button_loading-inv":t.chapter.readLoading}},[n("i",{staticClass:"fa",class:{"fa-eye-slash":!t.chapter.isRead,"fa-eye":t.chapter.isRead}})]),t._v(" "),n("div",{staticClass:"media-chapter__body"},[n("div",{staticClass:"media-chapter__name text-truncate"},[n("a",{staticClass:"link-default",attrs:{href:t.chapterLink()}},[t._v("\n        Том "+t._s(t.chapter.chapter_volume)+" Глава "+t._s(t.chapter.chapter_number)+" "),t.chapter.chapter_name?[t._v(t._s(t.chapter.chapter_name))]:t._e()],2)]),t._v(" "),n("div",{staticClass:"media-chapter__date"},[t._v("\n      "+t._s(t._f("date")(t.chapter.chapter_created_at))+"\n    ")]),t._v(" "),n("a",{staticClass:"media-chapter__username text-truncate",attrs:{href:"/user/"+t.chapter.chapter_user_id}},[n("i",{staticClass:"fa fa-user-o fa-fw"}),t._v("\n      "+t._s(t.chapter.username)+"\n    ")])]),t._v(" "),t.hasMoreTeams&&"all"===t.teamFilter?n("div",{staticClass:"media-chapter__icon media-chapter__icon_team",attrs:{"data-chapter-dropdown":"read"}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-translate"}})])]):t._e(),t._v(" "),t.auth?[t.hasMoreTeams&&"all"===t.teamFilter?n("div",{staticClass:"media-chapter__icon media-chapter__icon_edit",attrs:{"data-chapter-dropdown":"edit"}},[n("i",{staticClass:"fa fa-pencil fa-fw"})]):n("a",{staticClass:"media-chapter__icon media-chapter__icon_edit link-default tooltip",attrs:{href:t.chapterLink("edit"),"data-place":"left","aria-label":"Редактировать главу"}},[n("i",{staticClass:"fa fa-pencil fa-fw"})])]:t._e(),t._v(" "),t.hasMoreTeams&&"all"===t.teamFilter&&t.auth?n("div",{staticClass:"media-chapter__icon media-chapter__icon_download",attrs:{"data-download-ref":t.chapter.chapter_volume+"-"+t.chapter.chapter_number,"data-chapter-dropdown":"download"}},[n("i",{staticClass:"fa fa-cloud-download fa-fw"})]):t.isManga?n("div",{staticClass:"media-chapter__icon media-chapter__icon_download tooltip",attrs:{"data-place":"left","aria-label":"Скачать главу","data-download-chapter":t.chapter.chapter_id,"data-download-ref":t.chapter.chapter_volume+"-"+t.chapter.chapter_number}},[n("i",{staticClass:"fa fa-cloud-download fa-fw"})]):t._e()],2)},staticRenderFns:[]}},"3Did":function(t,e,n){var r=n("uCi2");t.exports=function(t){return function(e){return r(e,t)}}},"3EKh":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-container"},[n("bookmarks-sidebar",{attrs:{count:t.count}}),t._v(" "),n("div",{staticClass:"bookmark-wrapper"},[n("div",{staticClass:"bookmark-input"},[n("input",{staticClass:"form__input bookmark-input__filter",attrs:{type:"text",placeholder:"Фильтр по названию манги"},on:{input:t.debounceFilter}}),t._v(" "),t._m(0),t._v(" "),t._m(1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.filteredBookmarks.length,expression:"filteredBookmarks.length"}],ref:"list",staticClass:"bookmark__list paper"},t._l(t.filteredBookmarks,function(e){return n("bookmark-item",{key:e.manga_id,attrs:{item:e,settings:t.settings}})}),1),t._v(" "),t.loading||t.filteredBookmarks.length?t._e():n("div",{staticClass:"bookmark__empty paper"},[n("div",{staticClass:"empty"},[t._v("\n        Здесь нет закладок\n      ")])]),t._v(" "),t.loading?n("loader"):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bookmark-input__btn button",attrs:{"data-open-modal":"#edit-folder-modal"}},[e("i",{staticClass:"fa fa-pencil"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bookmark-input__btn button",attrs:{"data-open-modal":"#bookmark-settings"}},[e("i",{staticClass:"fa fa-cog"})])}]}},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"3Nrx":function(t,e,n){var r=n("HAas"),o=n("jE8y");t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},"3U/7":function(t,e,n){var r=n("VU/8")(n("MFFc"),n("tJnk"),!1,function(t){n("2hd7")},null,null);t.exports=r.exports},"3mz+":function(t,e,n){var r=n("hcE8"),o=n("PedI"),i=n("a/rO"),a=n("wkr2"),s=n("jAiL"),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in o){var d=r[f],h=d&&d.prototype;if(h){if(h[c]!==l)try{a(h,c,l)}catch(t){h[c]=l}if(h[u]||a(h,u,f),o[f])for(var p in i)if(h[p]!==i[p])try{a(h,p,i[p])}catch(t){h[p]=i[p]}}}},"3nPg":function(t,e,n){var r=n("G7No"),o=6e4;t.exports=function(t,e){var n=r(t,e)/o;return n>0?Math.floor(n):Math.ceil(n)}},"3wP3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={inject:["store"],props:{item:{type:Object,default:function(){return{}}}},methods:{remove:function(){confirm("Удалить сообщение?")&&this.$emit("remove",this.item.id)}}}},"3y7u":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:{type:String,default:""},type:String,closeIcon:Boolean,titlePosition:String,title:String}}},"3znZ":function(t,e,n){var r=n("u/4p");t.exports=function(t){return r(t,{weekStartsOn:1})}},"40wi":function(t,e,n){var r=n("mWhC"),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},"43zn":function(t,e,n){var r=n("5+O3"),o=n("o/tC"),i=n("YveC"),a=n("Eb96"),s=n("N5RP"),c=n("P1fK"),u=n("siPu")("IE_PROTO"),l=function(){},f=function(){var t,e=c("iframe"),n=i.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f.prototype[i[n]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[u]=t):n=f(),void 0===e?n:o(n,e)},a[u]=!0},"4RiB":function(t,e){t.exports=function(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}},"5+O3":function(t,e,n){var r=n("HAas");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"5/Qr":function(t,e,n){var r=n("Kzd6"),o=n("6Git"),i=n("WyC4"),a=n("0uX4"),s=n("Ilb/"),c="[object Boolean]",u="[object Date]",l="[object Map]",f="[object Number]",d="[object RegExp]",h="[object Set]",p="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",_="[object Int8Array]",O="[object Int16Array]",w="[object Int32Array]",k="[object Uint8Array]",j="[object Uint8ClampedArray]",x="[object Uint16Array]",C="[object Uint32Array]";t.exports=function(t,e,n){var E=t.constructor;switch(e){case m:return r(t);case c:case u:return new E(+t);case g:return o(t,n);case b:case y:case _:case O:case w:case k:case j:case x:case C:return s(t,n);case l:return new E;case f:case p:return new E(t);case d:return i(t);case h:return new E;case v:return a(t)}}},"50oC":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal",attrs:{"data-type":t.type,tabindex:"-1"}},[n("div",{staticClass:"modal__inner"},[n("div",{staticClass:"modal__content",attrs:{"data-size":t.size}},[t.$slots.title||t.title?n("div",{staticClass:"modal__header"},[n("h3",{staticClass:"modal__title",class:t.titlePosition},[t._t("title",[t._v("\n            "+t._s(t.title)+"\n          ")])],2)]):t._e(),t._v(" "),t.closeIcon?n("div",{staticClass:"modal__close",attrs:{"data-close-modal":""}},[n("svg",{staticClass:"modal__close-icon"},[n("use",{attrs:{"xlink:href":"#icon-close"}})])]):t._e(),t._v(" "),t._t("default")],2)])])},staticRenderFns:[]}},"516i":function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("bookmark-folders-list",{class:this.className,attrs:{folders:this.filteredFolders,"show-deletion-button":this.showDeletionButton,size:"xs"},on:{selected:this.changeStatus,created:this.folderCreated}})},staticRenderFns:[]}},"5N57":function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Set");t.exports=r},"5Zxu":function(t,e,n){var r=n("sBat");t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},"5oa4":function(t,e,n){var r=n("VU/8")(n("hP5B"),n("EvHz"),!1,null,null,null);t.exports=r.exports},"607n":function(t,e){t.exports=function(t){return t instanceof Date}},"65ot":function(t,e,n){"use strict";var r=n("q0qZ"),o=n("r54x"),i=n("/09a"),a=n("fTzd"),s=n("NGss"),c=n("EJk4"),u=n("fkET"),l=Object.assign;t.exports=!l||o(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")})?function(t,e){for(var n=c(t),o=arguments.length,l=1,f=a.f,d=s.f;o>l;)for(var h,p=u(arguments[l++]),v=f?i(p).concat(f(p)):i(p),m=v.length,g=0;m>g;)h=v[g++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:l},"6Git":function(t,e,n){var r=n("Kzd6");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},"6Ikj":function(t,e,n){var r=n("VU/8")(n("ZlUE"),n("UuLt"),!1,null,null,null);t.exports=r.exports},"6MiT":function(t,e,n){var r=n("aCM0"),o=n("UnEC"),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},"6PBa":function(t,e,n){var r=n("Hxdr"),o=n("JyYQ"),i=n("CHen"),a=n("xond");t.exports=function(t,e){if(null==t)return{};var n=r(a(t),function(t){return[t]});return e=o(e),i(t,n,function(t,n){return e(t,n[0])})}},"6TKe":function(t,e,n){var r=n("VU/8")(n("+guE"),n("qAbW"),!1,null,null,null);t.exports=r.exports},"6Vnj":function(t,e,n){var r=n("VU/8")(n("gF/f"),n("AcyC"),!1,null,null,null);t.exports=r.exports},"6f0J":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark__item"},[n("div",{staticClass:"bookmark__body"},[n("v-checkbox",{attrs:{model:t.checked,value:t.item.manga_id,large:""},on:{change:t.change}}),t._v(" "),n("bookmark-info",{attrs:{settings:t.settings,"chapter-url":t.chapterUrl,item:t.item}}),t._v(" "),n("div",{staticClass:"bookmark__date"},[n("span",[t._v("Добавлено")]),t._v(" "),n("span",[t._v(t._s(t._f("formatDate")(t.item.created_at)))])]),t._v(" "),n("div",{staticClass:"bookmark__actions"},[t.item.chapters.length?n("div",{staticClass:"bookmark__action bookmark__drop-down",class:t.activeCls,on:{click:t.toggle}},[n("i",{staticClass:"fa fa-angle-down"})]):t._e()])],1),t._v(" "),n("collapse",{attrs:{visible:t.showChapters}},[n("transition-group",{staticClass:"bookmark__chapters",attrs:{name:"bookmark-remove",tag:"div"},on:{"before-leave":t.beforeLeave}},t._l(t.item.chapters,function(e,r){return n("bookmark-chapter",{key:e.book_id,attrs:{chapter:e,"manga-id":t.item.manga_id,"chapter-url":t.chapterUrl,index:r},on:{remove:t.remove}})}),1)],1)],1)},staticRenderFns:[]}},"6gl1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{direction:String,closeOnSelect:{type:Boolean,default:!0},outsideClose:{type:Boolean,default:!0}},data:function(){return{Menu:{isActive:!1,closeOnSelect:this.closeOnSelect,direction:this.direction,$el:null}}},provide:function(){return{Menu:this.Menu}},watch:{"Menu.isActive":function(t){t?document.addEventListener("click",this.outsideClickHandler):document.removeEventListener("click",this.outsideClickHandler)}},mounted:function(){this.Menu.$el=this.$el;var t=this.$el.querySelector("[data-dropdown-trigger]");t&&t.addEventListener("click",this.toggle)},methods:{toggle:function(){this.Menu.isActive=!this.Menu.isActive},outsideClickHandler:function(t){this.$el.contains(t.target)||this.toggle(t)}}}},"6kJs":function(t,e,n){var r=n("Hxdr"),o=n("JyYQ"),i=n("yzuE"),a=n("gpZ8"),s=n("S7p9"),c=n("Oo6K"),u=n("wSKX");t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[u],s(o));var f=i(t,function(t,n,o){return{criteria:r(e,function(e){return e(t)}),index:++l,value:t}});return a(f,function(t,e){return c(t,e,n)})}},"7/oE":function(t,e,n){"use strict";e.a=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,n={methods:{_autoMount:function(t){this.$mount(t),t||document.body.appendChild(this.$el)}}};return t&&(n.created=function(){this._autoMount(e)}),n}},"7JXq":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("O4Lo"),a=n.n(i),s=n("oqL2"),c=n.n(s),u=n("+X65"),l=n.n(u),f=n("I3G/"),d=n.n(f),h=n("3nPg"),p=n.n(h),v=n("mtWM"),m=n.n(v),g=n("tuWI"),b=n.n(g),y=n("Jaym"),_=n("u5FJ"),O=n("M7Fo"),w=n("93dL"),k=n.n(w),j=n("r8hV"),x=n.n(j);function C(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var E=0;e.default=d.a.extend({components:{BookmarkItem:x.a,BookmarksSidebar:k.a,Loader:b.a},data:function(){return{loading:!0,count:y.w.get("count",null)||Object(O.d)([])}},computed:{settings:function(){return O.b.settings},filter:function(){return O.b.filter},bookmarksByStatus:function(){var t=this;return"all"===this.filter.folder?O.b.bookmarks:O.b.bookmarks.filter(function(e){return e.status===t.filter.folder})},filteredBookmarks:function(){var t=this.bookmarksByStatus;if(this.filter.name){var e=new RegExp("".concat(this.filter.name),"i");t=t.filter(function(t){return e.test(t.manga_name)||e.test(t.rus_name)})}return!this.filter.name&&this.settings.onlyBookmarks&&(t=t.filter(function(t){return t.chapters.length>0})),E=t.length,t.slice(0,Math.min(this.filter.limit,E))}},watch:{settings:{deep:!0,handler:function(t){y.w.update("bookmarkSettings",t),this.sortBookmarks(),this.$nextTick(this.getListBottomPos)}}},created:function(){var t,e=(t=o.a.mark(function t(){var e,n,r,i,a,s=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._onScroll=l()(this.onScroll.bind(this),200),Object(_.c)(window,"scroll",this._onScroll),O.a.on("count",this.updateCount),O.a.on("updateCache",this.saveBookmarksStorage),e=function(t){O.b.bookmarks=t,s.sortBookmarks(),s.updateCount(),s.loading=!1},!O.c){t.next=16;break}return t.next=8,O.c.getItem("bookmarks");case 8:return n=t.sent,t.next=11,O.c.getItem("updatedAt");case 11:if(r=t.sent,!n||!n.length){t.next=16;break}if(e(n),!(r&&p()(Date.now(),r)<=12)){t.next=16;break}return t.abrupt("return");case 16:return t.prev=16,t.next=19,m.a.get("/bookmark/my-bookmarks");case 19:i=t.sent,(a=i.data).forEach(function(t){t.chapters=t.chapters.filter(function(e){return e.book_id!==t.book_id});var e=c()(t.chapters);e&&(t.updated_at=e.created_at)}),e(a),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(16),console.log(t.t0);case 28:case"end":return t.stop()}},t,this,[[16,25]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){C(i,r,o,a,s,"next",t)}function s(t){C(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}(),updated:function(){this.getListBottomPos()},methods:{sortBookmarks:function(){var t=this.settings.sort,e=function(e){return e[t.field].toLowerCase()};"created_at"===t.field&&(e=function(e){return new Date(e[t.field]).getTime()}),"chapter_created_at"===t.field&&(e=function(t){return t.last_chapter?new Date(t.last_chapter.created_at).getTime():0}),"chapter_reading"===t.field&&(e=function(t){return t.updated_at?new Date(t.updated_at).getTime():0}),O.b.bookmarks=Object(y.s)(O.b.bookmarks,t.type,e),O.a.emit("updateCache")},updateCount:function(){this.count=Object(O.d)(O.b.bookmarks),y.w.save("count",this.count)},debounceFilter:a()(function(t){this.filter.name=t.target.value},400),onScroll:function(){this.filter.limit>=E||pageYOffset+innerHeight>this.listPosBot&&(this.filter.limit+=O.e)},getListBottomPos:function(){this.listPosBot=Object(_.i)(this.$refs.list).bottom-innerHeight/2},saveBookmarksStorage:function(){O.c&&(O.c.setItem("bookmarks",O.b.bookmarks),O.c.setItem("updatedAt",Date.now()))}}})},"7UFo":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-reply"},[n("div",{ref:"editor",staticClass:"comment-reply__editor",attrs:{"aria-placeholder":"Введите ваш комментарий..."}}),t._v(" "),n("div",{staticClass:"comment-reply__controls"},[n("button",{staticClass:"comment-reply__send button_md button",class:t.btnClasses,attrs:{disabled:t.loading},on:{click:t.submitForm}},[n("i",{staticClass:"fa fa-paper-plane"}),t._v(t._s(t.editing?"Сохранить":"Отправить")+"\n    ")]),t._v(" "),n("div",{ref:"toolbar",staticClass:"comment-reply__toolbar"},t._l(t.buttons,function(t){return n("button",{key:t.action,staticClass:"button button_md button_icon",attrs:{"data-action":t.action}},[n("span",{class:["fa fa-"+t.icon]})])}),0)])])},staticRenderFns:[]}},"7YkW":function(t,e,n){var r=n("YeCl"),o=n("Cskv"),i=n("aQOO");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},"7e4z":function(t,e,n){var r=n("uieL"),o=n("1Yb9"),i=n("NGEn"),a=n("ggOT"),s=n("ZGh9"),c=n("YsVG"),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),d=!n&&!l&&!f&&c(t),h=n||l||f||d,p=h?r(t.length,String):[],v=p.length;for(var m in t)!e&&!u.call(t,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},"7hrs":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i);function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}e.default={props:{size:String},data:function(){return{loading:!1,name:""}},methods:{create:function(){var t,e=(t=o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading&&this.name.length){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,t.prev=3,t.next=6,a.a.post("/bookmark-folder",{name:this.name});case 6:e=t.sent,n=e.data,this.name="",this.$emit("created",n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0);case 15:this.loading=!1;case 16:case"end":return t.stop()}},t,this,[[3,12]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()}}},"7pyE":function(t,e,n){var r=n("mi1p"),o=n("o2mx"),i=n("5Zxu"),a=n("ZT2e");t.exports=function(t,e,n){return t=a(t),n=null==n?0:r(i(n),0,t.length),e=o(e),t.slice(n,n+e.length)==e}},"8/eq":function(t,e,n){"use strict";var r=n("dliL"),o=n("V+c1");t.exports=r("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},o)},"83Qj":function(t,e,n){var r=n("VU/8")(n("r66C"),n("KOco"),!1,function(t){n("bKo1")},null,null);t.exports=r.exports},"86tT":function(t,e,n){var r=n("gHOb"),o=n("UnEC"),i="[object Map]";t.exports=function(t){return o(t)&&r(t)==i}},"8AZL":function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},"8LNl":function(t,e,n){"use strict";var r=n("oTFi"),o=n("Ngrm"),i=n("LQly"),a=n("u5FJ"),s=n("Jaym");function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"options",{}),u(this,"nodes",null),u(this,"resetState",function(){e.options={},e.nodes.removeChildCheckbox.checked=!1,Object(s.f)(e.nodes.reasons,function(t){return t.checked=!1})}),u(this,"selectReason",function(t){var n=t.currentTarget;n.checked&&(e.options.data.reasonId=n.value)}),u(this,"onDeleteClick",function(t){t.preventDefault();var n=e.nodes.removeChildCheckbox.checked;if(!n&&null==e.options.data.reasonId)return o.a.alert("Укажите причину удаления");e.options.onSubmit&&(e.toggleLoading(!0),e.options.onSubmit(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){u(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({removeChilds:n},e.options.data)).then(function(){return e.close()}).catch(function(){return e.toggleLoading()}))}),this.init(),this.bindEvents()}var e,n,l;return e=t,(n=[{key:"init",value:function(){var t=Object(a.l)("#delete-comment-form");t&&(this.nodes={form:t,submitBtn:Object(a.l)('button[type="submit"]',t),reasons:Object(a.m)('input[name="reason_id"]',t),removeChildCheckbox:Object(a.l)('input[name="remove_childs"]',t)})}},{key:"bindEvents",value:function(){this.nodes&&(Object(a.c)(this.nodes.submitBtn,"click",this.onDeleteClick),Object(a.c)(this.nodes.reasons,"change",this.selectReason),r.a.on("closed",this.resetState))}},{key:"toggleLoading",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(i.a)(this.nodes.submitBtn,t),t?r.a.disable():r.a.enable()}},{key:"close",value:function(){this.toggleLoading(),r.a.close()}},{key:"show",value:function(t){this.options=t;var e=this.nodes.removeChildCheckbox.closest(".form__field");a.g.toggle(e,"hidden",Boolean(t.hideRemoveChilds)),r.a.show("#delete-by-reason")}}])&&c(e.prototype,n),l&&c(e,l),t}();e.a=new l},"8gK5":function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},"8jzl":function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"dropdown",class:this.Menu.isActive&&"dropdown_open"},[this._t("default")],2)},staticRenderFns:[]}},"8l6m":function(t,e,n){var r=n("VU/8")(n("Cjea"),n("B3LJ"),!1,null,null,null);t.exports=r.exports},"9+GO":function(t,e,n){var r=n("r54x");t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"93Ov":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("M7Fo"),a=n("7/oE");e.default=o.a.extend({mixins:[Object(a.a)()],data:function(){return i.b},computed:{isVisible:function(){return this.checked.length>0}},methods:{close:function(){this.checked=[]},toggleAll:function(){for(var t=[],e=0,n=this.bookmarks.length;e<n;e++){var r=this.bookmarks[e];if(r.status===this.filter.folder){if(this.settings.onlyBookmarks&&!r.chapters.length)continue;t.push(r.manga_id)}}this.checked=t}}})},"93dL":function(t,e,n){var r=n("VU/8")(n("FNVG"),n("O1Tq"),!1,null,null,null);t.exports=r.exports},"94sX":function(t,e,n){var r=n("dCZQ");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},"9O5E":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=window.__MANGA__;e.default={props:{chapter:Object,teamFilter:String,auth:Boolean,isManga:Boolean},computed:{hasMoreTeams:function(){return this.chapter.teams.length>1}},methods:{chapterLink:function(t){if("edit"===t){var e=this.chapter.chapter_id;return"all"!==this.teamFilter&&(e=this.chapter.teamsMap[this.teamFilter].chapterId),"/manga/".concat(r.id,"/chapter/").concat(e)}var n="/".concat(r.slug,"/v").concat(this.chapter.chapter_volume,"/c").concat(this.chapter.chapter_number);return"all"!==this.teamFilter?n="".concat(n,"?team=").concat(this.teamFilter):this.chapter.teams[0].slug&&(n="".concat(n,"?team=").concat(this.chapter.teams[0].slug)),n}}}},"9UkZ":function(t,e,n){var r=n("aCM0"),o=n("vi0E"),i=n("UnEC"),a="[object Object]",s=Function.prototype,c=Object.prototype,u=s.toString,l=c.hasOwnProperty,f=u.call(Object);t.exports=function(t){if(!i(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}},"9mDF":function(t,e,n){var r=n("fkET"),o=n("hiy0");t.exports=function(t){return r(o(t))}},A2uy:function(t,e,n){var r=n("9mDF"),o=n("xDUa"),i=n("40wi"),a=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),l=i(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},A6BG:function(t,e,n){var r=n("mWhC"),o=n("hiy0"),i=function(t){return function(e,n){var i,a,s=String(o(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},A7pH:function(t,e,n){"use strict";var r=n("0ZhK"),o=n.n(r),i=n("OvQW"),a=n.n(i),s=n("u5FJ"),c=n("Jaym");function u(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g={ALLOWED_TAGS:["b","s","i","u","blockquote","br","ul","li","ol"],ALLOWED_ATTR:[""],FORBID_TAGS:["style","class"],ALLOW_DATA_ATTR:!1};a.a.addHook("beforeSanitizeElements",function(t){return"SPAN"===t.nodeName&&("spoiler-title"===t.className&&(t.innerHTML="[spoiler=".concat(t.innerHTML,"]")),"spoiler-text"===t.className&&(t.innerHTML="".concat(t.innerHTML,"[/spoiler]"))),t}),o.a.prototype.spoiler=function(){var t=this.getSelectedText()||" ";return this.insertHTML("[spoiler=спойлер]".concat(t,"[/spoiler]")),this.focus(),this};var b=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=h(this,v(e).call(this,t,n)))._toolbar=n.toolbar||null,r._tags={italic:"i",bold:"b",strikethrough:"s",underline:"u",quote:"blockquote",orderedList:"ol",unorderedList:"ul"},r._actionMethods={quote:{add:"increaseQuoteLevel",remove:"decreaseQuoteLevel"},orderedList:{add:"makeOrderedList",remove:"removeList"},unorderedList:{add:"makeUnorderedList",remove:"removeList"},clear:"removeAllFormatting",spoiler:"spoiler",undo:"undo",redo:"redo"},r.bindEvents(),r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,o.a),n=e,(r=[{key:"bindEvents",value:function(){this._onToolbarClick=this.onToolbarClick.bind(this),Object(s.c)(this._toolbar,"click",this._onToolbarClick)}},{key:"onToolbarClick",value:function(t){t.preventDefault();var e,n=t.target.closest("[data-action]"),r=Object(s.f)(n,"data-action"),o=this._tags[r],i=this._actionMethods[r],a="remove";if(r){if(o)if(this.hasFormat(o)){var u=r.charAt(0).toUpperCase()+r.slice(1);e="remove".concat(u)}else e=r,a="add";i&&(e=Object(c.p)(i)?i:i[a]),e&&this[e]()}}},{key:"_wrapSpoilers",value:function(t,e){var n=/\[spoiler(=[^\]]*?)?\]([^[]*)\[\/spoiler\]/g,r="string"==typeof t?t:e;if(r&&r.match)for(;(r.match(n)||[]).length;)r=r.replace(n,function(t,e,n){return e?("="===e[0]&&(e=e.slice(1)),e=e.trim()):e="спойлер",n&&n.trim().length?(e=e.length?e:"спойлер",n=n.trim(),' <div class="comment__spoiler"><span class="spoiler-title">'.concat(e,'</span><span class="spoiler-text">').concat(n,"</span></div> ")):""});return r}},{key:"_removeEmptyBlocks",value:function(){for(var t=this._root,e=t.children,n=e.length;n--;){var r=e[n];if(r.textContent.trim().length)break;t.removeChild(r)}}},{key:"getParsedHTML",value:function(){this._removeEmptyBlocks();var t=this.getHTML(),e=a.a.sanitize(t,g);return this._wrapSpoilers(e,t)}},{key:"clearEditor",value:function(){this._root.innerHTML=""}},{key:"getTextContent",value:function(){var t=document.createElement("div");return t.innerHTML=this.getParsedHTML(),t.textContent.trim()}},{key:"contentLength",value:function(){return this.getTextContent().length}},{key:"isEmpty",value:function(){return!this.contentLength()}},{key:"destroy",value:function(){Object(s.b)(this._toolbar,"click",this._onToolbarClick),p(v(e.prototype),"destroy",this).call(this)}}])&&d(n.prototype,r),i&&d(n,i),e}(),y=function(t,e,n){var r,o=n._doc;return(r=t?a.a.sanitize(t,u({},g,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0})):null)?o.importNode(r,!0):o.createDocumentFragment()};e.a=function(t,e){if(Object(s.j)(t)){var n=new b(t,u({},e,{sanitizeToDOMFragment:y}));return n.addEventListener("focus",function(t){var e=t.target;s.g.add(e,"is-dirty")}),n}}},A9mX:function(t,e,n){var r=n("pTUa");t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},AMIE:function(t,e,n){var r=n("l/2K"),o=n("9mDF"),i=n("A2uy").indexOf,a=n("Eb96");t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},AZEo:function(t,e,n){var r=n("VU/8")(n("igvw"),n("pH57"),!1,null,null,null);t.exports=r.exports},AcyC:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"control"},[n("input",{staticClass:"control__input",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:t.isChecked},on:{change:t.onChange}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox",class:{control__indicator_lg:t.large}}),t._v(" "),t.$slots.default||t.label?n("span",{staticClass:"control__text"},[t._t("default",[t._v(t._s(t.label))])],2):t._e()])},staticRenderFns:[]}},"Ai/T":function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},B0gI:function(t,e,n){var r=n("VU/8")(n("qGuN"),n("0tTY"),!1,null,null,null);t.exports=r.exports},B3LJ:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notifications__wrapper"},[n("div",{staticClass:"notifications-header"},[n("v-dropdown",{staticClass:"notifications-header__dropdown"},[n("div",{staticClass:"notifications-header__icon notifications-header__icon_left",attrs:{"data-dropdown-trigger":""}},[n("i",{staticClass:"fa fa-cog"})]),t._v(" "),n("v-dropdown-menu",[n("div",{staticClass:"menu menu_xs"},[n("div",{staticClass:"menu__subheader"},[t._v("\n            Название манги\n          ")]),t._v(" "),n("div",{staticClass:"menu__item",class:{menu__item_active:"name"===t.settings.mangaNameProp},on:{click:function(e){return t.changeMangaName("name")}}},[t._v("\n            На английском\n          ")]),t._v(" "),n("div",{staticClass:"menu__item",class:{menu__item_active:"rus_name"===t.settings.mangaNameProp},on:{click:function(e){return t.changeMangaName("rus_name")}}},[t._v("\n            На русском\n          ")])])])],1),t._v(" "),n("h6",{staticClass:"notifications-header__title"},[t._v("\n      Уведомления\n    ")]),t._v(" "),n("div",{staticClass:"notifications-header__icon notifications-header__icon_right tooltip",attrs:{"aria-label":"Отметить всё как прочитанное","data-place":"left"},on:{click:t.markAllAsRead}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-check-list"}})])])],1),t._v(" "),n("div",{staticClass:"tabs notifications-filter"},[n("div",{staticClass:"tabs__wrapper"},[n("ul",{directives:[{name:"magic-line",rawName:"v-magic-line"}],staticClass:"tabs__list"},t._l(t.tabs,function(e,r){return n("li",{key:r,staticClass:"tabs__item",class:{tabs__item_active:r==t.activeTab},on:{click:function(e){return t.changeTab(r)}}},[n("span",[t._v(t._s(e.label))]),t._v(" "),n("span",{staticClass:"tabs__label"},[t._v(t._s(t._f("limit")(e.count)))])])}),0)])]),t._v(" "),n("div",{ref:"body",staticClass:"notifications__body"},[t.notifications.length?[n("transition-group",{staticClass:"notifications__list",attrs:{name:t.animationName,tag:"div"},on:{"before-leave":t.beforeLeave}},t._l(t.notifications,function(e){return n("v-notification-item",{key:e.id,attrs:{notification:e,"manga-name-prop":t.settings.mangaNameProp},on:{remove:t.removeNotification}})}),1)]:t._e(),t._v(" "),t.loading||t.notifications.length?t._e():n("div",{staticClass:"notifications__empty"},[t._v("\n      Нет новых уведомлений\n    ")]),t._v(" "),t.hasNextPage?n("v-loader",{staticClass:"notifications__loader",attrs:{size:"md"}}):t._e()],2)])},staticRenderFns:[]}},BEQ0:function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))o.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},BHJ2:function(t,e,n){var r=n("VU/8")(n("by+k"),n("516i"),!1,null,null,null);t.exports=r.exports},BUAs:function(t,e,n){var r=n("i4ON"),o=n("tv3T"),i=n("0DSl"),a=n("bGc4"),s=n("HT7L"),c=n("ktak"),u=Object.prototype.hasOwnProperty,l=i(function(t,e){if(s(e)||a(e))o(e,c(e),t);else for(var n in e)u.call(e,n)&&r(t,n,e[n])});t.exports=l},BV6Q:function(t,e,n){"use strict";var r=n("O4Lo"),o=n.n(r),i=n("u5FJ");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c={target:".tabs__item",active:".tabs__item_active",className:"tabs__line",onClick:!0},u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=n=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},c,{},n),this.el=e,this.target=n.target,this.onClick=this.onClick.bind(this),this.onResize=o()(this.moveLine.bind(this),300),this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.active=Object(i.l)(this.options.active,this.el),this.bindEvent(),this.appendLine(),this.moveLine(),this.line.style.display="block"}},{key:"bindEvent",value:function(){this.options.onClick&&Object(i.c)(this.el,"click",this.onClick),Object(i.c)(window,"resize",this.onResize)}},{key:"appendLine",value:function(){var t=document.createElement("div");t.className=this.options.className,t.style.display="none",this.line=this.el.appendChild(t)}},{key:"onClick",value:function(t){this._update(t.target)}},{key:"_update",value:function(t){var e=t?t.closest(this.options.target):Object(i.l)(this.options.active,this.el);e&&(this.active=e,this.moveLine())}},{key:"moveLine",value:function(){if(this.active){var t=this.active.offsetWidth,e=this.active.offsetLeft;this.line.style.width="".concat(t,"px"),this.line.style.left="".concat(e,"px")}}},{key:"destroy",value:function(){Object(i.b)(this.el,"click",this.onClick),Object(i.b)(window,"resize",this.onResize),this.el.removeChild(this.line)}}])&&s(e.prototype,n),r&&s(e,r),t}();e.a=u},Ba3q:function(t,e,n){var r=n("6kJs"),o=n("NGEn");t.exports=function(t,e,n,i){return null==t?[]:(o(e)||(e=null==e?[]:[e]),o(n=i?void 0:n)||(n=null==n?[]:[n]),r(t,e,n))}},Ba9a:function(t,e){},BiKz:function(t,e,n){"use strict";e.a=function(t,e,n,r){var o=Math.abs(t);if((o%=100)>=5&&o<=20)return r;if(1==(o%=10))return e;if(o>=2&&o<=4)return n;return r}},"C/Wh":function(t,e,n){var r=n("hcE8"),o=n("wkr2");t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},C0hh:function(t,e){t.exports=function(){return[]}},C1ru:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},CHen:function(t,e,n){var r=n("uCi2"),o=n("HAGj"),i=n("bIjD");t.exports=function(t,e,n){for(var a=-1,s=e.length,c={};++a<s;){var u=e[a],l=r(t,u);n(l,u)&&o(c,i(u,t),l)}return c}},CW5P:function(t,e,n){var r=n("T/bE"),o=n("duB3"),i=n("POb3");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},Cf65:function(t,e,n){var r=n("uCi2"),o=n("M1c9");t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},Cjea:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("kvU2"),i=n.n(o),a=n("I3G/"),s=n.n(a),c=n("mtWM"),u=n.n(c),l=n("u5FJ"),f=n("Jaym"),d=n("tuWI"),h=n.n(d),p=n("ryCm"),v=n.n(p),m=n("lelv"),g=n.n(m),b=n("B0gI"),y=n.n(b);function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=f.w.get("notifications",{mangaNameProp:"name"}),k={};e.default=s.a.extend({components:{VNotificationItem:y.a,VLoader:h.a,VDropdown:v.a,VDropdownMenu:g.a},filters:{limit:function(t){return t>99?"99+":t}},data:function(){return{tabs:{all:{label:"Все",count:0},chapter:{label:"Главы",count:0},comments:{label:"Комментарии",count:0},message:{label:"Сообщения",count:0},friend:{label:"Заявки",count:0},other:{label:"Другое",count:0}},activeTab:null,notifications:[],perPage:0,hasNextPage:!0,loading:!1,page:1,filter:"unread",settings:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){O(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},w),animationName:"notification"}},mounted:function(){var t=this;if(r=Object(l.l)(".notify__count_bell")){var e=Object(l.f)(r,"data-counter");e=JSON.parse(e),Object(f.f)(e,function(e,n){e>0&&!t.activeTab&&(t.activeTab=n),t.tabs[n].count=e}),this.fetchNotifications(),this.$refs.body.addEventListener("scroll",this.onScroll,{passive:!0})}else this.hasNextPage=!1,this.activeTab="all"},methods:{fetchNotifications:function(){var t=this,e={page:this.page,type:this.activeTab,ajax:!0};this.loading=!0,u.a.get("/notification",{params:e}).then(function(e){var n=e.data;t.addToCache(n.notifications),1===t.page?t.notifications=n.notifications:t.notifications=t.notifications.concat(n.notifications),t.hasNextPage=n.hasNextPage,t.perPage=n.perPage,t.loading=!1})},removeNotification:function(t){var e=Object(f.e)(this.notifications,function(e){return e.id===t}),n=this.notifications[e];if(this.notifications.splice(e,1),this.tabs[this.activeTab].count=Math.max(0,this.tabs[this.activeTab].count-1),"all"===this.activeTab){var r=this._getNotificationType(n);this.tabs[r].count=Math.max(0,this.tabs[r].count-1)}this.updateCounter(1),this.removeFromCache(t)},beforeLeave:function(t){t.style.height="".concat(t.offsetHeight,"px")},markAllAsRead:function(){var t=this;if(this.notifications.length&&!this.loading){var e=_(this.notifications),n=this.hasNextPage;this.updateCounter(1/0),Object(f.f)(this.tabs,function(t){t.count=0}),this.notifications=[],this.hasNextPage=!1,this.page=1,k={},u.a.post("/notification/read-all").catch(function(r){console.error(r),t.notifications=e,t.hasNextPage=n})}},onScroll:function(t){if(!this.loading&&this.hasNextPage){var e=t.currentTarget,n=e.scrollHeight-2*e.offsetHeight;e.scrollTop>=n&&(this.page+=1,this.fetchNotifications())}},changeMangaName:function(t){f.w.update("notifications",{mangaNameProp:t}),this.settings.mangaNameProp=t},updateCounter:function(t){if(r&&r.textContent.trim()){var e=parseInt(r.textContent,10)-t;r.textContent=e,e<=0&&r.parentNode.removeChild(r)}},changeTab:function(t){var e=this;this.loading||(this.$refs.body.scrollTop=0,this.activeTab=t,this.animationName="none",this.getFromCache(),this.hasNextPage&&1===this.page&&!this.notifications.length&&this.fetchNotifications(),this.$nextTick(function(){return e.animationName="notification"}))},addToCache:function(t){var e;this.activeTab in k||(k[this.activeTab]={items:[],page:1}),(e=k[this.activeTab].items).push.apply(e,_(i()(t))),k[this.activeTab].page=this.page},removeFromCache:function(t){var e=k[this.activeTab].items,n=Object(f.e)(e,function(e){return e.id===t});e.splice(n,1)},getFromCache:function(){var t=this.tabs[this.activeTab];if(this.hasNextPage=!1,this.activeTab in k){var e=i()(k[this.activeTab].items);this.notifications=e,this.page=k[this.activeTab].page,e.length<t.count&&(this.hasNextPage=!0)}else this.notifications=[],this.page=1,t.count>0&&(this.hasNextPage=!0)},_getNotificationType:function(t){return/comment|forum/.test(t.type)?"comments":/firend/.test(t.type)?"friend":/message/.test(t.type)?"message":"chapter"===t.type?"chapter":"other"}}})},CkJp:function(t,e,n){var r=n("VU/8")(n("DLqf"),n("rInL"),!1,null,null,null);t.exports=r.exports},Cskv:function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},D6ie:function(t,e,n){var r=n("xA5w"),o=n("3znZ"),i=n("iRXW"),a=6048e5;t.exports=function(t){var e=r(t),n=o(e).getTime()-i(e).getTime();return Math.round(n/a)+1}},DLqf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qrdl"),o=n.n(r),i=n("I3G/"),a=n.n(i),s=n("+35/"),c=n.n(s);e.default=a.a.extend({components:{CreateBookmarkFolderInput:c.a},props:{folders:Array,showDeletionButton:Boolean,size:String,enableCreation:{type:Boolean,default:!0},onClick:{type:Function,default:o.a}},methods:{onMenuItemClick:function(t){this.onClick(t),this.$emit("selected",t)}}})},DLrZ:function(t,e,n){var r=n("VU/8")(n("n/eG"),n("z0oX"),!1,null,null,null);t.exports=r.exports},DaqH:function(t,e,n){var r=n("VU/8")(n("TmPq"),n("plyo"),!1,null,null,null);t.exports=r.exports},Dc0G:function(t,e,n){(function(t){var r=n("blYT"),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(e,n("3IRH")(t))},Dc7M:function(t,e,n){var r=n("Hxdr"),o=n("Fkvj"),i=n("Vi3P"),a=n("bIjD"),s=n("tv3T"),c=n("dYhQ"),u=n("2N6f"),l=n("xond"),f=u(function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,function(e){return e=a(e,t),u||(u=e.length>1),e}),s(t,l(t),n),u&&(n=o(n,7,c));for(var f=e.length;f--;)i(n,e[f]);return n});t.exports=f},Dv2r:function(t,e,n){var r=n("pTUa");t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},E4Hj:function(t,e){t.exports=function(t){return this.__data__.get(t)}},EHRO:function(t,e,n){var r=n("NkRn"),o=n("qwTf"),i=n("22B7"),a=n("FhcP"),s=n("WFiI"),c=n("octw"),u=1,l=2,f="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Map]",v="[object Number]",m="[object RegExp]",g="[object Set]",b="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",O="[object DataView]",w=r?r.prototype:void 0,k=w?w.valueOf:void 0;t.exports=function(t,e,n,r,w,j,x){switch(n){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!j(new o(t),new o(e)));case f:case d:case v:return i(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case p:var C=s;case g:var E=r&u;if(C||(C=c),t.size!=e.size&&!E)return!1;var S=x.get(t);if(S)return S==e;r|=l,x.set(t,e);var T=a(C(t),C(e),r,w,j,x);return x.delete(t),T;case y:if(k)return k.call(t)==k.call(e)}return!1}},EJk4:function(t,e,n){var r=n("hiy0");t.exports=function(t){return Object(r(t))}},EKta:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=u(t),r=n[0],a=n[1],s=new i(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),c=0,l=a>0?r-4:r,f=0;f<l;f+=4)e=o[t.charCodeAt(f)]<<18|o[t.charCodeAt(f+1)]<<12|o[t.charCodeAt(f+2)]<<6|o[t.charCodeAt(f+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;2===a&&(e=o[t.charCodeAt(f)]<<2|o[t.charCodeAt(f+1)]>>4,s[c++]=255&e);1===a&&(e=o[t.charCodeAt(f)]<<10|o[t.charCodeAt(f+1)]<<4|o[t.charCodeAt(f+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},Eb96:function(t,e){t.exports={}},EdYQ:function(t,e){},En79:function(t,e,n){t.exports=n("SldL")},"Eoz/":function(t,e,n){var r=n("ymQ7"),o=n("D6ie"),i=n("zZbG"),a=n("xA5w"),s=n("dH3X"),c=n("uyaC");var u={M:function(t){return t.getMonth()+1},MM:function(t){return f(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return f(t.getDate(),2)},DDD:function(t){return r(t)},DDDD:function(t){return f(r(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return o(t)},WW:function(t){return f(o(t),2)},YY:function(t){return f(t.getFullYear(),4).substr(2)},YYYY:function(t){return f(t.getFullYear(),4)},GG:function(t){return String(i(t)).substr(2)},GGGG:function(t){return i(t)},H:function(t){return t.getHours()},HH:function(t){return f(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return f(u.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return f(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return f(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return f(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return f(t.getMilliseconds(),3)},Z:function(t){return l(t.getTimezoneOffset(),":")},ZZ:function(t){return l(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function l(t,e){e=e||"";var n=t>0?"-":"+",r=Math.abs(t),o=r%60;return n+f(Math.floor(r/60),2)+e+f(o,2)}function f(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}t.exports=function(t,e,n){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,i=c.format.formatters,l=c.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(i=o.format.formatters,o.format.formattingTokensRegExp&&(l=o.format.formattingTokensRegExp));var f=a(t);return s(f)?function(t,e,n){var r,o,i,a=t.match(n),s=a.length;for(r=0;r<s;r++)o=e[a[r]]||u[a[r]],a[r]=o||((i=a[r]).match(/\[[\s\S]/)?i.replace(/^\[|]$/g,""):i.replace(/\\/g,""));return function(t){for(var e="",n=0;n<s;n++)a[n]instanceof Function?e+=a[n](t,u):e+=a[n];return e}}(r,i,l)(f):"Invalid Date"}},EuP9:function(t,e,n){"use strict";(function(t){var r=n("EKta"),o=n("ujcs"),i=n("sOR5");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):d(t,e);if("Buffer"===e.type&&i(e.data))return d(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|h(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,o);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,o){var i,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var f=!0,d=0;d<c;d++)if(u(t,i+d)!==u(e,d)){f=!1;break}if(f)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function y(t,e,n,r){return z(F(e,t.length-n),t,n,r)}function _(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function O(t,e,n,r){return _(t,e,n,r)}function w(t,e,n,r){return z(U(e),t,n,r)}function k(t,e,n,r){return z(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function j(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,c,u=t[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,a=n-e,s=Math.min(i,a),u=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(u[f]!==l[f]){i=u[f],a=l[f];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return O(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function E(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=B(t[i]);return o}function A(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function L(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,i){return i||L(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,i){return i||L(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var o=e-t;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=c.isBuffer(t)?t:F(new c(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(e,n("DuR2"))},EvHz:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment",attrs:{id:"comment_"+t.comment.id}},[n("div",{staticClass:"comment__body"},[n("div",{staticClass:"comment__head"},[n("a",{staticClass:"comment__user",attrs:{href:"/user/"+t.comment.user_id}},[n("img",{staticClass:"comment__avatar",attrs:{src:t._avatarUrl(t.comment.user_id,t.comment.avatar),alt:t.comment.username}}),t._v(" "),n("span",{staticClass:"comment__username text-truncate"},[t._v(t._s(t.comment.username))])]),t._v(" "),n("time",{staticClass:"comment__date-time"},[n("timeago",{attrs:{datetime:t.comment.created_at}})],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],ref:"content",staticClass:"comment__content",class:{comment__content_collapsed:t.collapsed}},[t.hideContent?[n("div",{staticClass:"comment__content-hidden"},[t._v("\n          Комментарий скрыт из-за низкого рейтинга. (может содержать спойлер)\n          "),n("button",{staticClass:"button_link",on:{click:function(e){t.hideContent=!t.hideContent}}},[t._v("\n            Показать\n          ")])])]:[n("div",{domProps:{innerHTML:t._s(t.comment.comment)}})]],2),t._v(" "),t.collapsible?n("button",{staticClass:"comment__expand comment__expand_upper button_link",on:{click:function(e){t.collapsed=!t.collapsed}}},[t.collapsed?[t._v("\n        Показать полностью "),n("i",{staticClass:"fa fa-angle-down"})]:[t._v("\n        Свернуть\n      ")]],2):t._e(),t._v(" "),n("div",{staticClass:"comment__controls"},[t.isDeleted?t._e():n("button",{staticClass:"button_link",attrs:{disabled:t.disabled},on:{click:t.toggleForm}},[t._v("\n        "+t._s(t.showForm?"отмена":"ответить")+"\n      ")]),t._v(" "),n("v-dropdown",{directives:[{name:"show",rawName:"v-show",value:!t.showForm||t.showEditBtn||t.showDeleteBtn||!t.isCurrentUser,expression:"!showForm || showEditBtn || showDeleteBtn || !isCurrentUser"}],staticClass:"comment__dropdown"},[n("div",{staticClass:"comment__control comment__control_dropdown",attrs:{"data-dropdown-trigger":""}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-extra"}})])]),t._v(" "),n("v-dropdown-menu",[n("div",{staticClass:"menu menu_xs"},[t.showEditBtn?n("div",{staticClass:"menu__item",on:{click:function(e){return t.toggleForm(e,!0)}}},[t._v("\n              Редактировать\n            ")]):t._e(),t._v(" "),t.showDeleteBtn?n("div",{staticClass:"menu__item",on:{click:t.deleteComment}},[t._v("\n              Удалить\n            ")]):t._e(),t._v(" "),t.isCurrentUser?t._e():n("div",{staticClass:"menu__item",on:{click:t.reportComment}},[t._v("\n              Пожаловаться\n            ")])])])],1),t._v(" "),n("div",{staticClass:"comment__rating",on:{click:t.changeVote}},[n("div",{staticClass:"comment__rating-action",class:"up"===t.comment.userVote&&"comment__rating-action_active",attrs:{"data-action":"up"}},[n("svg",{staticClass:"comment__rating-icon"},[n("use",{attrs:{"xlink:href":"#icon-arrow-up"}})])]),t._v(" "),n("div",{staticClass:"comment__rating-value",class:{"comment__rating-value_positive":t.votes>0,"comment__rating-value_negative":t.votes<0},attrs:{"data-vote":t.comment.votes_up+"_"+t.comment.votes_down}},[t._v("\n          "+t._s(t.votes)+"\n        ")]),t._v(" "),n("div",{staticClass:"comment__rating-action",class:"down"===t.comment.userVote&&"comment__rating-action_active",attrs:{"data-action":"down"}},[n("svg",{staticClass:"comment__rating-icon"},[n("use",{attrs:{"xlink:href":"#icon-arrow-down"}})])])])],1),t._v(" "),t.showForm?n("comment-reply",{attrs:{"is-reply":!0,page:t.comment.page_id}}):t._e()],1),t._v(" "),!t.show&&t.hasChilds?n("button",{staticClass:"comment__expand button_link",on:{click:t.toggleCollapse}},[t._v("\n    Развернуть ветку\n  ")]):t._e(),t._v(" "),t.hasChilds&&t.show?n("div",{staticClass:"comment__children",class:{"comment__children_new-line":t.isNewLine}},[n("div",{staticClass:"comment__collapse",on:{click:t.toggleCollapse}}),t._v(" "),t._l(t.children,function(e){return n("comment",{key:e.id,attrs:{comment:e,"comment-level":t.commentLevel+1}})})],2):t._e()])},staticRenderFns:[]}},FCu8:function(t,e,n){var r=n("VU/8")(n("iLhm"),n("bgwn"),!1,null,null,null);t.exports=r.exports},FCuZ:function(t,e,n){var r=n("uIr7"),o=n("NGEn");t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},FHdR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("u5FJ"),o=n("6Vnj"),i=n.n(o);e.default={components:{VCheckbox:i.a},props:{show:Boolean},inject:["settings"],watch:{show:function(t){this._handler=t,t?Object(r.c)(document,"click",this.toggleMenu):Object(r.b)(document,"click",this.toggleMenu)}},beforeDestroy:function(){this._handler&&Object(r.b)(document,"click",this.toggleMenu)},methods:{toggleMenu:function(t){var e=t.target,n=this.$refs.menu;e===n||n.contains(e)||this.$emit("update:show",!this.show)}}}},FNVG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("P0Zj"),o=n.n(r),i=n("M7Fo");e.default={components:{BookmarkSettings:o.a},props:{count:Object},data:function(){return i.b},methods:{changeTab:function(t){this.filter.folder!==t&&(this.filter.folder=t,this.filter.limit=i.e,i.b.checked.length&&(i.b.checked=[]),window.scrollTo(0,0))}}}},"FZ+f":function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},FhcP:function(t,e,n){var r=n("7YkW"),o=n("2X2u"),i=n("dmQx"),a=1,s=2;t.exports=function(t,e,n,c,u,l){var f=n&a,d=t.length,h=e.length;if(d!=h&&!(f&&h>d))return!1;var p=l.get(t);if(p&&l.get(e))return p==e;var v=-1,m=!0,g=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++v<d;){var b=t[v],y=e[v];if(c)var _=f?c(y,b,v,e,t,l):c(b,y,v,t,e,l);if(void 0!==_){if(_)continue;m=!1;break}if(g){if(!o(e,function(t,e){if(!i(g,e)&&(b===t||u(b,t,n,c,l)))return g.push(e)})){m=!1;break}}else if(b!==y&&!u(b,y,n,c,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},Fkvj:function(t,e,n){var r=n("bJWQ"),o=n("PqYH"),i=n("i4ON"),a=n("jD7S"),s=n("py9u"),c=n("mKB/"),u=n("hrPF"),l=n("Nkkh"),f=n("1QDk"),d=n("MoMe"),h=n("xond"),p=n("gHOb"),v=n("UfSK"),m=n("5/Qr"),g=n("WQFf"),b=n("NGEn"),y=n("ggOT"),_=n("dwsC"),O=n("yCNF"),w=n("SGXn"),k=n("ktak"),j=1,x=2,C=4,E="[object Arguments]",S="[object Function]",T="[object GeneratorFunction]",A="[object Object]",P={};P[E]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[A]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[S]=P["[object WeakMap]"]=!1,t.exports=function t(e,n,N,I,M,L){var D,R=n&j,q=n&x,B=n&C;if(N&&(D=M?N(e,I,M,L):N(e)),void 0!==D)return D;if(!O(e))return e;var F=b(e);if(F){if(D=v(e),!R)return u(e,D)}else{var U=p(e),z=U==S||U==T;if(y(e))return c(e,R);if(U==A||U==E||z&&!M){if(D=q||z?{}:g(e),!R)return q?f(e,s(D,e)):l(e,a(D,e))}else{if(!P[U])return M?e:{};D=m(e,U,R)}}L||(L=new r);var H=L.get(e);if(H)return H;if(L.set(e,D),w(e))return e.forEach(function(r){D.add(t(r,n,N,r,e,L))}),D;if(_(e))return e.forEach(function(r,o){D.set(o,t(r,n,N,o,e,L))}),D;var $=B?q?h:d:q?keysIn:k,W=F?void 0:$(e);return o(W||e,function(r,o){W&&(r=e[o=r]),i(D,o,t(r,n,N,o,e,L))}),D}},Fwt4:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("qrdl"),o=n.n(r),i=n("+X65"),a=n.n(i),s=n("mtWM"),c=n.n(s),u=n("u5FJ"),l=n("Jaym"),f=n("Mqyi"),d=n("vrSs");function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={minLength:3,onSelect:console.log,renderItem:function(t){return Object(f.a)("div",{className:"autocomplete__item"},t.value)}},m=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"_preventCursorMove",function(t){if((t.which||t.keyCode)===d.g.ARROW_UP){t.preventDefault();var e=t.target;void 0!==e.selectionStart&&(e.selectionEnd=e.selectionStart=e.value.length)}}),p(this,"_inputKeyUp",function(t){var e=t.which||t.keyCode;return e===d.g.ARROW_UP||e===d.g.ARROW_DOWN?n._itemHighlight(e,t):e===d.g.ENTER?n._onSelect(t):void n._onSearch(t)}),p(this,"_suggestionClick",function(t,e){var r=Object(u.h)(e,n.suggestions);n.highlight=r,n._onSelect(t),t.preventDefault()}),p(this,"_renderItems",function(t){var e=document.createDocumentFragment();Object(l.f)(t,function(t,r){var o=n.options.renderItem(t);o.className+=" autocomplete__item",o.setAttribute("data-index",r),e.appendChild(o)}),n.items=t||[],n.clearSuggestions(),n.items.length||e.appendChild(n._renderEmptyData()),n.suggestions.appendChild(e)}),this.el=e.el,this.input=Object(u.l)(".autocomplete__input",this.el),this.suggestions=Object(u.l)(".autocomplete__suggestions",this.el),this.options=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},v,{},e),this.query="",this.highlight=-1,this.items=[],this.requestSuggestions=a()(this._requestSuggestions,200),this._bindEvents()}var e,n,r;return e=t,(n=[{key:"_bindEvents",value:function(){Object(u.c)(this.input,"keydown",this._preventCursorMove),Object(u.c)(this.input,"keyup",this._inputKeyUp),this.destroySuggestionItemClick=Object(u.a)(this.suggestions,"mousedown",".autocomplete__item",this._suggestionClick)}},{key:"_itemHighlight",value:function(t){var e,n=this.items.length-1,r=Object(u.l)(".".concat("is-active"),this.suggestions);if(t===d.g.ARROW_UP?(e=this.highlight-1)<=-1&&(e=n):(e=this.highlight+1)>n&&(e=0),this.highlight=e,r&&u.g.remove(r,"is-active"),-1!==this.highlight){r=this.suggestions.children[e],u.g.add(r,"is-active"),this.suggestions.scrollTop>r.offsetTop&&(this.suggestions.scrollTop=r.offsetTop);var o=r.offsetTop+r.offsetHeight;o>this.suggestions.scrollTop+this.suggestions.offsetHeight&&(this.suggestions.scrollTop=o-this.suggestions.offsetHeight)}}},{key:"_onSearch",value:function(t){var e=t.target.value.trim();e.length||this.clearSuggestions(),e.length<this.options.minLength||this.query===e||(this.cancelRequest(),this.highlight=-1,this.query=e,this.toggleLoading(!0),this.requestSuggestions(e))}},{key:"_onSelect",value:function(t){-1!==this.highlight&&this.options.onSelect({event:t,el:this.suggestions.children[this.highlight],item:this.items[this.highlight],index:this.highlight})}},{key:"_requestSuggestions",value:function(t){var e=this;return c.a.get(this.options.requestUrl(t),{cancelToken:new c.a.CancelToken(function(t){return e.cancel=t})}).then(function(t){return t.data}).then(this._renderItems).then(function(){return e.toggleLoading(!1)}).catch(o.a),this}},{key:"cancelRequest",value:function(){return this.cancel&&(this.cancel(),this.cancel=null),this}},{key:"toggleLoading",value:function(t){return u.g.toggle(this.el,"autocomplete_loading",t),this}},{key:"clearSuggestions",value:function(){for(;this.suggestions.firstChild;)this.suggestions.removeChild(this.suggestions.firstChild);return this}},{key:"_renderEmptyData",value:function(){return Object(f.a)("div",{className:"autocomplete__empty"},"Ничего не найдено")}},{key:"destroy",value:function(){this.destroySuggestionItemClick(),Object(u.b)(this.input,"keydown",this._preventCursorMove),Object(u.b)(this.input,"keyup",this._inputKeyUp),this.el=null,this.input=null,this.suggestions=null,this.options=null,this.items=null,this.requestSuggestion=null}}])&&h(e.prototype,n),r&&h(e,r),t}()},G0Wc:function(t,e,n){var r=n("yCNF"),o=n("HT7L"),i=n("8gK5"),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},G2xm:function(t,e){t.exports=function(t){return this.__data__.has(t)}},G7No:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()-o.getTime()}},"GB3+":function(t,e,n){var r=n("1rEs").f,o=n("l/2K"),i=n("jAiL")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},GI7G:function(t,e,n){var r=n("xA5w"),o=n("orNa"),i=n("NKE6");t.exports=function(t,e){var n=r(t),a=r(e),s=i(n,a),c=Math.abs(o(n,a));return n.setMonth(n.getMonth()-s*c),s*(c-(i(n,a)===-s))}},GPcm:function(t,e,n){"use strict";var r=n("A6BG").charAt,o=n("I1z2"),i=n("RxPu"),a=o.set,s=o.getterFor("String Iterator");i(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})})},GrS8:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-modal",{attrs:{id:"edit-folder-modal",title:"Редактировать список",size:"xs","close-icon":""}},[t.folders.length?n("div",{staticClass:"bookmark-folder-edit"},t._l(t.folders,function(e){return n("edit-bookmark-folder-item",{key:e.id,attrs:{folder:e},on:{removed:t.removed}})}),1):n("div",{staticClass:"modal__body text-muted text-center"},[t._v("\n    У вас еще нет созданных списков, введите название в поле ниже и нажмите "),n("b",[t._v('"+"')]),t._v(" чтобы создать\n  ")]),t._v(" "),n("create-bookmark-folder-input",{on:{created:t.created}})],1)},staticRenderFns:[]}},HAGj:function(t,e,n){var r=n("i4ON"),o=n("bIjD"),i=n("ZGh9"),a=n("yCNF"),s=n("Ubhr");t.exports=function(t,e,n,c){if(!a(t))return t;for(var u=-1,l=(e=o(e,t)).length,f=l-1,d=t;null!=d&&++u<l;){var h=s(e[u]),p=n;if(u!=f){var v=d[h];void 0===(p=c?c(v,h,d):void 0)&&(p=a(v)?v:i(e[u+1])?[]:{})}r(d,h,p),d=d[h]}return t}},HAas:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},HLWT:function(t,e,n){var r=n("jAiL"),o=n("43zn"),i=n("wkr2"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&i(s,a,o(null)),t.exports=function(t){s[a][t]=!0}},HT7L:function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},HVdB:function(t,e,n){var r=n("r54x");t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},He3V:function(t,e,n){var r=n("q0qZ"),o=n("NGss"),i=n("C1ru"),a=n("9mDF"),s=n("whWw"),c=n("l/2K"),u=n("K6eN"),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},Hxdr:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},HyF7:function(t,e,n){var r=n("VU/8")(n("ItTP"),n("/bZI"),!1,null,null,null);t.exports=r.exports},"I+QF":function(t,e){},I1z2:function(t,e,n){var r,o,i,a=n("QYNq"),s=n("hcE8"),c=n("HAas"),u=n("wkr2"),l=n("l/2K"),f=n("siPu"),d=n("Eb96"),h=s.WeakMap;if(a){var p=new h,v=p.get,m=p.has,g=p.set;r=function(t,e){return g.call(p,t,e),e},o=function(t){return v.call(p,t)||{}},i=function(t){return m.call(p,t)}}else{var b=f("state");d[b]=!0,r=function(t,e){return u(t,b,e),e},o=function(t){return l(t,b)?t[b]:{}},i=function(t){return l(t,b)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},ICSD:function(t,e,n){var r=n("ITwD"),o=n("mTAn");t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},IGcM:function(t,e,n){var r=n("bIjD"),o=n("1Yb9"),i=n("NGEn"),a=n("ZGh9"),s=n("Rh28"),c=n("Ubhr");t.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,f=!1;++u<l;){var d=c(e[u]);if(!(f=null!=t&&n(t,d)))break;t=t[d]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(d,l)&&(i(t)||o(t))}},ITwD:function(t,e,n){var r=n("gGqR"),o=n("eFps"),i=n("yCNF"),a=n("Ai/T"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?d:s).test(a(t))}},IjNM:function(t,e,n){var r=n("VU/8")(n("zhVe"),n("PffE"),!1,null,null,null);t.exports=r.exports},"Ilb/":function(t,e,n){var r=n("Kzd6");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},ItTP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("3U/7"),a=n.n(i),s=n("Jaym"),c=n("7/oE");function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=0;e.default=o.a.extend({components:{VToastItem:a.a},mixins:[Object(c.a)()],data:function(){return{items:[]}},methods:{addItem:function(t){t.closeable&&(t.timeout=0),this.items.push(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){u(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},t,{id:++l}))},remove:function(t){var e=Object(s.e)(this.items,function(e){return e.id===t});this.items.splice(e,1)},leave:function(t){t.style.height="".concat(t.offsetHeight,"px")}}})},J9xb:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"menu",staticClass:"chat-wrap__settings menu menu_small"},[n("v-checkbox",{staticClass:"menu__item",model:{value:t.settings.inWindow,callback:function(e){t.$set(t.settings,"inWindow",e)},expression:"settings.inWindow"}},[t._v("\n    В окне\n  ")]),t._v(" "),n("v-checkbox",{staticClass:"menu__item",model:{value:t.settings.allPage,callback:function(e){t.$set(t.settings,"allPage",e)},expression:"settings.allPage"}},[t._v("\n    На всех страницах\n  ")]),t._v(" "),n("v-checkbox",{staticClass:"menu__item",model:{value:t.settings.alwaysOpen,callback:function(e){t.$set(t.settings,"alwaysOpen",e)},expression:"settings.alwaysOpen"}},[t._v("\n    Автоматически открывать\n  ")])],1)},staticRenderFns:[]}},JBvZ:function(t,e,n){var r=n("imBK");t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},JURy:function(t,e,n){var r=n("xA5w");t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}},Jaym:function(t,e,n){"use strict";var r=n("ooSW");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;requestAnimationFrame(function(){return setTimeout(t,e)})}var i=n("OAwv"),a=n.n(i);function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.search,e=t.slice(t.indexOf("?")+1);return a.a.parse(e,{arrayFormat:"bracket"})}var c={};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_token";if(c[t])return c[t];var e=document.querySelector('meta[name="'.concat(t,'"]'));return e&&(c[t]=e.getAttribute("content")),c[t]}function l(t){for(var e in t)return!1;return!0}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(t){return"string"==typeof t},h=function(t){return"number"==typeof t},p=function(t){return"boolean"==typeof t},v=function(t){return"function"==typeof t},m=function(t){return void 0===t},g=function(t){return null===t},b=function(t){return null!==t&&"object"===f(t)},y=Array.isArray;function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w={save:function(t,e){if("object"===O(e))try{localStorage[t]=JSON.stringify(e)}catch(n){localStorage[t]=e}else localStorage[t]=e},get:function(t,e){if(localStorage[t])try{return JSON.parse(localStorage[t])||e}catch(n){return localStorage[t]||e}return e},has:function(t){if("string"==typeof t)return t in localStorage},update:function(t,e){var n=y(e),r=this.get(t,n?[]:{});b(e)&&!n&&(e=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){_(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},r,{},e)),n&&(e=r.concat(e)),this.save(t,e)}};function k(t,e){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(e(t[r],r,t));return n}var j=n("u5FJ");function x(t,e){if(t&&e)if(y(t)||Object(j.k)(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e(t[o],o,t)}function C(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var E=function t(e,n,r,o,i,a){var s=n(i),c=n(a);return s===c?r&&r.length>o?t(e,r[o],r,o+1,i,a):0:s<c?-e:null==s?1:null==c?-1:e},S=function(t){return t},T=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(!Array.isArray(e))return e;var r=Array.isArray(n)?E.bind(void 0,t,n.shift(),n,0):E.bind(void 0,t,n,void 0,0);return e.sort(r)};function A(t,e,n){return T("asc"===e?1:-1,C(t),n)}function P(t,e){if(!Array.isArray(t))throw new Error("First argument must be array");for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],a=i[e];n[a]||(n[a]=[]),n[a].push(i)}return n}function N(t,e){for(var n={},r=t.length;r--;){var o=t[r];n[o[e]]=o}return n}var I=n("BiKz");function M(t,e){var n={};return x(e,function(e){null!=t[e]&&(n[e]=t[e])}),n}function L(t,e,n){if(t&&e&&n){for(var r={},o=0,i=t.length;o<i;o++){var a=t[o];r[a[e]]=a[n]}return r}}function D(t){return new Promise(function(e){setTimeout(e,t)})}var R=function(t,e,n,r){if(!Array.isArray(t))throw new TypeError("First argument must be array");var o=t.length;if(n||(n=t),0===o)return r?-1:null;if("function"!=typeof e)throw new TypeError("".concat(e," must be a function"));for(var i=0;i<o;i++)if(e.call(n,t[i],i,t))return r?i:t[i];return r?-1:null},q=function(t,e,n){return R(t,e,n,!0)};n.d(e,"b",function(){return B}),n.d(e,"a",function(){return r.a}),n.d(e,"c",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"l",function(){return l}),n.d(e,"w",function(){return w}),n.d(e,!1,function(){return k}),n.d(e,"f",function(){return x}),n.d(e,"s",function(){return A}),n.d(e,"i",function(){return P}),n.d(e,"r",function(){return N}),n.d(e,"u",function(){return I.a}),n.d(e,!1,function(){return M}),n.d(e,"t",function(){return L}),n.d(e,"v",function(){return D}),n.d(e,"d",function(){return R}),n.d(e,"e",function(){return q}),n.d(e,"j",function(){return y}),n.d(e,"k",function(){return p}),n.d(e,!1,function(){return g}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return b}),n.d(e,"p",function(){return d}),n.d(e,"q",function(){return m}),n.d(e,"m",function(){return v});var B=new r.a},JnrT:function(t,e,n){var r,o,i,a;a=function(t,e){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),i=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){i=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function a(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var e,n=null,r=null,a=null,s=function(){t.clientWidth!==r&&f()},c=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",f,!1),t.removeEventListener("keyup",f,!1),t.removeEventListener("autosize:destroy",c,!1),t.removeEventListener("autosize:update",f,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",c,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",f,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",f,!1),t.addEventListener("autosize:update",f,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:c,update:f}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),f()}function u(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function l(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",r=t.clientWidth,e.forEach(function(t){t.node.scrollTop=t.scrollTop}),o&&(document.documentElement.scrollTop=o)}}function f(){l();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(r<e?"hidden"===n.overflowY&&(u("scroll"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),a!==r){a=r;var o=i("autosize:resized");try{t.dispatchEvent(o)}catch(t){}}}}function s(t){var e=o.get(t);e&&e.destroy()}function c(t){var e=o.get(t);e&&e.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(t){return t}).destroy=function(t){return t},u.update=function(t){return t}):((u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return a(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],c),t}),e.default=u,t.exports=e.default},o=[t,e],void 0===(i="function"==typeof(r=a)?r.apply(e,o):r)||(t.exports=i)},JyYQ:function(t,e,n){var r=n("d+aQ"),o=n("eKBv"),i=n("wSKX"),a=n("NGEn"),s=n("iL3P");t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):s(t)}},K6eN:function(t,e,n){var r=n("q0qZ"),o=n("r54x"),i=n("P1fK");t.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},KF7L:function(t,e,n){var r=n("SJLv");t.exports=function(){var t=["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],e=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],o=["вс","пн","вт","ср","чт","пт","сб"],i=["вск","пнд","втр","срд","чтв","птн","суб"],a=["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],s=["ночи","утра","дня","вечера"],c={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return o[t.getDay()]},ddd:function(t){return i[t.getDay()]},dddd:function(t){return a[t.getDay()]},A:function(t){var e=t.getHours();return e>=17?s[3]:e>=12?s[2]:e>=4?s[1]:s[0]},Do:function(t,e){return e.D(t)+"-е"},Wo:function(t,e){return e.W(t)+"-я"}};return c.a=c.A,c.aa=c.A,["M","DDD","d","Q"].forEach(function(t){c[t+"o"]=function(e,n){return n[t](e)+"-й"}}),["D","Do","DD"].forEach(function(t){c[t+" MMMM"]=function(e,r){return(c[t]||r[t])(e,r)+" "+n[e.getMonth()]}}),{formatters:c,formattingTokensRegExp:r(c)}}},KO5a:function(t,e,n){"use strict";var r,o=n("u5FJ"),i=n("Jaym"),a=n("oV6p"),s=n.n(a);var c=n("mtWM"),u=n.n(c),l=n("IDmg"),f=n("Mqyi");function d(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var h=function(){return Object(f.a)("div",{className:"dots"},Object(f.a)("div",{className:"dot"}),Object(f.a)("div",{className:"dot"}),Object(f.a)("div",{className:"dot"}))},p=function(t){var e,n,r=function(t){t.summary.length>220&&(t.summary="".concat(t.summary.slice(0,220)," [...]")),t.rate_avg||(t.rate_avg=0),t.releaseDate||(t.releaseDate="неизвестно"),t.rating=[];for(var e=5;e>0;e--){var n=Math.ceil(parseFloat(t.rate_avg))===e;t.rating.push({current:n})}return t.caution>0?t.caution=t.caution>1?"18+":"16+":t.caution=!1,t}(t),o=r.categories,i=r.authors,a=r.tags,s=d(r,["categories","authors","tags"]);return o&&o.length&&(e=Object(f.a)("div",{className:"manga-item-info__row"},Object(f.a)("strong",null,"Жанры"),o.map(function(t){return Object(f.a)("span",null,t.name)}))),a&&a.length&&(n=Object(f.a)("div",{className:"manga-item-info__row"},Object(f.a)("strong",null,"Теги"),a.map(function(t){return Object(f.a)("span",null,t.name)}))),Object(f.a)("div",{className:"manga-item-info__inner"},Object(f.a)("div",{className:"manga-item-info__header"},s.caution&&Object(f.a)("div",{className:"manga-item-info__pg"},s.caution),Object(f.a)("h3",null,s.name),Object(f.a)("h5",null,s.rus_name||s.eng_name)),Object(f.a)("div",{className:"manga-item-info__description",dangerouslySetInnerHTML:s.summary}),Object(f.a)("div",{className:"manga-item-info__rows"},Object(f.a)("div",{className:"manga-item-info__row"},Object(f.a)("strong",null,"Дата релиза:"),Object(f.a)("span",null,s.releaseDate)),Object(f.a)("div",{className:"manga-item-info__row"},Object(f.a)("strong",null,"Автор:"),i&&i.map(function(t){return Object(f.a)("span",null,t.name)})),e,n),Object(f.a)("div",{className:"manga-item-info__rating"},Object(f.a)("div",{class:"manga-item-info__stars rating"},s.rating.map(function(t){return Object(f.a)("div",{className:"rating__star","data-current":t.current},Object(f.a)("svg",{dangerouslySetInnerHTML:'<use xlink:href="#icon-star"></use>'}))})),Object(f.a)("div",{className:"manga-item-info__rating-count"},s.rate_avg)))};e.b=function(t){v?function(t){Object(o.a)(t,"click","[data-media-id]",function(t){t.preventDefault();var e=Object(o.f)(this,"data-media-id");r||(r=new s.a),r.show(e)})}(t):function(t){Object(l.default)(t,{content:function(){return document.createElement("div")},placement:"right-start",animateFill:!1,target:"[data-media-id]",theme:"item-info",distance:20,delay:[300,300],arrow:!0,onShow:function(t){var e=t.reference,n=Object(o.f)(e,"data-media-id"),r=Object(o.f)(e,"data-manga-slug"),i=Object(o.l)(".tippy-content",t.popper);if(!o.f.has(e,"data-loading")){Object(o.f)(e,"data-loading",!0);var a=h();i.appendChild(a),u.a.get("/manga-short-info",{params:{id:n,slug:r}}).then(function(t){return t.data}).then(function(e){i.replaceChild(p(e),a),requestAnimationFrame(function(){t.popper.getBoundingClientRect().right>window.innerWidth&&(t.popperInstance.options.placement="left-start",t.popperInstance.update())})})}}})}(t)},e.a=function(t){if(!v){t=Object(i.p)(t)?Object(o.l)(t):t;var e=Object(o.m)("[data-manga-id]",t);Object(i.f)(e,function(t){t._tippy&&(t._tippy.destroy(),o.f.remove(t,"data-loading"))})}};var v=o.g.has(document.body,"page_mobile")},KOco:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"collapsible"},on:{enter:this.start,"after-enter":this.end,"before-leave":this.start}},[this.visible?e("div",{staticClass:"collapsible"},[e("div",{staticClass:"collapsible__wrapper"},[this._t("default")],2)]):this._e()])},staticRenderFns:[]}},KZyg:function(t,e,n){var r=n("VU/8")(n("o51f"),n("uT+O"),!1,null,null,null);t.exports=r.exports},Kbrx:function(t,e,n){var r=n("jAiL")("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},KcIi:function(t,e,n){var r=n("VU/8")(n("93Ov"),n("ONHR"),!1,null,null,null);t.exports=r.exports},Kip4:function(t,e,n){"use strict";var r=n("En79"),o=n.n(r),i=n("qrdl"),a=n.n(i),s=n("mtWM"),c=n.n(s),u=n("oG8a"),l=n("M7Fo");function f(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function d(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.a={props:{dataPresets:{type:Object,default:function(){return{}}},folders:Array,onSelected:{type:Function,default:a.a},onChanged:{type:Function,default:a.a},onCreated:{type:Function,default:a.a}},data:function(){return{foldersList:this.folders,status:this.dataPresets.status,mangaId:this.dataPresets.mangaId,loading:!1}},created:function(){this.foldersList||(this.foldersList=d(window.__BOOKMARK_FOLDERS__))},computed:{filteredFolders:function(){var t=this;return this.status?this.foldersList.filter(function(e){return e.id!=t.status}):this.foldersList},showDeletionButton:function(){return null!=this.status}},methods:{changeStatus:function(){var t,e=(t=o.a.mark(function t(e){var n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return this.onSelected(e),n="Манга успешно добавлена в закладки",r="",e.id?this.status?(r="/change-status",i={status:e.id,ids:[this.mangaId]}):i={manga_id:this.mangaId,status:e.id}:(r="/destroy",i={ids:[this.mangaId]},n="Манга успешно удалена из закладок"),this.loading=!0,t.prev=7,t.next=10,c.a.post("/bookmark".concat(r),i);case 10:u.a.success(n),this.status=e.id,l.a.emit("resetCacheTime"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),u.a.alert("Произошла ошибка при изменении закладок");case 18:this.onChanged(e),this.loading=!1;case 20:case"end":return t.stop()}},t,this,[[7,15]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),folderCreated:function(t){this.foldersList.push(t),this.onCreated(t)}}}},KmWZ:function(t,e,n){var r=n("duB3");t.exports=function(){this.__data__=new r,this.size=0}},Kyyj:function(t,e,n){var r=n("VU/8")(n("ocCQ"),n("ZDF/"),!1,null,null,null);t.exports=r.exports},Kzd6:function(t,e,n){var r=n("qwTf");t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},L8xD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={inject:["Menu"],methods:{handleClick:function(){this.Menu.closeOnSelect&&(this.Menu.isActive=!1)}}}},LQly:function(t,e,n){"use strict";var r=n("u5FJ");e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"button_loading";r.g.toggle(t,n,e),"BUTTON"===t.tagName&&(t.disabled=e)}},Lb8E:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"dropdown"}},[this.Menu.isActive?e("div",{staticClass:"dropdown-menu",class:[this.Menu.direction&&"dropdown-menu-"+this.Menu.direction],on:{click:this.handleClick}},[this._t("default")],2):this._e()])},staticRenderFns:[]}},LiUp:function(t,e,n){"use strict";var r=n("uN7r"),o=n.n(r),i=n("Dc7M"),a=n.n(i),s=n("OAwv"),c=n.n(s),u=n("Jaym");function l(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={state:{},get defaultState(){return{sort:"rate",dir:"desc",page:1,year:"",name:"",status:[],types:[],format:[],tags:[],excludeBookmarks:!1,onlyBookmarks:!1,long_no_translation:!1,genres:{}}},setState:function(t){t.page||(t.page=1);var e=l({},this.state,{},t);this.state=e},mapStateToQuery:function(){var t=l({includeGenres:[],excludeGenres:[]},this.state);Object(u.f)(t.genres,function(e,n){e.checked&&(e.excluded?t.excludeGenres.push(n):t.includeGenres.push(n))}),t=a()(t,"page","genres"),t=o()(t,function(t){return!t||Object(u.j)(t)&&!t.length});var e=c.a.stringify(t,{arrayFormat:"bracket"});return{object:t,string:e}},_init:function(){var t;this.state=l({},this.defaultState,{},((t=Object(u.g)()).genres={},Object(u.f)(t.includeGenres,function(e){t.genres[e]={checked:!0,excluded:!1}}),Object(u.f)(t.excludeGenres,function(e){t.genres[e]={checked:!0,excluded:!0}}),a()(t,"includeGenres","excludeGenres")),{},window.__LIST_INIT__)}};d._init(),e.a=d},"M/lN":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-settings"},[n("div",{staticClass:"bookmark-settings__group"},[n("div",{staticClass:"bookmark-settings__title"},[t._v("\n      Сортировка\n    ")]),t._v(" "),n("div",{staticClass:"control-group bookmark-settings__content"},[n("v-radio",{attrs:{model:"manga_name",name:t.suffix+"sort_field"},model:{value:t.settings.sort.field,callback:function(e){t.$set(t.settings.sort,"field",e)},expression:"settings.sort.field"}},[t._v("\n        Названию (A - Z)\n      ")]),t._v(" "),n("v-radio",{attrs:{model:"created_at",name:t.suffix+"sort_field"},model:{value:t.settings.sort.field,callback:function(e){t.$set(t.settings.sort,"field",e)},expression:"settings.sort.field"}},[t._v("\n        Дате добавления\n      ")]),t._v(" "),n("v-radio",{attrs:{model:"chapter_created_at",name:t.suffix+"sort_field"},model:{value:t.settings.sort.field,callback:function(e){t.$set(t.settings.sort,"field",e)},expression:"settings.sort.field"}},[t._v("\n        Дате обновления глав\n      ")]),t._v(" "),n("v-radio",{attrs:{model:"chapter_reading",name:t.suffix+"sort_field"},model:{value:t.settings.sort.field,callback:function(e){t.$set(t.settings.sort,"field",e)},expression:"settings.sort.field"}},[t._v("\n        Дате чтения\n      ")]),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),n("v-radio",{attrs:{model:"desc",name:t.suffix+"direction"},model:{value:t.settings.sort.type,callback:function(e){t.$set(t.settings.sort,"type",e)},expression:"settings.sort.type"}},[t._v("\n        По убыванию\n      ")]),t._v(" "),n("v-radio",{attrs:{model:"asc",name:t.suffix+"direction"},model:{value:t.settings.sort.type,callback:function(e){t.$set(t.settings.sort,"type",e)},expression:"settings.sort.type"}},[t._v("\n        По возрастанию\n      ")])],1)]),t._v(" "),n("div",{staticClass:"bookmark-settings__group"},[n("div",{staticClass:"bookmark-settings__title"},[t._v("\n      Настройки\n    ")]),t._v(" "),n("div",{staticClass:"control-group bookmark-settings__content"},[n("v-checkbox",{model:{value:t.settings.comments,callback:function(e){t.$set(t.settings,"comments",e)},expression:"settings.comments"}},[t._v("\n        Показать заметки\n      ")]),t._v(" "),n("v-checkbox",{model:{value:t.settings.hideCover,callback:function(e){t.$set(t.settings,"hideCover",e)},expression:"settings.hideCover"}},[t._v("\n        Скрыть обложки\n      ")]),t._v(" "),n("v-checkbox",{model:{value:t.settings.onlyBookmarks,callback:function(e){t.$set(t.settings,"onlyBookmarks",e)},expression:"settings.onlyBookmarks"}},[t._v("\n        Показать только с закладками\n      ")])],1)])])},staticRenderFns:[]}},M0Fu:function(t,e,n){"use strict";var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("Ngrm"),c=n("7/oE");var u={methods:{dispatch:function(t,e,n){for(var r=this.$parent||this.$root,o=r.$options.name;r&&(!o||o!==t);)(r=r.$parent)&&(o=r.$options.name);r&&r.$emit.apply(r,[e].concat(n))},broadcast:function(t,e,n){(function t(e,n,r){this.$children.forEach(function(o){o.$options.name===e?(o.$emit.apply(o,[n].concat(r)),o.$children&&o.$children.length&&t.apply(o,[e,n].concat([r]))):t.apply(o,[e,n].concat([r]))})}).call(this,t,e,n)}}},l=n("u5FJ"),f=n("Jaym"),d=n("in12"),h=n.n(d),p=n("OLx3"),v=n("gmAb");function m(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){g(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){b(i,r,o,a,s,"next",t)}function s(t){b(i,r,o,a,s,"throw",t)}a(void 0)})}}var _=f.w.get("comments",{order:"latest"}),O=Object(f.g)().comm_id;e.a={components:{AppComments:h.a},mixins:[Object(c.a)(!0,"#comments"),u],data:function(){return{loading:!0,currentOrder:_.order,userVotes:{},showPartialComments:null!=O,targetCommentId:O?parseInt(O):null}},methods:{fetchComments:function(){var t=y(o.a.mark(function t(e){var n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{type:p.a.info.type,post_id:p.a.info.postId,order:this.currentOrder}},"chapter"!==p.a.info.type&&(e&&(r.params=m({},r.params,{},e)),this.showPartialComments&&(r.params.show_partial=!0,r.params.comment_id=this.targetCommentId)),t.prev=2,t.next=5,a.a.get(p.a.info.api,r);case 5:i=t.sent,n=i.data,p.a.auth=n.auth,this._userVotes=n.userVotes,t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),s.a.alert("Произошла ошибка загрузки комментариев"),console.error(t.t0);case 15:return this.loading=!1,t.abrupt("return",n);case 17:case"end":return t.stop()}},t,this,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),jumpToComment:function(){var t=y(o.a.mark(function t(){var e,n,r,i=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._elWasJump){t.next=2;break}return t.abrupt("return");case 2:if(!O){t.next=12;break}if(n=(e=function(){return Object(l.l)("#comment_".concat(O))})(),r=function(){n&&(i._elWasJump=!0,Object(f.c)(function(){return Object(v.b)(n)},150))},n){t.next=11;break}return this.broadcast("Comment","toggleCollapse",{}),t.next=10,this.$nextTick();case 10:n=e();case 11:r();case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}},M1c9:function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},M6Wl:function(t,e,n){var r=n("rpnb"),o=n("ktak");t.exports=function(t,e){return t&&r(t,e,o)}},M7Fo:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"e",function(){return v}),n.d(e,"a",function(){return m}),n.d(e,"b",function(){return g}),e.d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,e){return t[e.status]||(t[e.status]=0),t[e.status]+=1,t.all+=1,t},{all:0})};var r,o=n("En79"),i=n.n(o),a=n("I3G/"),s=n.n(a),c=n("22C0"),u=n.n(c),l=n("Jaym");function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}u.a.supports(u.a.INDEXEDDB)&&(r=u.a.createInstance({driver:u.a.INDEXEDDB,name:"bookmarks",storeName:"cache"}));var h,p=[];window.__BOOKMARK_FOLDERS__&&(p=[{id:"all",name:"Все"}].concat(function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(h=window.__BOOKMARK_FOLDERS__)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()));var v=25,m=new l.a;m.on("resetCacheTime",function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)})}}(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=3;break}return t.next=3,r.setItem("updatedAt",null);case 3:case"end":return t.stop()}},t)})));var g=s.a.observable({folders:p,checked:[],bookmarks:[],settings:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},{hideCover:!1,comments:!1,onlyBookmarks:!1,sort:{field:"manga_name",type:"asc"}},{},l.w.get("bookmarkSettings",{})),filter:{folder:1,name:"",limit:v}})},MFFc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={success:"fa-check-circle",alert:"fa-exclamation-circle",info:"fa-info-circle"};e.default={props:{item:Object},computed:{iconByStatus:function(){return r[this.item.status]}},created:function(){this.item.closeable||0===this.item.timeout||(this.timer=setTimeout(this.close,this.item.timeout||4e3))},beforeDestroy:function(){this.clearTimeout()},methods:{close:function(){this.removeItem(),this.item.onClose&&this.item.onClose()},onItemClick:function(){this.removeItem(),this.item.onClick&&this.item.onClick()},removeItem:function(){this.$emit("remove",this.item.id),this.clearTimeout()},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.timer&&(clearTimeout(this.timer),this.timer=null)})}}},MTIv:function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t){var e={};return function(t){return void 0===e[t]&&(e[t]=function(t){return document.querySelector(t)}.call(this,t)),e[t]}}(),c=null,u=0,l=[],f=n("mJPh");function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function m(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),p(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function b(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=u++;n=c||(c=m(e)),r=O.bind(null,n,a,!1),o=O.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=f(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return d(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&d(h(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var y,_=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function O(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},MU8w:function(t,e,n){"use strict";t.exports=n("hKoQ").polyfill()},MoMe:function(t,e,n){var r=n("FCuZ"),o=n("l9Lx"),i=n("ktak");t.exports=function(t){return r(t,i,o)}},Mqyi:function(t,e,n){"use strict";e.a=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var s=(i||[]).reduce(o,[]);return function t(e){var n=e.tag,o=e.props,i=e.children;var a=-1!==["svg","circle"].indexOf(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);if(o)for(var s in o){var c=o[s];"on"===s.slice(0,2)?a.addEventListener(s.slice(2).toLowerCase(),c):"className"===s?a.className=c:"dangerouslySetInnerHTML"===s?c&&(a.innerHTML=c):a.setAttribute(s,c)}for(var u=0,l=i.length;u<l;u++){var f=i[u];f instanceof Element?a.appendChild(f):Object(r.o)(f)?a.appendChild(t(f)):a.appendChild(document.createTextNode(f))}return a}({tag:t,props:e,children:s})};var r=n("Jaym");function o(t,e){return Array.isArray(e)?t=e.reduce(o,t):null==e||Object(r.k)(e)||t.push(Object(r.n)(e)?"".concat(e):e),t}},N5RP:function(t,e,n){var r=n("aqbq");t.exports=r("document","documentElement")},NGEn:function(t,e){var n=Array.isArray;t.exports=n},NGss:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},NKE6:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n<o?-1:n>o?1:0}},Ngrm:function(t,e,n){"use strict";var r=n("dWGm"),o=n.n(r);e.a=new o.a({delay:4e3})},NkRn:function(t,e,n){var r=n("TQ3y").Symbol;t.exports=r},Nkkh:function(t,e,n){var r=n("tv3T"),o=n("l9Lx");t.exports=function(t,e){return r(t,o(t),e)}},NqZt:function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},O1Tq:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-sidebar"},[n("div",{staticClass:"bookmark-sidebar__wrap"},[n("div",{staticClass:"bookmark-sidebar__panel"},[n("div",{staticClass:"bookmark-sidebar__title hidden-sm"},[t._v("\n        Мои списки\n      ")]),t._v(" "),n("div",{staticClass:"bookmark-menu"},t._l(t.folders,function(e){return n("div",{key:e.id,staticClass:"bookmark-menu__item",class:{"bookmark-menu__item_active":t.filter.folder===e.id},on:{click:function(n){return t.changeTab(e.id)}}},[n("span",{staticClass:"bookmark-menu__name"},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"bookmark-menu__label"},[t._v("\n            "+t._s(t.count[e.id]||0)+"\n          ")])])}),0),t._v(" "),n("div",{staticClass:"bookmark-menu__edit button button_block hidden-sm",attrs:{"data-open-modal":"#edit-folder-modal"}},[t._v("\n        Редактировать список\n      ")])]),t._v(" "),n("bookmark-settings",{staticClass:"hidden-sm"})],1)])},staticRenderFns:[]}},O4Lo:function(t,e,n){var r=n("yCNF"),o=n("RVHk"),i=n("kxzG"),a="Expected a function",s=Math.max,c=Math.min;t.exports=function(t,e,n){var u,l,f,d,h,p,v=0,m=!1,g=!1,b=!0;if("function"!=typeof t)throw new TypeError(a);function y(e){var n=u,r=l;return u=l=void 0,v=e,d=t.apply(r,n)}function _(t){var n=t-p;return void 0===p||n>=e||n<0||g&&t-v>=f}function O(){var t=o();if(_(t))return w(t);h=setTimeout(O,function(t){var n=e-(t-p);return g?c(n,f-(t-v)):n}(t))}function w(t){return h=void 0,b&&u?y(t):(u=l=void 0,d)}function k(){var t=o(),n=_(t);if(u=arguments,l=this,p=t,n){if(void 0===h)return function(t){return v=t,h=setTimeout(O,e),m?y(t):d}(p);if(g)return h=setTimeout(O,e),y(p)}return void 0===h&&(h=setTimeout(O,e)),d}return e=i(e)||0,r(n)&&(m=!!n.leading,f=(g="maxWait"in n)?s(i(n.maxWait)||0,e):f,b="trailing"in n?!!n.trailing:b),k.cancel=function(){void 0!==h&&clearTimeout(h),v=0,u=p=l=h=void 0},k.flush=function(){return void 0===h?d:w(o())},k}},OAwv:function(t,e,n){"use strict";var r=n("rprB"),o=n("BEQ0"),i=n("i4Cv");function a(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function s(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=o({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),a=e.length>0?e.join("="):void 0;a=void 0===a?null:i(a),n(i(o),a,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(n):t[e]=n,t},Object.create(null))):r}e.extract=s,e.parse=c,e.stringify=function(t,e){!1===(e=o({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[a(e,t),"[",r,"]"].join(""):[a(e,t),"[",a(r,t),"]=",a(n,t)].join("")};case"bracket":return function(e,n){return null===n?a(e,t):[a(e,t),"[]=",a(n,t)].join("")};default:return function(e,n){return null===n?a(e,t):[a(e,t),"=",a(n,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(r){var o=t[r];if(void 0===o)return"";if(null===o)return a(r,e);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(t){void 0!==t&&i.push(n(r,t,i.length))}),i.join("&")}return a(r,e)+"="+a(o,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:c(s(t),e)}}},OLx3:function(t,e,n){"use strict";var r=n("I3G/"),o=n.n(r);e.a=o.a.observable({info:{type:null,postId:null,api:"/api/comments"},auth:!1,page:null,activeItem:null,editing:!1,comments:[],replies:{}})},ONHR:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"header-show"}},[t.isVisible?n("div",{staticClass:"header header-actions bookmark-header-actions"},[n("div",{staticClass:"header__inner"},[n("div",{staticClass:"bookmark-header-actions__left"},[n("span",{staticClass:"bookmark-header-actions__count"},[n("i",{staticClass:"fa fa-check-circle"}),t._v(" "),n("span",[t._v("Выбрано")]),t._v(" "+t._s(t.checked.length))]),t._v(" "),n("button",{staticClass:"bookmark-header-actions__button bookmark-header-actions__button_toggle-all",on:{click:t.toggleAll}},[t._v("\n          выделить все\n        ")])]),t._v(" "),n("div",{staticClass:"bookmark-header-actions__right"},[n("button",{staticClass:"bookmark-header-actions__button",attrs:{"data-open-modal":"#move-bookmarks"}},[n("i",{staticClass:"fa fa-fw fa-folder"}),t._v(" "),n("span",[t._v("Переместить")])]),t._v(" "),n("button",{staticClass:"bookmark-header-actions__button",attrs:{"data-open-modal":"#bookmark-confirm-delete"}},[n("i",{staticClass:"fa fa-fw fa-trash"}),t._v(" "),n("span",[t._v("Удалить выделенные")])]),t._v(" "),n("button",{staticClass:"bookmark-header-actions__btn-icon bookmark-header-actions__btn-icon_more",attrs:{"data-open-modal":"#header-actions-modal"}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-extra"}})])]),t._v(" "),n("button",{staticClass:"bookmark-header-actions__btn-icon",on:{click:t.close}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])])])]):t._e()])},staticRenderFns:[]}},Oo6K:function(t,e,n){var r=n("nbsL");t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,s=i.length,c=n.length;++o<s;){var u=r(i[o],a[o]);if(u)return o>=c?u:u*("desc"==n[o]?-1:1)}return t.index-e.index}},OpCx:function(t,e){var n;(function(){if(void 0===window.DOMTokenList)return!1;var t=document.createElement("div");return t.classList.add("t"),!0!==t.classList.toggle("t",!0)||!t.classList.contains("t")||!(!1===t.classList.toggle("o",!1)&&!t.classList.contains("o"))})()&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){if(!0===e)this.add(t);else{if(!1!==e)return n.call(this,t);this.remove(t)}return this.contains(t)})},Opag:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("w9Mt"),o=n.n(r),i=n("I3G/"),a=n.n(i),s=n("QX9i"),c=n("LiUp"),u=n("u5FJ"),l=n("Jaym"),f=n("i1w/"),d=n.n(f);function h(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=h({},window.__DATA),m=["long_no_translation","onlyBookmarks","excludeBookmarks","year","status","types","format","genres","tags"],g=function(){return o()(c.a.defaultState,m)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.parse(JSON.stringify(t))};e.default=a.a.extend({components:{AppSelect:d.a},filters:{capitalize:function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}},props:{isMobile:Boolean},data:function(){return{list:h({},v.filters),state:b(o()(c.a.state,m)),loading:!1,auth:v.auth,isRanobe:v.isRanobe,genreFilter:""}},computed:{filteredGenres:function(){if(!this.genreFilter)return this.list.genres;var t=new RegExp("".concat(this.genreFilter),"i");return this.list.genres.filter(function(e){return t.test(e.name)})}},mounted:function(){var t=this;this.countFilters(),Object(u.c)(window,"popstate",function(){var e=h({},g(),{},window.history.state);t.onPopstate(b(e)),Object(s.b)(e,{preventPushState:!0})}),this.isMobile||(Object(u.c)(window,"resize",this.updatePosition,{passive:!0}),this.updatePosition())},methods:{toggleGenre:function(t){this.state.genres[t]||this.$set(this.state.genres,t,{checked:!1,excluded:!1});var e=this.state.genres[t];e.checked?e.excluded?e.checked=e.excluded=!1:e.excluded=!0:e.checked=!0},resetFilter:function(){this.state=g(),this.applyFilter()},applyFilter:function(){var t=this;this.loading=!0,this.countFilters(),Object(s.b)(b(this.state),{cb:function(){return t.loading=!1}})},onPopstate:function(t){var e=this,n=g();m.forEach(function(r){var o=t[r]?t[r]:n[r];e.state[r]=o})},valueByStatus:function(t){var e=this.state.genres[t];return e&&e.checked?e.excluded?2:1:0},updatePosition:function(){var t=s.a.listContainer.getBoundingClientRect();this.$refs.filterWrap.style.left="".concat(t.right+15,"px")},countFilters:function(){var t=0;Object(l.f)(this.state,function(e,n){Object(l.j)(e)?t+=e.length:"genres"===n?Object(l.f)(e,function(e){e.checked&&(t+=1)}):e&&(t+=1)}),Object(s.h)(t)}}})},P0Zj:function(t,e,n){var r=n("VU/8")(n("pm3x"),n("M/lN"),!1,null,null,null);t.exports=r.exports},P1fK:function(t,e,n){var r=n("hcE8"),o=n("HAas"),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},POb3:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Map");t.exports=r},PY8u:function(t,e,n){var r=n("VU/8")(n("Yoow"),n("WzCD"),!1,null,null,null);t.exports=r.exports},PYrI:function(t,e,n){var r=n("l/2K"),o=n("aske"),i=n("He3V"),a=n("1rEs");t.exports=function(t,e){for(var n=o(e),s=a.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},"Pam+":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aside__panel paper"},[n("h3",{staticClass:"aside__title"},[n("span",{staticClass:"aside__title-inner chat__title"},[n("span",[t._v("Мини чат")]),t._v(" "),n("div",[t._m(0),t._v(" "),t.store.isMobile?t._e():n("span",{staticClass:"tooltip",attrs:{"data-place":"left","aria-label":"Чат в окне"},on:{click:t.toggleWindow}},[n("i",{staticClass:"fa fa-window-maximize"})])])])]),t._v(" "),n("chat")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"chat__rules link-default tooltip",attrs:{href:"/news/rules_chat","data-place":"left","aria-label":"Правила чата"}},[e("i",{staticClass:"fa fa-exclamation-triangle"})])}]}},PedI:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},PffE:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"control"},[n("input",{staticClass:"control__input",attrs:{disabled:t.disabled,name:t.name,type:"radio"},domProps:{value:t.model,checked:t.isChecked},on:{change:function(e){return t.$emit("input",t.model)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_radio",class:{control__indicator_lg:t.large}}),t._v(" "),t.$slots.default||t.label?n("span",{staticClass:"control__text"},[t._t("default",[t._v(t._s(t.label))])],2):t._e()])},staticRenderFns:[]}},PqYH:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},Ptqd:function(t,e){t.exports=function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,r){var o;return r=r||{},o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},Q2wK:function(t,e,n){var r=n("8AZL"),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),c=Array(s);++a<s;)c[a]=i[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=i[a];return u[e]=n(c),r(t,this,u)}}},"Q3+A":function(t,e,n){"use strict";var r=n("aqbq"),o=n("1rEs"),i=n("jAiL"),a=n("q0qZ"),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},Q7hp:function(t,e,n){var r=n("uCi2");t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},QX9i:function(t,e,n){"use strict";var r=n("mtWM"),o=n.n(r),i=n("arOy"),a=n.n(i),s=n("Mqyi"),c=n("Ngrm"),u=n("Jaym"),l=n("u5FJ"),f=n("KO5a"),d=n("Us2S");var h=n("LiUp"),p=n("oTFi");n.d(e,"g",function(){return b}),n.d(e,"f",function(){return g}),n.d(e,"d",function(){return y}),n.d(e,"a",function(){return _}),n.d(e,"e",function(){return x}),n.d(e,"b",function(){return E}),n.d(e,"h",function(){return j}),n.d(e,"i",function(){return k}),n.d(e,"c",function(){return v}),n.d(e,"j",function(){return O});var v,m,g=l.g.has(document.body,"page_mobile"),b=!1,y=window.__HAS_NEXT_PAGE__,_={filterContainer:Object(l.l)("#manga-list-filter"),listContainer:Object(l.l)("#manga-list"),list:Object(l.l)(".manga-block-items"),listWrapper:Object(l.l)(".media-cards-grid"),sortInputs:Object(l.m)('.manga-list-sort input[type="radio"]'),sortButton:Object(l.l)(".manga-search__sort-button"),filter:Object(l.l)(".search-filter")},O=function(){v=Object(l.i)(_.list).bottom},w=function(t){l.g.toggle(_.list,"manga-block-items_loading",b=t)},k=function(){(Object(u.f)(_.sortInputs,function(t){t.value===h.a.state[t.name]&&(t.checked=!0)}),_.sortButton)&&(Object(l.f)(_.sortButton,"data-sort",h.a.state.dir),Object(l.l)("span",_.sortButton).textContent={rate:"По рейтингу",name:"По названию",views:"По просмотрам",created_at:"По дате добавления",chap_count:"По количеству глав"}[h.a.state.sort])},j=function(t){var e=Object(l.l)(".manga-search-filter__button-filter");if(e){var n=Object(l.l)("span",e);n.textContent=t,l.g.toggle(n,"hidden",0===t)}},x=function(){m=new a.a({elements_selector:".media-card"})},C=function(t,e){var n=document.createDocumentFragment();Object(u.f)(t,function(t){n.appendChild(function(t,e){var n,r=Object(u.t)(window.__BOOKMARK_FOLDERS__,"id","name"),o="";return e[t.type_id]&&(o=e[t.type_id]),t.bookmark_status&&(n=Object(s.a)("span",{className:"media-card__bookmark text-truncate","data-book-status":t.bookmark_status},r[t.bookmark_status])),Object(s.a)("div",{className:"media-card-wrap"},Object(s.a)("a",{className:"media-card",href:"/".concat(t.slug),style:"background-image: url(".concat(d.a.coverPlaceholder,");"),"data-src":d.a.cover(t),"data-media-id":t.id},Object(s.a)("div",{className:"media-card__caption"},Object(s.a)("h5",{className:"media-card__subtitle"},o),Object(s.a)("h3",{className:"media-card__title line-clamp"},t.rus_name||t.name)),n))}(t,e))}),t.length||n.appendChild(Object(s.a)("div",{className:"empty"},"Ничего не найдено")),_.listWrapper.appendChild(n)},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!b){g&&p.a.close();var n=h.a.state.page;h.a.setState(t);var r=h.a.mapStateToQuery();e.preventPushState||window.history.pushState(h.a.state,null,"?".concat(r.string)),w(!0),k(),o.a.post("/filterlist?".concat(r.string,"&page=").concat(h.a.state.page)).then(function(t){return t.data}).then(function(t){y=null!=t.items.next_page_url,n>=h.a.state.page&&(Object(f.a)(_.listContainer),m&&(m.destroy(),m=null),function(){for(;_.listWrapper.firstChild;)_.listWrapper.removeChild(_.listWrapper.lastChild)}()),C(t.items.data,t.categories),h.a.state.page>n&&m?m.update():x(),w(!1),O(),e.cb&&e.cb()}).catch(function(t){console.error(t),w(!1),c.a.alert("Приозошла ошибка при запросе")})}}},QYNq:function(t,e,n){var r=n("hcE8"),o=n("0Q51"),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o.call(i))},QmTJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("I3G/"),a=n.n(i),s=n("+nGo"),c=n.n(s),u=n("mxmQ"),l=n("Jaym"),f=n("M0Fu"),d=n("OLx3");function h(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}e.default=a.a.extend({mixins:[f.a,u.a],methods:{request:function(){var t,e=(t=o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchComments(e);case 2:return(n=t.sent).replies&&n.replies.length&&(this.mapData(n.replies),d.a.replies=Object(l.i)(n.replies,"parent_comment")),n.comments&&(this.mapData(n.comments),d.a.comments=d.a.comments.concat(n.comments)),this.showPartialComments&&!n.showPartial&&(this.showPartialComments=!1),this.$nextTick(this.jumpToComment),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){h(i,r,o,a,s,"next",t)}function s(t){h(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),sortChanged:function(t){this.currentOrder=t,this.showPartialComments=!1,this.loading=!0,this.page=1,d.a.comments=[],this.requestHandler(this.page)},mapData:function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.created_at=c()(r.created_at),r.userVote=this._userVotes[r.id]||null}},showAllComments:function(){this.showPartialComments=!1,this.loading=!0,this.page=1,d.a.comments=[],this.requestHandler(this.page)}}})},Qp3N:function(t,e,n){var r=n("NkRn"),o=n("1Yb9"),i=n("NGEn"),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},Qr4f:function(t,e){function n(t,e){if(void 0!==t.one&&1===e)return t.one;var n=e%10,r=e%100;return 1===n&&11!==r?t.singularNominative.replace("{{count}}",e):n>=2&&n<=4&&(r<10||r>20)?t.singularGenitive.replace("{{count}}",e):t.pluralGenitive.replace("{{count}}",e)}function r(t){return function(e,r){return r.addSuffix?r.comparison>0?t.future?n(t.future,e):"через "+n(t.regular,e):t.past?n(t.past,e):n(t.regular,e)+" назад":n(t.regular,e)}}t.exports=function(){var t={lessThanXSeconds:r({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:r({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,e){return e.addSuffix?e.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:r({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:r({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:r({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:r({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:r({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXMonths:r({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:r({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:r({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:r({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:r({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:r({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})};return{localize:function(e,n,r){return r=r||{},t[e](n,r)}}}},"QzY/":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,".collapsible{will-change:height;-webkit-transition:height .3s ease;transition:height .3s ease;overflow:hidden}.collapsible-enter,.collapsible-leave-to{height:0!important}",""])},RGrk:function(t,e,n){var r=n("dCZQ"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},RQWI:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,".dropdown-enter-active,.dropdown-leave-active{-webkit-transition:.2s cubic-bezier(.165,.84,.44,1);transition:.2s cubic-bezier(.165,.84,.44,1)}.dropdown-enter,.dropdown-leave-to{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}",""])},RVHk:function(t,e,n){var r=n("TQ3y");t.exports=function(){return r.Date.now()}},ReWN:function(t,e,n){var r=n("VU/8")(n("oVi6"),n("1Jaj"),!1,null,null,null);t.exports=r.exports},RfZv:function(t,e,n){var r=n("SOZo"),o=n("IGcM");t.exports=function(t,e){return null!=t&&o(t,e,r)}},Rh28:function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},RnaK:function(t,e,n){var r=n("VU/8")(n("3wP3"),n("iRQX"),!1,null,null,null);t.exports=r.exports},RpmR:function(t,e,n){var r=n("mi1p"),o=n("kxzG");t.exports=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==e&&(e=(e=o(e))==e?e:0),r(o(t),e,n)}},RxPu:function(t,e,n){"use strict";var r=n("i9tX"),o=n("ot7w"),i=n("wzd1"),a=n("jE8y"),s=n("GB3+"),c=n("wkr2"),u=n("+opI"),l=n("jAiL"),f=n("pzR0"),d=n("eZ0g"),h=n("UFcy"),p=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g=function(){return this};t.exports=function(t,e,n,l,h,b,y){o(n,e,l);var _,O,w,k=function(t){if(t===h&&S)return S;if(!v&&t in C)return C[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},j=e+" Iterator",x=!1,C=t.prototype,E=C[m]||C["@@iterator"]||h&&C[h],S=!v&&E||k(h),T="Array"==e&&C.entries||E;if(T&&(_=i(T.call(new t)),p!==Object.prototype&&_.next&&(f||i(_)===p||(a?a(_,p):"function"!=typeof _[m]&&c(_,m,g)),s(_,j,!0,!0),f&&(d[j]=g))),"values"==h&&E&&"values"!==E.name&&(x=!0,S=function(){return E.call(this)}),f&&!y||C[m]===S||c(C,m,S),d[e]=S,h)if(O={values:k("values"),keys:b?S:k("keys"),entries:k("entries")},y)for(w in O)!v&&!x&&w in C||u(C,w,O[w]);else r({target:e,proto:!0,forced:v||x},O);return O}},S7p9:function(t,e){t.exports=function(t){return function(e){return t(e)}}},SGXn:function(t,e,n){var r=n("eP4g"),o=n("S7p9"),i=n("Dc0G"),a=i&&i.isSet,s=a?o(a):r;t.exports=s},SHWz:function(t,e,n){var r=n("MoMe"),o=1,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,c){var u=n&o,l=r(t),f=l.length;if(f!=r(e).length&&!u)return!1;for(var d=f;d--;){var h=l[d];if(!(u?h in e:i.call(e,h)))return!1}var p=c.get(t);if(p&&c.get(e))return p==e;var v=!0;c.set(t,e),c.set(e,t);for(var m=u;++d<f;){var g=t[h=l[d]],b=e[h];if(a)var y=u?a(b,g,h,e,t,c):a(g,b,h,t,e,c);if(!(void 0===y?g===b||s(g,b,n,a,c):y)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var _=t.constructor,O=e.constructor;_!=O&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof O&&O instanceof O)&&(v=!1)}return c.delete(t),c.delete(e),v}},SJLv:function(t,e){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);var o=n.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},SOZo:function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},SldL:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r=l;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=j(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",h="completed",p={};function v(){}function m(){}function g(){}var b={};b[i]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(S([])));_&&_!==n&&r.call(_,i)&&(b=_);var O=g.prototype=v.prototype=Object.create(b);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(n,o){function i(){return new Promise(function(e,i){!function e(n,o,i,a){var s=u(t[n],t,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(l).then(function(t){c.value=t,i(c)},function(t){return e("throw",t,i,a)})}a(s.arg)}(n,o,e,i)})}return e=e?e.then(i,i):i()}}function j(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=u(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return m.prototype=O.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},w(k.prototype),k.prototype[a]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,r,o){var i=new k(c(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},w(O),O[s]="Generator",O[i]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},Sp3X:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"multi-select"},[t._l(t.model,function(e){return n("div",{key:e,staticClass:"multi-select__tag"},[t._v("\n    "+t._s(t.itemsByKey[e])+"\n    "),n("span",{staticClass:"multi-select__close",on:{click:function(n){return t.remove(e)}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])])}),t._v(" "),n("input",{ref:"input",staticClass:"multi-select__input form__input",attrs:{type:"text",placeholder:t.placeholder},on:{input:t.debounceFilter}}),t._v(" "),n("div",{ref:"menu",staticClass:"menu menu_xs hidden multi-select__menu"},[t.filteredItems.length?t._l(t.filteredItems,function(e){return n("div",{key:e.id,staticClass:"menu__item text-truncate",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.select(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}):n("div",{staticClass:"empty empty_sm"},[t._v("\n      Больше нет тегов\n    ")])],2)],2)},staticRenderFns:[]}},"T/bE":function(t,e,n){var r=n("94sX"),o=n("ue/d"),i=n("eVIm"),a=n("RGrk"),s=n("Z2pD");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},TPRO:function(t,e,n){var r=n("VU/8")(n("hK3Z"),n("/lET"),!1,null,null,null);t.exports=r.exports},TQ3y:function(t,e,n){var r=n("blYT"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},TmPq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("oTFi"),a=n("abp6"),s=n.n(a),c=n("7/oE"),u=n("Kip4"),l=n("CkJp"),f=n.n(l);e.default=o.a.extend({components:{VueModal:s.a,BookmarkFoldersList:f.a},mixins:[u.a,Object(c.a)()],methods:{show:function(t,e){this.mangaId=t,this.status=e,i.a.show(this.$el)}}})},"U/9O":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrap",staticClass:"chat-wrap",class:{"is-open":t.isOpen,"is-unpinned":t.settings.unpinned},style:t.styles},[n("div",{staticClass:"chat-wrap__head",on:{click:function(e){return t.toggleOpen(!0)}}},[n("div",{staticClass:"chat-wrap__resizer",on:{mousedown:t.resizeStart}},[n("svg",{attrs:{viewBox:"0 0 10 10"}},[n("path",{attrs:{d:"M0 0h2v2h-2v-2z"}}),t._v(" "),n("path",{attrs:{d:"M0 3h2v2h-2v-2z"}}),t._v(" "),n("path",{attrs:{d:"M0 6h2v2h-2v-2z"}}),t._v(" "),n("path",{attrs:{d:"M3 0h2v2h-2v-2z"}}),t._v(" "),n("path",{attrs:{d:"M3 3h2v2h-2v-2z"}}),t._v(" "),n("path",{attrs:{d:"M6 0h2v2h-2v-2z"}})])]),t._v(" "),n("div",{staticClass:"chat-wrap__title",on:{mousedown:t.moveStart}},[n("span",[t._v("Мини чат")]),t._v(" "),n("i",{staticClass:"fa fa-fw fa-comments-o"})]),t._v(" "),n("div",{staticClass:"chat-wrap__actions"},[t._m(0),t._v(" "),n("div",{staticClass:"chat-wrap__action tooltip",attrs:{"aria-label":t.settings.unpinned?"Закрепить":"Открепить","data-place":"left"},on:{click:t.togglePin}},[n("i",{staticClass:"chat-wrap__pin fa fa-fw fa-thumb-tack"})]),t._v(" "),n("div",{staticClass:"chat-wrap__action"},[n("div",{on:{click:function(e){e.stopPropagation(),t.showSettings=!t.showSettings}}},[n("i",{staticClass:"fa fa-fw fa-cog"})]),t._v(" "),n("chat-settings",{attrs:{show:t.showSettings},on:{"update:show":function(e){t.showSettings=e}}})],1),t._v(" "),n("div",{staticClass:"chat-wrap__action tooltip",attrs:{"data-place":"left","aria-label":"Свернуть"},on:{click:function(e){return e.stopPropagation(),t.toggleOpen(!1)}}},[n("i",{staticClass:"fa fa-fw fa-close"})])])]),t._v(" "),n("chat",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],attrs:{"chat-size":t.size.h}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"chat-wrap__action chat__rules tooltip",attrs:{href:"/news/rules_chat","data-place":"left","aria-label":"Правила чата"}},[e("i",{staticClass:"fa fa-exclamation-triangle"})])}]}},UFcy:function(t,e,n){"use strict";var r,o,i,a=n("wzd1"),s=n("wkr2"),c=n("l/2K"),u=n("jAiL"),l=n("pzR0"),f=u("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):d=!0),void 0==r&&(r={}),l||c(r,f)||s(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},UHV6:function(t,e,n){var r=n("5+O3"),o=n("gado"),i=n("xDUa"),a=n("Xo5R"),s=n("URKv"),c=n("f1+4"),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,f){var d,h,p,v,m,g,b=a(e,n,l?2:1);if(f)d=t;else{if("function"!=typeof(h=s(t)))throw TypeError("Target is not iterable");if(o(h)){for(p=0,v=i(t.length);v>p;p++)if((m=l?b(r(g=t[p])[0],g[1]):b(t[p]))&&m instanceof u)return m;return new u(!1)}d=h.call(t)}for(;!(g=d.next()).done;)if((m=c(d,b,g.value,l))&&m instanceof u)return m;return new u(!1)}).stop=function(t){return new u(!0,t)}},URKv:function(t,e,n){var r=n("jgJS"),o=n("eZ0g"),i=n("jAiL")("iterator");t.exports=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},Ubhr:function(t,e,n){var r=n("6MiT"),o=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},UfSK:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},UnEC:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},UnLw:function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n("fMqj")(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=i},Us2S:function(t,e,n){"use strict";var r={avatar:function(t){return t.avatar&&"0"!=t.avatar&&(t.user_id||t.id)?"/uploads/users/".concat(t.user_id||t.id,"/").concat(t.avatar):this.avatarPlaceholder},coverThumb:function(t){return this.cover(t,!0)},cover:function(t,e){if(!t.cover)return this.coverPlaceholder;var n,r="/uploads/cover/".concat(t.slug,"/cover");if(t.updated_at){var o=new Date(t.updated_at);o.setMinutes(-1*o.getTimezoneOffset()),n=o.getTime()/1e3}return r+=e?"/cover_thumb.jpg":"/cover_250x350.jpg",n&&(r+="?".concat(n)),r},teamCover:function(t){return t.cover?"/uploads/team/".concat(t.slug,"/cover/cover_250x350.jpg"):this.coverPlaceholder},avatarPlaceholder:"/uploads/users/placeholder.png",coverPlaceholder:"/uploads/no-image.png",base64Placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mN89x8AAuEB74Y0o2cAAAAASUVORK5CYII="};e.a=r},UuLt:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat"},[n("div",{staticClass:"chat__items",style:t.size,on:{click:t.addReply}},[t.store.items.length?[t._l(t.store.items,function(e){return n("chat-item",{key:e.id,attrs:{item:e},on:{remove:t.remove}})}),t._v(" "),n("div",{staticClass:"chat__more button button_block",class:{"button_loading-inv":t.loading},on:{click:t.loadMore}},[t._v("\n        Загрузить еще\n      ")])]:t._l(5,function(e){return n("div",{key:e,staticClass:"placeholder placeholder_static"},[n("div",{staticClass:"placeholder-masker placeholder__chat-avatar"}),t._v(" "),n("div",{staticClass:"placeholder-masker placeholder__chat-username"}),t._v(" "),n("div",{staticClass:"placeholder-masker placeholder__chat-date"}),t._v(" "),n("div",{staticClass:"placeholder-masker placeholder__chat-text-first"}),t._v(" "),n("div",{staticClass:"placeholder-masker placeholder__chat-text-second"})])})],2),t._v(" "),n("div",{ref:"sendForm",staticClass:"chat-send"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.store.text,expression:"store.text"}],ref:"area",staticClass:"chat-send__area",attrs:{maxlength:"300",placeholder:"Ваше сообщение"},domProps:{value:t.store.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.sendMessage(e):null},blur:function(e){return t.updateAreaSize({trim:!0})},input:function(e){e.target.composing||t.$set(t.store,"text",e.target.value)}}}),t._v(" "),n("button",{staticClass:"chat-send__button",class:t.sendButtonClasses,attrs:{disabled:t.sending||!t.textLength,"data-place":"top-end","aria-label":"Ctrl + Enter - Отправить"},on:{click:t.sendMessage}},[n("i",{staticClass:"fa fa-paper-plane-o"})])])])},staticRenderFns:[]}},Uz1a:function(t,e,n){var r=n("bJWQ"),o=n("FhcP"),i=n("EHRO"),a=n("SHWz"),s=n("gHOb"),c=n("NGEn"),u=n("ggOT"),l=n("YsVG"),f=1,d="[object Arguments]",h="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,b){var y=c(t),_=c(e),O=y?h:s(t),w=_?h:s(e),k=(O=O==d?p:O)==p,j=(w=w==d?p:w)==p,x=O==w;if(x&&u(t)){if(!u(e))return!1;y=!0,k=!1}if(x&&!k)return b||(b=new r),y||l(t)?o(t,e,n,m,g,b):i(t,e,O,n,m,g,b);if(!(n&f)){var C=k&&v.call(t,"__wrapped__"),E=j&&v.call(e,"__wrapped__");if(C||E){var S=C?t.value():t,T=E?e.value():e;return b||(b=new r),g(S,T,n,m,b)}}return!!x&&(b||(b=new r),a(t,e,n,m,g,b))}},"V+c1":function(t,e,n){"use strict";var r=n("1rEs").f,o=n("43zn"),i=n("XM+g"),a=n("Xo5R"),s=n("tyBP"),c=n("UHV6"),u=n("RxPu"),l=n("Q3+A"),f=n("q0qZ"),d=n("0LGO").fastKey,h=n("I1z2"),p=h.set,v=h.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,r){s(t,l,e),p(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=r&&c(r,t[u],t,n)}),h=v(e),m=function(t,e,n){var r,o,i=h(t),a=g(t,e);return a?a.value=n:(i.last=a={index:o=d(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},g=function(t,e){var n,r=h(t),o=d(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(l.prototype,{clear:function(){for(var t=h(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=h(this),n=g(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),f?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=h(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),i(l.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=v(e),i=v(r);u(t,e,function(t,e){p(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),l(e)}}},V9wp:function(t,e,n){var r=n("mAt8"),o=n("wSKX");t.exports=function(t){return r(t,o)}},"VB+d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("O4Lo"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("DLrZ"),c=n.n(s),u=n("ReWN"),l=n.n(u),f=n("83Qj"),d=n.n(f),h=n("6Vnj"),p=n.n(h),v=n("M7Fo"),m=[],g=o()(function(){m.length&&(a.a.post("/bookmark/delete-chapters",{chapters:m}).then(function(){return v.a.emit("updateCache")}),m=[])},1e3);e.default={components:{BookmarkChapter:c.a,BookmarkInfo:l.a,Collapse:d.a,VCheckbox:p.a},props:{item:{type:Object,required:!0},settings:{type:Object,required:!0}},data:function(){return{showChapters:!1}},computed:{checked:function(){return v.b.checked},activeCls:function(){return this.showChapters?"bookmark__drop-down_open":""},isCheck:function(){return-1!==this.checked.indexOf(this.item.manga_id)}},methods:{chapterUrl:function(t,e){var n,r;return n=t.chapter?t.chapter:t,r="".concat(this.item.slug,"/v").concat(n.volume,"/c").concat(n.number),t.team_slug&&(r+="/".concat(t.team_slug)),e?"".concat(r,"?page=").concat(e):r},beforeLeave:function(t){t.style.height="".concat(t.offsetHeight,"px")},remove:function(t,e){m.push(t),this.item.chapters.splice(e,1),g()},toggle:function(){this.showChapters=!this.showChapters},change:function(t){v.b.checked=t}}}},VMsc:function(t,e,n){var r=n("mi1p"),o=n("o2mx"),i=n("5Zxu"),a=n("ZT2e");t.exports=function(t,e,n){t=a(t),e=o(e);var s=t.length,c=n=void 0===n?s:r(i(n),0,s);return(n-=e.length)>=0&&t.slice(n,c)==e}},VORN:function(t,e,n){var r=n("yCNF"),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},"VU/8":function(t,e){t.exports=function(t,e,n,r,o,i){var a,s=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(a=t,s=t.default);var u,l="function"==typeof s?s.options:s;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId=o),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):r&&(u=r),u){var f=l.functional,d=f?l.render:l.beforeCreate;f?(l._injectStyles=u,l.render=function(t,e){return u.call(e),d(t,e)}):l.beforeCreate=d?[].concat(d,u):[u]}return{esModule:a,exports:s,options:l}}},Vi3P:function(t,e,n){var r=n("bIjD"),o=n("oqL2"),i=n("Cf65"),a=n("Ubhr");t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},W529:function(t,e,n){var r=n("f931")(Object.keys,Object);t.exports=r},WFiI:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},WHce:function(t,e,n){var r=n("037f"),o=n("Zk5a")(r);t.exports=o},WNGz:function(t,e,n){var r=n("xA5w");t.exports=function(t){var e=r(t);return e.setHours(0,0,0,0),e}},WQFf:function(t,e,n){var r=n("VORN"),o=n("vi0E"),i=n("HT7L");t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},WpjT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("O4Lo"),o=n.n(r),i=n("IDmg"),a=n("u5FJ"),s=n("Jaym"),c=n("vrSs");function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={model:{prop:"model",event:"change"},props:{model:Array,items:Array,placeholder:String},data:function(){return{filter:"",itemsByKey:Object(s.t)(this.items,"id","name")}},computed:{filteredItems:function(){var t=this,e=this.items;if(this.filter){var n=new RegExp("".concat(this.filter),"i");e=e.filter(function(t){return n.test(t.name)})}return e=e.filter(function(e){for(var n=0,r=t.model.length;n<r;n++){if(t.model[n]===e.id)return!1}return!0})}},mounted:function(){var t=this;a.g.remove(this.$refs.menu,"hidden");var e=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},c.f,{content:function(){return t.$refs.menu},duration:[200,0],trigger:"focus",interactive:!0,hideOnClick:!1});c.j&&(e.placement="right-start"),this._tippy=Object(i.default)(this.$refs.input,e)},beforeDestroy:function(){this._tippy.destroy()},methods:{select:function(t){var e=u(this.model);e.push(t.id),this.onChange(e),this._tippy.hide(),this.$refs.input.value="",this.filter=""},remove:function(t){var e=this.model.filter(function(e){return e!==t});this.onChange(e)},onChange:function(t){this.$emit("change",t)},debounceFilter:o()(function(t){var e=this;this.filter=t.target.value,this.$nextTick(function(){e._tippy.popperInstance.update()})},150)}}},WvIn:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},WxI4:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},WyC4:function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},WzCD:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-modal",{attrs:{id:"bookmark-confirm-delete",size:"xs",title:"Подтверждение удаления","title-position":"text-center","close-icon":""}},[n("div",{staticClass:"modal__body"},[n("p",{staticClass:"text-center form__field"},[t._v("\n      Вы действительно хотите "),n("b",[t._v("удалить выбранную Мангу")]),t._v(" из списка\n      "),n("b",[t._v(t._s(t.folderName))])]),t._v(" "),n("div",{staticClass:"buttons-stretch"},[n("button",{staticClass:"button button_red",class:{button_loading:t.loading},attrs:{disabled:t.loading},on:{click:t.destorySelectedManga}},[t._v("\n        Да, удалить\n      ")]),t._v(" "),n("button",{staticClass:"button",attrs:{"data-close-modal":""}},[t._v("\n        Отмена\n      ")])])])])},staticRenderFns:[]}},"XM+g":function(t,e,n){var r=n("+opI");t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},Xo5R:function(t,e,n){var r=n("WvIn");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},YDHx:function(t,e,n){var r=n("Uz1a"),o=n("UnEC");t.exports=function t(e,n,i,a,s){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,s))}},YRFD:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n>o?-1:n<o?1:0}},YV2r:function(t,e,n){var r=n("VU/8")(n("o9Zb"),n("lA4Z"),!1,null,null,null);t.exports=r.exports},YeCl:function(t,e,n){var r=n("CW5P"),o=n("A9mX"),i=n("v8Dt"),a=n("agim"),s=n("Dv2r");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},YkxI:function(t,e,n){var r=n("wSKX"),o=n("Q2wK"),i=n("WHce");t.exports=function(t,e){return i(o(t,e,r),t+"")}},Yoow:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("I3G/"),c=n.n(s),u=n("abp6"),l=n.n(u),f=n("oG8a"),d=n("oTFi"),h=n("Jaym"),p=n("M7Fo"),v=n("7/oE");function m(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}e.default=c.a.extend({components:{VueModal:l.a},mixins:[Object(v.a)()],data:function(){return{loading:!1}},computed:{folderName:function(){return Object(h.d)(p.b.folders,function(t){return t.id===p.b.filter.folder}).name}},methods:{destorySelectedManga:function(){var t,e=(t=o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=m(p.b.checked),this.loading=!0,p.b.checked=[],t.prev=3,t.next=6,a.a.post("/bookmark/destroy",{ids:e});case 6:p.b.bookmarks=p.b.bookmarks.filter(function(t){return-1===e.indexOf(t.manga_id)}),p.a.emit("count"),p.a.emit("updateCache"),f.a.success("Манга успешно удалена из закладок"),d.a.close(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),console.error(t.t0),f.a.alert("Ошибка при удалении закладок");case 17:this.loading=!1;case 18:case"end":return t.stop()}},t,this,[[3,13]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){g(i,r,o,a,s,"next",t)}function s(t){g(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()}})},YsVG:function(t,e,n){var r=n("z4hc"),o=n("S7p9"),i=n("Dc0G"),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},YveC:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},Z2pD:function(t,e,n){var r=n("dCZQ"),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},ZD0O:function(t,e,n){var r=n("CHen"),o=n("RfZv");t.exports=function(t,e){return r(t,e,function(e,n){return o(t,n)})}},"ZDF/":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-modal",{attrs:{id:"move-bookmarks",title:"Переместить выбранное в...",size:"xs","close-icon":""}},[n("div",{staticClass:"menu menu_default"},t._l(t.folders,function(e){return n("div",{key:e.id,staticClass:"menu__item",on:{click:function(n){return t.moveBookmarksToFolder(e.id)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}),0)])},staticRenderFns:[]}},ZGh9:function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?n:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},ZLZl:function(t,e,n){"use strict";e.b=function(t){if(v(t))return;d.push(t),h.push(t),p()},e.a=function(t,e,n){return y.apply(this,arguments)};var r=n("En79"),o=n.n(r),i=n("O4Lo"),a=n.n(i),s=n("mtWM"),c=n.n(s),u=n("Jaym");function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)})}}var d=[],h=[],p=a()(function(){var t={ids:[].concat(h)};c.a.delete("/notification/destroy",{data:t}),h.length=0},1e3),v=function(t){return-1!==Object(u.e)(d,function(e){return e===t})};var m=[],g=function(){var t=f(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=new FormData).append("_token",Object(u.h)()),m.forEach(function(t){e.append("ids[]",t)}),m=[],!navigator.sendBeacon){t.next=8;break}navigator.sendBeacon("/notification/read",e),t.next=16;break;case 8:return t.prev=8,t.next=11,c.a.post("/notification/read",e);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),console.error(t.t0);case 16:case"end":return t.stop()}},t,null,[[8,13]])}));return function(){return t.apply(this,arguments)}}(),b=a()(g,1500);function y(){return(y=f(o.a.mark(function t(e,n,r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:m.push(e),r?b():(g(),window.location=n);case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}},ZT2e:function(t,e,n){var r=n("o2mx");t.exports=function(t){return null==t?"":r(t)}},Zk5a:function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},ZlUE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mtWM"),o=n.n(r),i=n("RnaK"),a=n.n(i),s=n("Ngrm"),c=n("u5FJ"),u=n("1UPi"),l=n("IDmg"),f=n("Mqyi"),d=n("Jaym");function h(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={a11y:!1,animation:"fade",animateFill:!1,placement:"top-start",distance:5,theme:"message-preview"},m={avatar:"avatar",name:"username",content:"content",className:""},g=function(t,e){return Object(f.a)("div",{className:"message-preview ".concat(e.className)},t[e.avatar]&&Object(f.a)("img",{src:t[e.avatar],alt:t[e.name],className:"message-preview__avatar"}),t[e.name]&&Object(f.a)("span",{className:"message-preview__username"},t[e.name]),Object(f.a)("div",{className:"message-preview__content",dangerouslySetInnerHTML:t[e.content]}))},b=n("JnrT"),y=n.n(b);function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var O,w,k,j=function(t){return t[0]},x=function(){clearInterval(O),O=null};e.default={componentName:"Chat",components:{ChatItem:a.a},inject:["store"],props:{chatSize:Number},data:function(){return{loading:!1,sending:!1,areaHeight:40}},computed:{textLength:function(){return this.store.text.trim().length},sendButtonClasses:function(){return{"button_loading-inv":this.sending,tooltip_delay:!this.sending,tooltip:!this.sending&&this.textLength}},size:function(){if(null!=this.chatSize)return{height:"".concat(this.chatSize-this.areaHeight-30,"px")}}},created:function(){var t=this;Object(u.b)(function(e,n){e||(t.store.items=n.items,t.store.auth=n.auth,t.messagesInterval())},{auth:!0}),w=setInterval(function(){return t.checkOnilneUsers()},1e6)},mounted:function(){var t,e,n,r=this,i=this.$refs.area;this.store.isMobile&&this.$refs.sendForm&&document.body.appendChild(this.$refs.sendForm),i&&(y()(i),Object(c.c)(i,"autosize:resized",function(){r.areaHeight=i.offsetHeight})),t={url:"/chat/message",el:this.$el,tippy:{target:"span[title]"},propNames:{content:"text",name:"name",className:"message-preview_chat"},render:function(t,e){var n=Object(d.d)(r.store.items,function(e){return e.id===t});return null===n?null:g(n,e)}},e=h({},m,{},t.propNames),(n=h({},v,{},t.tippy)).wait||(n.wait=function(n){var r=c.f.has(n.reference,"data-init"),i=Object(c.f)(n.reference,"title"),a=!1;if(r)return n.show();if(c.f.remove(n.reference,"title"),t.render&&Object(d.m)(t.render)){var s=t.render(parseInt(i,10),e);null!==s&&(a=!0,n.setContent(s),Object(c.f)(n.reference,"data-init",!0))}a||(n.setContent(Object(f.a)("div",{className:"message-preview ".concat(e.className)},Object(f.a)("div",{className:"loader-circle loader-circle_small"}))),o.a.get(t.url,{params:{id:i}}).then(function(t){var r=t.data;n.setContent(g(r,e)),Object(c.f)(n.reference,"data-init",!0)})),n.show()}),Object(l.default)(t.el,n)},methods:{remove:function(t){var e=this,n=_(this.store.items),r=Object(d.e)(this.store.items,function(e){return e.id===t});this.store.items.splice(r,1),o.a.delete("/chat/".concat(t)).catch(function(){e.store.items=n})},messagesInterval:function(){var t=this;O&&x(),O=setInterval(function(){return t.checkMessages()},2e4)},checkMessages:function(){var t=this;Object(u.b)(function(e,n){if(e)return x();n.length&&(t.store.items=n.concat(t.store.items))},{before:j(this.store.items).id})},checkOnilneUsers:function(){var t=this,e=this.store.items.map(function(t){return t.user_id}).filter(function(t,e,n){return n.indexOf(t)===e});o.a.post("/chat/check-online",{users:e}).then(function(e){for(var n=e.data,r=t.store.items.length;r--;){var o=t.store.items[r];n[o.user_id]&&(o.online=n[o.user_id])}}).catch(function(){return clearInterval(w)})},loadMore:function(){var t,e=this;this.loading||(this.loading=!0,Object(u.b)(function(t,n){if(e.loading=!1,t)return s.a.alert("Произошла ошибка при загрузке");e.store.items=e.store.items.concat(n)},{after:(t=this.store.items,t[t.length-1]).id}))},addReply:function(t){var e=t.target;if(this.store.auth){var n=e.closest(".chat-item__reply");n&&(this.store.text="".concat(this.trimText()," ").concat(Object(c.f)(n,"data-reply")," "),this.updateAreaSize({focus:!0}))}},sendMessage:function(){var t=this;if(!this.store.auth)return s.a.alert("Вы не авторизованы");!this.sending&&this.textLength&&(k&&k===this.trimText()||(this.sending=!0,this.store.text=k=this.trimText(),x(),o.a.post("/chat",{text:k,before:j(this.store.items).id}).then(function(t){return t.data}).then(function(e){t.store.text="",t.sending=!1,t.store.items=e.concat(t.store.items),t.messagesInterval(),t.updateAreaSize()}).catch(function(){return t.sending=!1})))},updateAreaSize:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.focus;e.trim&&(this.store.text=this.trimText()),this.$nextTick(function(){y.a.update(t.$refs.area),n&&t.$refs.area.focus()})},trimText:function(){return this.store.text.trim()}}}},"a/rO":function(t,e,n){"use strict";var r=n("9mDF"),o=n("HLWT"),i=n("eZ0g"),a=n("I1z2"),s=n("RxPu"),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},aCM0:function(t,e,n){var r=n("NkRn"),o=n("uLhX"),i=n("+66z"),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:c&&c in Object(t)?o(t):i(t)}},aHVx:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"filterWrap",staticClass:"paper manga-search-filter"},[n("h3",{staticClass:"manga-search-filter__title"},[t._v("\n    Фильтры\n  ")]),t._v(" "),n("div",{staticClass:"manga-search-filter__wrap"},[n("div",{staticClass:"manga-search-filter__filters"},[n("div",{staticClass:"manga-search-filter__group"},[n("label",{staticClass:"form__label",attrs:{for:"manga-year"}},[t._v("Год выпуска")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.year,expression:"state.year"}],staticClass:"form__input manga-search-filter__input",attrs:{type:"text"},domProps:{value:t.state.year},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state,"year",e.target.value)}}})]),t._v(" "),t.auth?n("div",{staticClass:"manga-search-filter__group"},[t.state.onlyBookmarks?t._e():n("label",{staticClass:"control manga-search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.excludeBookmarks,expression:"state.excludeBookmarks"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state.excludeBookmarks)?t._i(t.state.excludeBookmarks,null)>-1:t.state.excludeBookmarks},on:{change:function(e){var n=t.state.excludeBookmarks,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&t.$set(t.state,"excludeBookmarks",n.concat([null])):i>-1&&t.$set(t.state,"excludeBookmarks",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.state,"excludeBookmarks",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Скрыть "+t._s(t.isRanobe?"ранобэ":"мангу")+" в закладках")])]),t._v(" "),t.state.excludeBookmarks?t._e():n("label",{staticClass:"control manga-search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.onlyBookmarks,expression:"state.onlyBookmarks"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state.onlyBookmarks)?t._i(t.state.onlyBookmarks,null)>-1:t.state.onlyBookmarks},on:{change:function(e){var n=t.state.onlyBookmarks,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&t.$set(t.state,"onlyBookmarks",n.concat([null])):i>-1&&t.$set(t.state,"onlyBookmarks",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.state,"onlyBookmarks",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Показывать "+t._s(t.isRanobe?"ранобэ":"мангу")+" только из закладок")])]),t._v(" "),n("label",{staticClass:"control manga-search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.long_no_translation,expression:"state.long_no_translation"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state.long_no_translation)?t._i(t.state.long_no_translation,null)>-1:t.state.long_no_translation},on:{change:function(e){var n=t.state.long_no_translation,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&t.$set(t.state,"long_no_translation",n.concat([null])):i>-1&&t.$set(t.state,"long_no_translation",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.state,"long_no_translation",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Нет перевода уже 3 месяца")])]),t._v(" "),t.state.long_no_translation?n("label",{staticClass:"control manga-search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.without_chapters,expression:"state.without_chapters"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state.without_chapters)?t._i(t.state.without_chapters,null)>-1:t.state.without_chapters},on:{change:function(e){var n=t.state.without_chapters,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&t.$set(t.state,"without_chapters",n.concat([null])):i>-1&&t.$set(t.state,"without_chapters",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.state,"without_chapters",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Скрыть "+t._s(t.isRanobe?"ранобэ":"мангу")+" без глав")])]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"manga-search-filter__categories manga-search-filter__group"},[n("div",{staticClass:"form__label"},[t._v("\n          Категории\n        ")]),t._v(" "),n("div",{staticClass:"manga-search-filter__checkbox-list"},t._l(t.list.types,function(e){return n("label",{key:e.id,staticClass:"control manga-search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.types,expression:"state.types"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.state.types)?t._i(t.state.types,e.id)>-1:t.state.types},on:{change:function(n){var r=t.state.types,o=n.target,i=!!o.checked;if(Array.isArray(r)){var a=e.id,s=t._i(r,a);o.checked?s<0&&t.$set(t.state,"types",r.concat([a])):s>-1&&t.$set(t.state,"types",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.state,"types",i)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e.label))])])}),0)]),t._v(" "),t.state.long_no_translation?t._e():n("div",{staticClass:"manga-search-filter__status manga-search-filter__group"},[n("div",{staticClass:"form__label"},[t._v("\n          Статус перевода\n        ")]),t._v(" "),n("div",{staticClass:"manga-search-filter__checkbox-list"},t._l(t.list.status,function(e){return n("label",{key:e.id,staticClass:"control manga-search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.status,expression:"state.status"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.state.status)?t._i(t.state.status,e.id)>-1:t.state.status},on:{change:function(n){var r=t.state.status,o=n.target,i=!!o.checked;if(Array.isArray(r)){var a=e.id,s=t._i(r,a);o.checked?s<0&&t.$set(t.state,"status",r.concat([a])):s>-1&&t.$set(t.state,"status",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.state,"status",i)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(t._f("capitalize")(e.label)))])])}),0)]),t._v(" "),n("div",{staticClass:"manga-search-filter__format manga-search-filter__group"},[n("div",{staticClass:"form__label"},[t._v("\n          Формат выпуска\n        ")]),t._v(" "),n("div",{staticClass:"manga-search-filter__checkbox-list"},t._l(t.list.format,function(e){return n("label",{key:e.id,staticClass:"control manga-search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.format,expression:"state.format"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.state.format)?t._i(t.state.format,e.id)>-1:t.state.format},on:{change:function(n){var r=t.state.format,o=n.target,i=!!o.checked;if(Array.isArray(r)){var a=e.id,s=t._i(r,a);o.checked?s<0&&t.$set(t.state,"format",r.concat([a])):s>-1&&t.$set(t.state,"format",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.state,"format",i)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e.name))])])}),0)]),t._v(" "),t.list.tags&&t.list.tags.length?n("div",{staticClass:"manga-search-filter__group"},[n("div",{staticClass:"form__label"},[t._v("\n          Теги\n        ")]),t._v(" "),n("app-select",{attrs:{items:t.list.tags,placeholder:"Добавить тег"},model:{value:t.state.tags,callback:function(e){t.$set(t.state,"tags",e)},expression:"state.tags"}})],1):t._e(),t._v(" "),n("div",{staticClass:"manga-search-filter__genres manga-search-filter__group"},[n("div",{staticClass:"manga-search-filter__genre-filter"},[n("div",{staticClass:"form__label"},[t._v("\n            Жанры\n          ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.genreFilter,expression:"genreFilter"}],staticClass:"form__input",attrs:{type:"text",placeholder:"Фильтр по жанрам"},domProps:{value:t.genreFilter},on:{input:function(e){e.target.composing||(t.genreFilter=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"manga-search-filter__checkbox-list"},t._l(t.filteredGenres,function(e){return n("div",{key:e.id,staticClass:"control manga-search-filter__checkbox",on:{click:function(n){return t.toggleGenre(e.id)}}},[n("input",{staticClass:"control__input manga-search-filter__genre",attrs:{type:"hidden"},domProps:{value:t.valueByStatus(e.id)}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e.name))])])}),0)])])]),t._v(" "),n("div",{staticClass:"manga-search-filter__buttons"},[n("button",{staticClass:"button",attrs:{disabled:t.loading},on:{click:t.resetFilter}},[t._v("\n      Сбросить\n    ")]),t._v(" "),n("button",{staticClass:"button button_green",attrs:{disabled:t.loading},on:{click:t.applyFilter}},[t._v("\n      Применить\n    ")])])])},staticRenderFns:[]}},aOhm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("I3G/"),a=n.n(i),s=n("mtWM"),c=n.n(s),u=n("mj2r"),l=n("7/oE"),f=n("abp6"),d=n.n(f),h=n("oG8a"),p=n("DaqH"),v=n.n(p),m=n("oTFi");function g(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){b(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){y(i,r,o,a,s,"next",t)}function s(t){y(i,r,o,a,s,"throw",t)}a(void 0)})}}e.default=a.a.extend({components:{VueModal:d.a},mixins:[u.a,Object(l.a)(!1)],data:function(){return{score:[5,4,3,2,1],folders:{items:[],byId:{}},cachedItems:{},id:0,loading:!0,changeStatusLoading:!1}},computed:{mangaInfo:function(){return this.cachedItems[this.id]},mangaStatusText:function(){return this.mangaInfo&&!this.mangaInfo.auth_user?null:this.bookmarkStatus?this.folders.byId[this.bookmarkStatus]:"Добавить в список"},bookmarkStatus:function(){return this.mangaInfo.book_status?this.mangaInfo.book_status.status:null},currentRating:function(){return this.mangaInfo?Math.round(parseFloat(this.mangaInfo.rate_avg)):0},chapterLink:function(){var t="/".concat(this.mangaInfo.slug),e=1,n=this.mangaInfo.first_chapter.volume,r=this.mangaInfo.first_chapter.number;return this.mangaInfo.book_status&&this.mangaInfo.book_status.page_id&&(n=this.mangaInfo.book_status.volume,r=this.mangaInfo.book_status.number,e=this.mangaInfo.book_status.page_id),"".concat(t,"/v").concat(n,"/c").concat(r,"?page=").concat(e)},chapterLinkText:function(){return this.mangaInfo.book_status&&this.mangaInfo.book_status.page_id?"Продолжить читать":"Начать читать"}},created:function(){var t=_(o.a.mark(function t(){var e,n,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._autoMount(),t.prev=1,t.next=4,c.a.get("/bookmark-folder");case 4:e=t.sent,n=e.data,this.folders=n,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:this._changeStatusModal=new v.a({propsData:{folders:this.folders.items,onSelected:function(){r.changeStatusLoading=!0,m.a.close()},onChanged:function(t){r.changeStatusLoading=!1,r.mangaInfo.book_status={status:t.id}},onCreated:function(t){r.folders.byId=g({},r.folders.byId,b({},t.id,t.name))}}});case 13:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}(),methods:{changeStatus:function(){this._changeStatusModal.show(this.id,this.bookmarkStatus)},show:function(){var t=_(o.a.mark(function t(e){var n,r,i,a=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$nextTick(function(){return m.a.show(a.$el)}),this.cachedItems[e]){t.next=16;break}return this.loading=!0,t.prev=3,n={id:e,advanced_info:!0},t.next=7,c.a.get("/manga-short-info",{params:n});case 7:r=t.sent,i=r.data,this.$set(this.cachedItems,e,i),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0),h.a.alert("Произошла ошибка при загрузке манги");case 16:this.id=e,this.loading=!1;case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(e){return t.apply(this,arguments)}}()}})},aQOO:function(t,e){t.exports=function(t){return this.__data__.has(t)}},aZpi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("uUYp"),n("0vOO"),n("qEBd"),n("MU8w");var r=Element.prototype,o=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1},i=Element.prototype;i.closest||(i.closest=function(t){for(var e=this;e;){if(o.call(e,t))return e;e=e.parentElement}});n("bRTM"),n("OpCx"),n("11ho");var a=n("yPE/"),s=n.n(a);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l={paste:!0,type:!0,image:!0},f=/https?:\/\/[\S]/g,d=/(?:\s|^)(https?:\/\/[^\s]+)/,h=s.a.import("delta"),p=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opts=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},l,{},n),this.opts.type&&this.registerTypeListener(e),this.opts.paste&&this.registerPasteListener(e)}var e,n,r;return e=t,(n=[{key:"registerTypeListener",value:function(t){var e=this;t.keyboard.addBinding({collapsed:!0,key:" ",prefix:d,handler:function(n,r){var o=e.sliceFromLastWhitespace(r.prefix),i=n.index-o.length,a=i?[{retain:i}]:[];return a.push({delete:o.length}),a.push({insert:o,attributes:{link:o}}),t.updateContents({ops:a}),!0}})}},{key:"registerPasteListener",value:function(t){var e=this;t.clipboard.addMatcher(Node.TEXT_NODE,function(t,n){if(f.test(t.nodeValue)){var r=new h;return t.nodeValue.replace(/(https?:\/\/[^\s]+)/g,"".concat("[link]","$1").concat("[link]")).split("[link]").filter(function(t){return t.length>0}).forEach(function(t){if(/https?:\/\/.*/.test(t)){if(t=t.trim(),e.opts.image&&/https?:\/\/[\S]+(jpe?g|png|gif|webp)/.test(t))return r.insert({image:t});r.insert(t,{link:t})}else r.insert(t)}),r}return n})}},{key:"sliceFromLastWhitespace",value:function(t){var e=t.lastIndexOf(" "),n=-1===e?0:e+1;return t.slice(n)}}])&&u(e.prototype,n),r&&u(e,r),t}(),v=n("Mqyi");function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=s.a.import("blots/block/embed"),k=function(t){var e,n,r;function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=g(this,b(o).call(this,t));var n=t.querySelector(".ql-image-block__remove");return n.onclick=function(){n.onclick=null,t.parentNode.removeChild(t)},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(o,w),e=o,r=[{key:"create",value:function(t){return Object(v.a)("div",{contentEditable:!1,className:"ql-image-block"},Object(v.a)("div",{className:"ql-image-block__wrapper"},Object(v.a)("img",{src:"string"==typeof t?t:t.src,className:"ql-image-block__img"}),Object(v.a)("button",{className:"ql-image-block__remove"},Object(v.a)("i",{className:"ql-image-block__icon fa fa-fw fa-trash"}))))}},{key:"value",value:function(t){var e=t.querySelector("img");return!!e&&{src:e.src,width:e.naturalWidth,height:e.naturalHeight}}}],(n=null)&&y(e.prototype,n),r&&y(e,r),o}();O(k,"blotName","image"),O(k,"tagName","img");var j=k,x=n("lHK6"),C=n.n(x),E=n("VMsc"),S=n.n(E),T=n("7pyE"),A=n.n(T),P=n("oqL2"),N=n.n(P),I=n("kvU2"),M=n.n(I);s.a.prototype.getEscapedContents=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=M()(this.getContents.apply(this,e)),o=N()(r.ops);return"string"==typeof o.insert&&(o.insert=o.insert.replace(/\n+$/,"")),r.ops.forEach(function(t){"string"==typeof t.insert&&(t.insert=t.insert.replace(/(\n\n)+/g,"\n\n"),t.insert=t.insert.replace(/\n/g,"\\n"),A()(t.insert," ")&&(t.insert="\\s"+t.insert.slice(1)),S()(t.insert," ")&&(t.insert=t.insert.slice(0,-1)+"\\s"))}),r.ops=r.ops.filter(function(t){return!C()(t.insert)}),r},s.a.register("modules/autoLinks",p),s.a.register({"formats/image":j},!0);var L=n("mtWM"),D=n.n(L),R=n("Ngrm"),q=n("u5FJ"),B=n("Jaym"),F=n("I3G/"),U=n.n(F),z=n("vBvW"),H=n.n(z),$=function(t,e,n){var r=n.includeSeconds,o=n.addSuffix;return void 0===o&&(o=!0),H()(t,{locale:e,includeSeconds:r,addSuffix:o})},W=function(t,e){if(!t.prototype.$timeago){var n={locale:e.locale};t.prototype.$timeago=t.observable?t.observable(n):new t({data:n});var r=function(t){void 0===t&&(t={});var e=t.locales||{};return{name:t.name||"Timeago",props:{datetime:{required:!0},title:{type:[String,Boolean]},locale:{type:String},autoUpdate:{type:[Number,Boolean]},converter:{type:Function},converterOptions:{type:Object}},data:function(){return{timeago:this.getTimeago()}},computed:{localeName:function(){return this.locale||this.$timeago.locale}},mounted:function(){this.startUpdater()},beforeDestroy:function(){this.stopUpdater()},render:function(t){return t("time",{attrs:{datetime:new Date(this.datetime),title:"string"==typeof this.title?this.title:!1===this.title?null:this.timeago}},[this.timeago])},methods:{getTimeago:function(n){return(this.converter||t.converter||$)(n||this.datetime,e[this.locale||this.$timeago.locale],this.converterOptions||{})},convert:function(t){this.timeago=this.getTimeago(t)},startUpdater:function(){var t=this;if(this.autoUpdate){var e=!0===this.autoUpdate?60:this.autoUpdate;this.updater=setInterval(function(){t.convert()},1e3*e)}},stopUpdater:function(){this.updater&&(clearInterval(this.updater),this.updater=null)}},watch:{autoUpdate:function(t){this.stopUpdater(),t&&this.startUpdater()},datetime:function(){this.convert()},localeName:function(){this.convert()},converter:function(){this.convert()},converterOptions:{handler:function(){this.convert()},deep:!0}}}}(e);t.component(r.name,r)}},G=n("f3bp"),Y=n("1Vro"),V=n.n(Y),K=n("+nGo"),Z=n.n(K),J=n("Eoz/"),X=n.n(J);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var tt={install:function(t){t.filter("formatDate",function(t,e){var n;switch(Q(t)){case"number":case"string":n=new Date(t);break;case"object":t.date&&(n=new Date(t.date))}return e?n.toLocaleString().replace(","," в"):n.toLocaleDateString()}),t.filter("date",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY";return X()(t,e)})}},et=/\.0+$|(\.[0-9]*[1-9])0+$/,nt=[{value:1e9,symbol:"млрд"},{value:1e6,symbol:"млн."},{value:1e3,symbol:"тыс."}];function rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Object(B.d)(nt,function(e){return t>=e.value});return n?(t/n.value).toFixed(e).replace(et,"$1")+" "+n.symbol:t}U.a.use(tt),U.a.use(function(t){t.filter("formatNumber",rt)});var ot=n("IDmg");function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at={install:function(t,e){function n(t,n,r){var o=r.data&&r.data.on||r.componentOptions&&r.componentOptions.listeners,i=n.value||{};i=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){it(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({showOnLoad:!1},e,{},i),o&&o.show&&(i.onShow=function(){o.show.fns()}),o&&o.shown&&(i.onShown=function(){o.shown.fns()}),o&&o.hidden&&(i.onHidden=function(){o.hidden.fns()}),o&&o.hide&&(i.onHide=function(){o.hide.fns()}),i.html&&(i.reactive?i.html=Object(q.l)(i.html):Object(q.l)(i.html)._tipppyReference=t),new ot.default(t,i),Object(q.f)(t,"data-tippy-html")&&(Object(q.l)(Object(q.f)(t,"data-tippy-html"))._tipppyReference=t),i.showOnLoad&&t._tippy.show()}t.directive("tippy-html",{componentUpdated:function(e){var n=e._tipppyReference._tippy;n&&t.nextTick(function(){Object(q.l)(".tippy-content",n.popper).innerHTML=e.innerHTML})},unbind:function(t){t._tippy&&t._tippy.destroy(),delete t._tipppyReference}}),t.directive("tippy",{inserted:function(t,e,r){n(t,e,r)},unbind:function(t){t._tippy&&t._tippy.destroy()},componentUpdated:function(t,e,r){var o=e.value||{},i=e.oldValue||{};t._tippy&&JSON.stringify(o)!==JSON.stringify(i)&&n(t,e,r),t._tippy&&o.show?t._tippy.show():t._tippy&&!o.show&&"manual"===o.trigger&&t._tippy.hide()}})}},st=n("BV6Q"),ct={install:function(t){t.directive("magic-line",{inserted:function(t){t.__line__=new st.a(t,{onClick:!1})},componentUpdated:function(t){t.__line__&&t.__line__._update()},unbind:function(t){t.__line__&&t.__line__.destroy(),delete t.__line__}})}};U.a.use(at),U.a.use(ct);var ut,lt,ft=n("Us2S"),dt=n("fSCB"),ht=n.n(dt),pt=n("kK0S"),vt=n.n(pt),mt=n("1UPi"),gt=Object(mt.c)("settings"),bt=q.g.has(document.body,"page_mobile");(gt.allPage&&gt.inWindow&&!bt||Object(q.l)("#chat"))&&(ut=document.createElement("div"),lt=new U.a({el:ut,data:{store:{items:[],auth:!1,isMobile:bt,text:""},settings:gt},provide:function(){return{store:this.store,settings:this.settings}},watch:{settings:{deep:!0,handler:function(){B.w.update("chat",{settings:this.settings})}},"settings.inWindow":function(){this._windowToggled=!0,this.appendInstance()}},mounted:function(){this.appendInstance()},methods:{appendInstance:function(){var t=this.settings.inWindow&&!bt?document.body:Object(q.l)("#chat");if(null===t){var e=this.$el.parentNode;this.$destroy(),e.removeChild(this.$el)}else t.appendChild(this.$el)}},render:function(t){return this.settings.inWindow&&!bt?t(ht.a,{props:{open:this._windowToggled}}):t(vt.a)}}),window._CHAT_INSTANCE=lt);var yt=n("oTFi"),_t=n("LQly"),Ot=n("FCu8"),wt=n.n(Ot),kt=n("kfSc"),jt=n.n(kt),xt=n("OLx3"),Ct=Object(q.l)("#comments");Ct&&(xt.a.info.type=Object(q.f)(Ct,"data-type"),xt.a.info.postId=Object(q.f)(Ct,"data-post-id"),"chapter"===xt.a.info.type?new wt.a:new jt.a,Object(q.c)("#report-comment-form","submit",function(t){t.preventDefault();var e=t.target,n=Object(q.f)(e,"action"),r=new FormData(e),o=Object(q.l)('button[type="submit"]',e);Object(_t.a)(o,!0),D.a.post(n,r).then(function(t){var e=t.data;R.a.confirm(e.message),Object(_t.a)(o,!1),yt.a.close()}).catch(function(){return Object(_t.a)(o,!1)})})),Object(q.a)(document,"click",".comment__spoiler",function(t,e){t.stopPropagation(),q.g.toggle(e,"comment__spoiler_expanded")});var Et=n("8l6m"),St=n.n(Et);function Tt(t){(new St.a).$mount(t)}B.b.on("dropdown.show",function t(e){e.reference.hasAttribute("data-open-notifications")&&(Tt(e.popper.querySelector("#notifications")),B.b.off("dropdown.show",t))}),Object(q.d)('[data-open="notify"]',"click",function(){return Tt("#notifications")});var At=n("oG8a");U.a.use(W,{name:"Timeago",locale:"ru",locales:{ru:V.a},converter:function(t,e){return H()(Z()(t),{locale:e,addSuffix:!0})}}),U.a.use(G.a),U.a.prototype.$url=ft.a;var Pt=n("vrSs");function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object(ot.default)("[data-tippy-content]",Pt.e),document.addEventListener("DOMContentLoaded",function(){Object(ot.default)("[data-dropdown]",function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Nt(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Pt.f,{a11y:!1,content:function(t){var e=t.closest(".dropdown");return Object(q.l)(".menu",e)},onHide:function(t){B.b.emit("dropdown.hide",t),q.g.remove(this._reference,"dropdown_active")},onShow:function(t){B.b.emit("dropdown.show",t),q.g.add(this._reference,"dropdown_active")}}))});var It=n("arOy");new(n.n(It).a)({elements_selector:".lazyload",callback_error:function(t){q.g.has(t,"avatar")&&(t.src="/uploads/users/placeholder.png")}});var Mt=Object(q.l)(".m-menu"),Lt=Object(q.l)(".header-toggle"),Dt=Object(q.l)("#page-overlay"),Rt=document.body,qt=function(){q.g.remove(Rt,"m-menu-opened"),q.g.remove(Mt,"m-menu_hidden"),Object(B.f)(Object(q.m)(".".concat("m-submenu_open")),function(t){return q.g.remove(t,"m-submenu_open")}),Rt.style.paddingRight=""};Object(q.c)(Lt,"click",function(){var t=window.innerWidth-Rt.offsetWidth;q.g.add(Rt,"m-menu-opened"),Rt.style.paddingRight="".concat(t,"px")}),Object(q.c)(Dt,"click",qt),Object(q.a)(Mt,"click","[data-close-menu]",qt),Object(q.a)(Mt,"click","[data-open]",function(t,e){t.preventDefault();var n=Object(q.f)(e,"data-open"),r=Object(q.l)('[data-submenu="'.concat(n,'"]'),Mt);q.g.add(Mt,"m-menu_hidden"),q.g.add(r,"m-submenu_open")}),Object(q.a)(Mt,"click",".m-submenu__back",function(t,e){var n=e.closest(".m-submenu");q.g.remove(n,"m-submenu_open"),q.g.remove(Mt,"m-menu_hidden")});var Bt=n("ZLZl");Object(q.c)("#remove-all-notifications","click",function(){confirm("Удалить все уведомления?")&&D.a.delete("/notification/destroy",{data:{destroyAll:!0}}).then(function(){return location.reload()})}),Object(q.c)("#read-all-notifications","click",function(){D.a.post("/notification/read-all").then(function(){return location.reload()})}),Object(q.a)("#user-notifications","click","a[data-id]",function(t,e){t.preventDefault();var n=Object(q.f)(e,"data-id"),r=Object(q.f)(e,"href");Object(Bt.a)(n,r)}),Object(q.a)("#user-notifications","click",".notification-item__remove",function(t,e){t.preventDefault();var n=e.parentNode,r=n.parentNode,o=1===r.children.length,i=Object(q.l)("[data-id]",n),a=Object(q.f)(i,"data-id");!function(t,e){var n=function(){return t.removeChild(e)};arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?n():(e.style.height="".concat(e.offsetHeight,"px"),Object(B.c)(function(){e.style.height=0,e.style.opacity=0}),Object(B.c)(n,200))}(r,n,!o),o&&r.appendChild(Object(v.a)("div",{className:"notifications__empty"},"Нет новых уведомлений")),Object(Bt.b)(a)});var Ft=Object(q.l)("#sign-in-form");if(Ft){var Ut=Object(q.l)('button[type="submit"]',Ft);Object(q.c)(Ft,"submit",function(t){var e=new FormData(Ft),n=Object(q.f)(Ft,"action");t.preventDefault(),Object(_t.a)(Ut,!0),D.a.post(n,e).then(function(t){return t.data}).then(function(t){var e=t.status,n=t.message,r="success"===e?"confirm":"alert";R.a[r](n),Object(_t.a)(Ut,!1),"success"===e&&location.reload()}).catch(function(){return Object(_t.a)(Ut,!1)})})}Object(q.c)("#logout-button","click",function(t){t.preventDefault();var e=Object(v.a)("form",{className:"hidden",action:"".concat(location.origin,"/auth/logout"),method:"GET"},Object(v.a)("input",{type:"hidden",name:"_token",value:Object(B.h)()}));document.body.appendChild(e),e.submit()});var zt=Object(q.l)(".flash-messages");if(zt){var Ht=Object(q.m)(".alert",zt);Object(q.a)(Ht,"click",".alert__close",function(t,e){var n=e.closest(".alert");zt.removeChild(n)})}var $t=Object(q.m)(".".concat("form__input_error"));if($t.length){var Wt=function t(){var e=this.closest(".form__field");if(q.g.remove(this,"form__input_error"),e){var n=Object(q.l)(".form__error",e);q.g.add(n,"hidden")}Object(q.b)(this,"focus",t)};$t.forEach(function(t){return Object(q.c)(t,"focus",Wt)})}function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=Vt(e).call(this),Jt(Kt(n=!o||"object"!==Gt(o)&&"function"!=typeof o?Kt(r):o),"_onEnter",function(t){q.g.add(t.currentTarget,"is-dragover"),n.emit("dragenter",t)}),Jt(Kt(n),"_onLeave",function(t){q.g.remove(t.currentTarget,"is-dragover"),n.emit("dragleave",t)}),Jt(Kt(n),"_onDrop",function(t){var e=t.currentTarget,r=t.dataTransfer.files;q.g.remove(e,"is-dragover"),n.emit("drop",r)}),n.options=t,n.dropArea=t.dropArea,n.init(),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(e,B["a"]),n=e,(r=[{key:"init",value:function(){if(!this._dropSupported())return q.g.add(this.dropArea,"no-drop");this.bindEvents()}},{key:"_dropSupported",value:function(){var t=document.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t}},{key:"bindEvents",value:function(){this.dropArea&&(Object(q.c)(this.dropArea,"dragenter",this._onEnter),Object(q.c)(this.dropArea,"dragleave",this._onLeave),Object(q.c)(this.dropArea,"drop",this._onDrop),Object(q.c)(this.dropArea,"dragenter dragleave dragover drop",function(t){t.preventDefault(),t.stopPropagation()}))}},{key:"destroy",value:function(){this.dropArea&&(Object(q.b)(this.dropArea,"dragenter",this._onEnter),Object(q.b)(this.dropArea,"dragleave",this._onLeave),Object(q.b)(this.dropArea,"drop",this._onDrop))}}])&&Yt(n.prototype,r),o&&Yt(n,o),e}();function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ee(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function re(t,e){return!e||"object"!==Qt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ae={uploadAfterChange:!0,fileProp:"file",axiosConfig:{},showProgress:!1,progressContainer:null,trigger:null,inputProps:{},dropzone:!1},se=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=re(this,oe(e).call(this))).options=te({},ae,{},n),t.disabled=!1,t.options.dropzone&&t.options.trigger&&(t.dropzone=new Xt({dropArea:t.options.trigger})),t.bindEvents(),t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(e,B["a"]),n=e,(r=[{key:"bindEvents",value:function(){this.options.trigger&&Object(q.c)(this.options.trigger,"click",this.open.bind(this)),this.dropzone&&this.dropzone.on("drop",this._onFileAdded.bind(this))}},{key:"upload",value:function(t,e){var n=this;if(this.loading||this.disabled||!e)return Promise.reject(null);var r=this._getFormData(t);if(!r)return Promise.reject(null);this.loading=!0,this.emit("uploadStart");var o=D.a.post(this.options.url||e,r,this._getAxiosConfig());return o.catch(function(t){n.emit("uploadError",t),n._destroyProgressEl(),n.loading=!1}),o.then(function(t){return n.emit("uploadComplete",t.data,t),n._destroyProgressEl(),n.loading=!1,t})}},{key:"open",value:function(){this._input||this._createInput(),this._disabled||this.loading||(this._input.value="",this._input.click())}},{key:"disable",value:function(){return this.disabled=!0}},{key:"enable",value:function(){return this.disabled=!1}},{key:"_createInput",value:function(){var t={type:"file",className:"hidden",hidden:!0,accept:"image/*"};t=te({},t,{},this.options.inputProps),this._input=Object(v.a)("input",t),Object(q.c)(this._input,"change",this._onInputChange.bind(this)),document.body.appendChild(this._input)}},{key:"_getAxiosConfig",value:function(){var t=this.options,e=t.axiosConfig,n=t.showProgress,r=t.progressContainer;if(n&&r){var o,i=this._createProgressElement(),a=function(t){var e=Math.round(100*t.loaded/t.total);i.style.width="".concat(e,"%")};if(e.onUploadProgress){var s=e.onUploadProgress;o=function(t){s(t),a(t)}}else o=a;e.onUploadProgress=o}return te({},e)}},{key:"_destroyProgressEl",value:function(){var t=this.options.progressContainer;if(t){var e=Object(q.l)(".progress",t);t.removeChild(e)}}},{key:"_createProgressElement",value:function(){var t=Object(v.a)("div",{className:"progress"}),e=Object(v.a)("div",{className:"progress__bar"});return t.appendChild(e),this.options.progressContainer.appendChild(t),e}},{key:"_getFormData",value:function(t){var e=t;if(!t)return null;if(t instanceof FileList){if(!t.length)return null;e=t[0]}t instanceof Blob&&(e=t);var n=new FormData;return n.append(this.options.fileProp,e,this._input.value),n}},{key:"_onInputChange",value:function(t){var e=t.target.files;this._onFileAdded(e)}},{key:"_onFileAdded",value:function(t){this.emit("filesAdded",t),this.options.uploadAfterChange&&this.upload(t,this.options.url)}}])&&ne(n.prototype,r),o&&ne(n,o),e}();function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ve;var me=function(t){function e(t){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(r=!(i=de(e).call(this,t))||"object"!==ce(i)&&"function"!=typeof i?he(o):i)._cropImage=null,r._cropBtn=null,r._destroyCropperModal=r._destroyCropperModal.bind(he(r)),r._initCropper=r._initCropper.bind(he(r)),r._onCrop=r._onCrop.bind(he(r)),r.options.cropper&&(r._cropImageSize=r.options.cropper.imageSize.split("x"),ve||new Promise(function(t){n.e(12).then(function(e){t(n("4RJ8"))}.bind(null,n)).catch(n.oe)}).then(function(t){return ve=t})),r}var r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(e,se),r=e,(o=[{key:"_initCropper",value:function(){var t=this,e=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){le(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Pt.d,{},this.options.cropper,{viewMode:this._getCropperMode(this._cropImage),ready:function(){var e=t.cropper.getCropBoxData(),n=t.cropper.getImageData(),r={width:e.width};0===t.cropper.options.viewMode&&(r.left=e.left,r.top=e.top+e.height/2-e.width/n.aspectRatio/2),t.cropper.setCanvasData(r)}});this.cropper=new ve(this._cropImage,e)}},{key:"_createCropperImage",value:function(t,e){var n=this,r=t;t.length&&(r=t[0]);var o=function(t){n._cropImage.onload=function(){n._initCropper(),e()},n._cropImage.src=t};if(URL)o(URL.createObjectURL(r));else if(FileReader){var i=new FileReader;i.onload=function(){o(i.result)},i.readAsDataURL(r)}}},{key:"_createCropperModal",value:function(){var t=Object(v.a)("div",{className:"modal ".concat("cropper-create-modal"),tabindex:"-1","data-disable-backdrop":!0,"data-animation":"fade-up"},Object(v.a)("div",{className:"modal__inner"},Object(v.a)("div",{className:"modal__content","data-size":"large"},Object(v.a)("div",{className:"modal__body"},Object(v.a)("div",{className:"cropper-container"},Object(v.a)("img",{id:"cropper-image"}))),Object(v.a)("div",{className:"modal__footer"},Object(v.a)("button",{className:"button button_primary",id:"crop-btn"},"Продолжить"),Object(v.a)("button",{className:"button","data-close-modal":!0},"Отмена")))));document.body.appendChild(t),this._cropImage=Object(q.l)("#cropper-image"),this._cropBtn=Object(q.l)("#crop-btn"),yt.a.once("closed",this._destroyCropperModal)}},{key:"_destroyCropperModal",value:function(){this.cropper&&(this.cropper.destroy(),this.cropper=null);var t=Object(q.l)(".".concat("cropper-create-modal"));t&&(Object(q.b)(this._cropBtn,"click",this._onCrop),document.body.removeChild(t))}},{key:"_onCrop",value:function(){var t=this;if(!this.loading){var e=ue(this._cropImageSize,2),n={imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"#fff",width:e[0],height:e[1]};this.cropper.getCroppedCanvas(n).toBlob(function(e){Object(_t.a)(t._cropBtn,!0),yt.a.disable(),t._uploadImage(e)})}}},{key:"_onFileAdded",value:function(t){var e=this;if(this.options.cropper)return this._createCropperModal(),this._createCropperImage(t,function(){Object(q.c)(e._cropBtn,"click",e._onCrop),yt.a.show(".".concat("cropper-create-modal"))}),this.emit("filesAdded",t);this.emit("filesAdded",t),this._uploadImage(t)}},{key:"_uploadImage",value:function(t){var e=this;return this.upload(t,this.options.url).then(function(t){return e._cropBtn&&Object(_t.a)(e._cropBtn,!1),yt.a.enable(),yt.a.close(),t})}},{key:"_getCropperMode",value:function(t){return t.naturalWidth/t.naturalHeight>1?0:1}}])&&fe(r.prototype,o),i&&fe(r,i),e}(),ge=Object(q.m)(".uploader_default"),be=null!==Object(q.l)("#edit-content-save");function ye(t,e){var n="src",r=e;if("IMG"!==t.tagName&&(n="style",r="background-image: url(".concat(e,")")),null===e)return q.f.remove(t,n);Object(q.f)(t,n,r)}function _e(t){var e=t.deleteBtn,n=t.preview,r=t.input,o=t.container;q.g.add(e,"hidden"),q.g.add(o,"is-empty"),ye(n,null),r.value=""}ge.length&&Object(B.f)(ge,function(t){var e=Object(q.f)(t,"data-url"),n=Object(q.f)(t,"data-input-selector"),r=Object(q.f)(t,"data-cropper"),o=null;r&&(o="bg"===r?Pt.b:Pt.c);var i,a,s,c,u,l={container:t,input:Object(q.l)(n),trigger:t,deleteBtn:Object(q.l)(".uploader__delete",t),preview:Object(q.l)(".uploader__preview",t)};a=(i=l).input,s=i.deleteBtn,c=i.container,u=i.preview,a&&(a.value.length&&(q.g.remove(c,"is-empty"),q.g.remove(s,"hidden"),ye(u,a.value),c._init=!0),be&&(s.disabled=!1));var f=new me({url:e,trigger:l.trigger,progressContainer:l.trigger,showProgress:!0,dropzone:!0,disabled:!be,cropper:o});f.on("uploadStart",function(){q.g.add(l.container,"is-upload")}),f.on("uploadComplete",function(t){var e=t.result;q.g.remove(l.deleteBtn,"hidden"),q.g.remove(l.container,"is-upload","is-empty"),ye(l.preview,e),l.input&&(l.input.value=e)}),Object(q.c)(l.deleteBtn,"click",function(t,e){e.preventDefault(),e.stopPropagation();var n=t.deleteBtn,r=t.input,o=t.container;if(be){var i=Object(q.f)(n,"data-url"),a=r.value;if(o._init)return _e(t);a&&(a=a.replace(/^.*[\\/]/,""),D.a.post(i,{filename:a}).then(function(){return _e(t)}).catch(function(){return R.a.alert("Произошла ошибка при удалении")}))}}.bind(null,l))});var Oe=n("O4Lo"),we=n.n(Oe);function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var je,xe,Ce=D.a.CancelToken,Ee=Object(q.m)(".choice-init"),Se={removeItemButton:!0,duplicateItems:!1,searchResultLimit:30,loadingText:"Поиск...",searchFields:["label"],noResultsText:"...",noChoicesText:"Больше нечего выбрать",itemSelectText:"Нажмите чтобы выбрать",searchPlaceholderValue:"Поиск...",callbackOnInit:function(){var t=this.containerOuter.parentNode,e=Object(q.l)(".form__input",t);t.removeChild(e)}};function Te(){Ee.forEach(function(t){var e=Object(q.l)(".choice-target",t),n=Object(q.f)(t,"data-options");if(e){if(n)try{n=JSON.parse(n)}catch(t){n={}}var r=new je(e,function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ke(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Se,{},n));if(n&&n.search){var o=we()(function(t){var e=t.detail.value.trim();if(!(e.length<2)){if(xe)try{xe()}catch(t){}D.a.get("".concat(n.search,"?query=").concat(e),{cancelToken:new Ce(function(t){return xe=t})}).then(function(t){return t.data}).then(function(t){t.forEach(function(t){return t.id=String(t.id)}),r.setChoices(t,"id","value",!0)}).catch(function(){})}},300);r.passedElement.addEventListener("search",o)}}})}Ee.length&&new Promise(function(t){n.e(14).then(function(e){t(n("Deij"))}.bind(null,n)).catch(n.oe)}).then(function(t){je=t,Te()});var Ae=n("A7pH"),Pe=function(t,e){t.disabled=e,q.g.toggle(t,"buton_loading",e)};function Ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object(q.m)(".editor[data-autoinit]").forEach(function(t){var e=Object(q.l)(".editor__toolbar",t),n=Object(q.l)(".editor__content",t),r=n.innerHTML,o=Object(Ae.a)(n,{toolbar:e}),i=t.closest("form"),a=Object(q.f)(t,"data-name"),s=q.f.has(t,"data-required");o.setHTML(r),i&&Object(q.c)(i,"submit",function(t){t.preventDefault();var e=o.getParsedHTML(),n=Object(q.l)('button[type="submit"]',i),r=q.f.has(i,"data-ajax-form");if(s&&o.isEmpty())return R.a.alert("Сообщение не должно быть пустым");var c=Object(v.a)("textarea",{name:a,className:"hidden",hidden:!0});if(c.value=e,i.appendChild(c),Pe(n,!0),r){var u=new FormData(i),l=Object(q.f)(i,"action");D.a.post(l,u).then(function(t){return t.data}).then(function(t){B.b.emit("editorSend",t),o.clearEditor(),Pe(n,!1)}).catch(function(){R.a.alert("Произошла ошибка при отправке"),Pe(n,!1)})}else i.submit()})});var Me={openCls:"collapse_open",contentCls:"collapse__content",triggerCls:"collapse__trigger"},Le=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Ne(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Me,{},n),this.options=n,this.el=e,this.trigger=Object(q.l)(".".concat(n.triggerCls),e),this.content=Object(q.l)(".".concat(n.contentCls),e),this.bindEvents()}var e,n,r;return e=t,(n=[{key:"bindEvents",value:function(){Object(q.c)(this.trigger,"click",this.toggle.bind(this))}},{key:"toggle",value:function(){q.g.has(this.el,this.options.openCls)?this.close():this.open()}},{key:"open",value:function(){q.g.add(this.el,this.options.openCls)}},{key:"close",value:function(){q.g.remove(this.el,this.options.openCls)}}])&&Ie(e.prototype,n),r&&Ie(e,r),t}();Object(B.f)(Object(q.m)(".collapse"),function(t){return new Le(t)});var De=n("wC5p");Object(q.m)("[data-tabs-init]").forEach(function(t){var e,n=Object(q.f)(t,"data-tabs-init");if(n)try{e=JSON.parse(n)}catch(t){console.error(t)}new De.a(t,e)});var Re=n("fK0A");Object(q.a)(document,"click","[data-theme]",function(t){t.preventDefault();var e=B.w.get("dark-theme",Re.a),n=Object(q.f)(this,"data-theme");n||(n=e.enabled?"light":"dark");var r="dark"===n;Object(Re.e)(r),e.enabled=r,e.autoEnable=!1,B.w.save("dark-theme",e)});var qe,Be,Fe,Ue=n("mlqH"),ze=n("mj2r"),He=n("Fwt4"),$e=Object(q.l)(".search"),We=Object(q.l)(".search__input",$e),Ge=Object(q.l)(".search__types",$e);Object(q.c)(".search .search__type","click",function(t){Ve(Object(q.h)(t.currentTarget))}),Object(q.c)("[data-search-toggle]","click",Ke),Object(q.c)($e,"mousedown",function(t){t.target===t.currentTarget&&Ke(t)}),Object(q.c)(We,"keydown",function(t){if((t.which||t.keyCode)===Pt.g.TAB){var e=Object(q.l)(".search__type_active",Ge),n=Object(q.h)(e,Ge);t.shiftKey?n-=1:n+=1,n<0&&(n=Ge.childElementCount-1),n===Ge.childElementCount&&(n=0),Ve(n),t.preventDefault()}}),Object(q.c)(window,"keyup",function(t){(t.which||t.keyCode)!==Pt.g.ESC||q.g.has($e,"hidden")||Ke(t)});var Ye={manga:function(t){return Object(v.a)("div",{className:"manga-list-item manga-list-item_sm list-item"},Object(v.a)("img",{className:"manga-list-item__cover shadow-sm cover",src:ze.a.methods._coverThumb(t.slug,t.cover)}),Object(v.a)("div",{className:"manga-list-item__body"},Object(v.a)("h3",{className:"manga-list-item__title"},t.name),Object(v.a)("h4",{className:"manga-list-item__subtitle"},t.rus_name)))},default:function(t){return Object(v.a)("div",{class:"list-item"},t.value)},user:function(t){return Object(v.a)("div",{class:"person-profile list-item"},Object(v.a)("img",{className:"person-profile__avatar avatar avatar_sm avatar_round cover shadow-sm",src:ze.a.methods._avatarUrl(t.id,t.avatar)}),Object(v.a)("span",{class:"person-profile__name"},t.value))}};function Ve(t){var e=Object(q.l)(".".concat("search__type_active"),Ge);Object(B.q)(t)&&(t=Object(q.h)(e,Ge));var n=Ge.children[t],r=Object(q.f)(n,"data-term");q.g.remove(e,"search__type_active"),q.g.add(n,"search__type_active"),Fe=Object(q.f)(n,"data-url"),Be=Object(q.f)(n,"data-type"),We.value="",We.focus(),Object(q.f)(We,"placeholder","Поиск ".concat(r)),qe.clearSuggestions().cancelRequest().toggleLoading(!1)}function Ke(t){t.preventDefault(),q.g.toggle($e,"hidden");var e=!q.g.has($e,"hidden");e&&We.focus(),Object(Ue.a)(e)}We&&(qe=new He.a({el:Object(q.l)(".autocomplete",$e),requestUrl:function(t){return"".concat(Fe,"?query=").concat(t)},renderItem:function(t){return Be in Ye?Ye[Be](t):Ye.default(t)},onSelect:function(t){var e=t.item,n={manga:"/".concat(e.slug),team:"/team/".concat(e.slug),author:"/people/author/".concat(e.slug),artist:"/people/artist/".concat(e.slug),user:"/user/".concat(e.id)};return location.assign(n[Be])}}),Ve(0));var Ze=Object(q.l)(".header_transparent"),Je=function(){pageYOffset>=30?q.g.add(Ze,"header_highlight"):q.g.remove(Ze,"header_highlight")};Ze&&(Object(q.c)(window,"scroll",Je),Je());var Xe=n("QX9i"),Qe=n("KO5a"),tn=n("LiUp"),en=n("ln3S"),nn=n.n(en),rn=n("f6yZ");Xe.a.listContainer&&(Object(Xe.e)(),Object(Xe.i)(),Object(Qe.b)(Xe.a.listContainer),Object(Xe.j)(),Object(q.c)(".manga-search__input","keyup",function(t){(t.which||t.keyCode)===rn.a.ENTER&&Object(Xe.b)({name:t.target.value})}),Object(q.c)(Xe.a.sortInputs,"change",function(){var t,e,n;Object(Xe.b)((t={},e=this.name,n=this.value,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t),{preventPushState:null===Xe.a.filterContainer})}),Object(q.c)(window,"scroll",function(){if(!Xe.g&&Xe.d){var t=window.innerHeight;if(window.pageYOffset+t>=Xe.c-t/2){var e=tn.a.state.page+1;Object(Xe.b)({page:e},{preventPushState:!0})}}}),Xe.a.filterContainer&&new nn.a({propsData:{isMobile:Xe.f}}).$mount("#manga-list-filter"));var on=n("BHJ2"),an=n.n(on),sn=n("DaqH"),cn=n.n(sn);function un(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ln(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fn=Object(q.l)("#button-change-status");if(fn){var dn,hn={dataPresets:{status:Object(q.f)(fn,"data-status"),mangaId:Object(q.f)(fn,"data-id")},onSelected:function(){Object(_t.a)(fn,!0),dn?dn.hide():yt.a.close()},onChanged:function(t){Object(_t.a)(fn,!1),t.id?Object(q.f)(fn,"data-status",t.id):q.f.remove(fn,"data-status"),Object(q.l)("[data-text]",fn).textContent=t.name||"Добавить в список"}};if(Pt.j)new cn.a({propsData:hn}),Object(q.f)(fn,"data-open-modal","#bookmark-change-status-modal");else{var pn=new an.a({propsData:un({},hn,{className:"manga-bookmark-menu"})}).$mount();dn=Object(ot.default)(fn,un({},Pt.f,{interactive:!0,content:function(){return pn.$el}}))}}var vn="".concat("info-desc","_short"),mn=Object(q.l)(".".concat(vn));if(mn){var gn=Object(q.l)(".info-desc__content",mn);if(gn.scrollHeight>gn.offsetHeight){var bn=document.createElement("div");bn.className="".concat("info-desc","__expand"),bn.textContent="развернуть",Object(q.c)(bn,"click",function(t){var e=t.currentTarget,n="".concat("info-desc","_open");e.textContent=q.g.has(e,n)?"развернуть":"свернуть",q.g.toggle(mn,vn),q.g.toggle(e,n)}),mn.appendChild(bn)}else q.g.remove(mn,vn)}var yn=n("En79"),_n=n.n(yn);function On(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var wn=Object(q.l)(".manga-rating__stars, .media-rating-stars"),kn=q.f.has(wn,"data-id"),jn=!1;Object(q.a)(wn,"click","[data-score]",function(){var t,e=(t=_n.a.mark(function t(e,n){var r,o,i,a;return _n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!jn&&kn){t.next=2;break}return t.abrupt("return");case 2:return r=Object(q.f)(n,"data-score"),o=Object(q.f)(wn,"data-id"),i=Object(q.m)("[data-user-score]"),a=Object(q.m)("[ data-user-rating]"),t.prev=6,jn=!0,t.next=10,D.a.post("/save/item_rating",{item_id:o,score:r});case 10:jn=!1,i.forEach(function(t){return t.textContent=r}),a.forEach(function(t){return q.g.toggle(t,"hidden",0==r)}),R.a.confirm("Ваша оценка учтена"),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(6),console.error(t.t0),R.a.alert("Произошла ошибка ваш голос не учелся");case 20:case"end":return t.stop()}},t,null,[[6,16]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){On(i,r,o,a,s,"next",t)}function s(t){On(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t,n){return e.apply(this,arguments)}}());var xn=Object(q.l)("#volume-anchors"),Cn=Object(q.l)(".chapters-list");Object(q.a)(xn,"click",".volume-anchor__item",function(t,e){t.preventDefault();var n=Object(q.f)(e,"data-id");B.b.emit("chapters.anchor-click"),requestAnimationFrame(function(){var t=Object(q.m)('.media-chapter[data-volume="'.concat(n,'"], .chapter-item[data-volume="').concat(n,'"]')),e=N()(t);if(q.g.has(e,"media-chapter")){var r=Object(q.i)(e).top;requestAnimationFrame(function(){window.scroll(0,r-innerHeight/2)})}else{var o=e.offsetTop;Cn.scrollTop=o-Cn.offsetHeight+e.offsetHeight}yt.a.close()})});var En=Object(q.l)(".chapters-list");Object(q.a)(En,"click",".chapter-item__viewed",function(){var t=Object(q.f)(En,"data-manga-id"),e="button_loading-inv",n=this,r=n.closest(".chapter-item"),o=Object(q.f)(r,"data-id"),i=Object(q.l)(".fa",n);o&&t&&(q.g.has(n,e)||(q.g.remove(n,"tooltip"),q.g.add(n,e),D.a.post("/toggle-chapter-read",{id:o,manga_id:t}).then(function(t){var r=t.data.read,o="Глава".concat(r?" ":" не ","прочитана");q.g.toggle(i,"fa-eye",r),q.g.toggle(i,"fa-eye-slash",!r),q.g.remove(n,e),q.g.add(n,"tooltip"),Object(q.f)(n,"aria-label",o)}).catch(function(){return q.g.remove(n,e)})))});var Sn,Tn=Object(q.l)("#users-bookmarks-next"),An=Object(q.l)(".users-bookmarks-container"),Pn=Object(q.f)(An,"data-id"),Nn=!1,In=!1,Mn=0,Ln=function(t){if(!In&&!Nn){In=!0;var e={params:{page:++Mn,mangaId:Pn}};D.a.get("/manga/users-bookmarks",e).then(function(e){var n=e.data;t&&(An.removeChild(Object(q.l)(".loader-wrapper",An)),q.g.remove(Tn,"hidden")),n.last_page===Mn&&(Nn=!0,q.g.add(Tn,"hidden")),In=!1,Object(_t.a)(Tn,In,"button_loading-inv"),function(t){for(var e,n=document.createDocumentFragment(),r=0,o=t.length;r<o;r++)n.appendChild((e=t[r],Object(v.a)("a",{className:"users-bookmarks",href:"/user/".concat(e.id),title:e.username},Object(v.a)("img",{src:e.avatar,className:"users-bookmarks__avatar"}),Object(v.a)("div",{className:"users-bookmarks__name"},e.username))));An.appendChild(n)}(n.data)}).catch(function(){In=!1,Object(_t.a)(Tn,In,"button_loading-inv")})}};function Dn(t,e){Sn||(Sn=Object(v.a)("div",{className:"modal","data-type":"bottom-sheet"},Object(v.a)("div",{className:"modal__inner"},Object(v.a)("div",{className:"modal__content"},Object(v.a)("div",{className:"modal__header"},Object(v.a)("h3",{className:"modal__title"}),Object(v.a)("div",{className:"modal__close","data-close-modal":!0,dangerouslySetInnerHTML:'<svg class="modal__close-icon"><use xlink:href="#icon-close"></use></svg>'})),Object(v.a)("div",{"data-modal-body":!0})))),document.body.appendChild(Sn)),function(t,e){var n=Object(q.l)(".modal__title",Sn),r=Object(q.l)("[data-modal-body]",Sn);n.textContent=t,r.firstChild?r.replaceChild(e,r.firstChild):r.appendChild(e)}(t,e),requestAnimationFrame(function(){yt.a.show(Sn)})}function Rn(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){qn(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bn(){return(Bn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Object(q.c)("#users-bookmarks-show","click",function(){Mn||Ln(!0)}),Object(q.c)(Tn,"click",function(){Object(_t.a)(Tn,!0,"button_loading-inv"),Ln()});var Fn=window.__MANGA__;function Un(t){var e=t.closest(".chapter-item, .media-chapter");return{teams:JSON.parse(Object(q.f)(e,"data-teams")),action:Object(q.f)(t,"data-chapter-dropdown"),chapter:{volume:Object(q.f)(e,"data-volume"),number:Object(q.f)(e,"data-number")}}}function zn(t){switch(t){case"edit":return"Редактировать главу от";case"download":return"Скачать главу от";default:return"Читать перевод от"}}function Hn(t,e){var n=t.teams.map(function(e){return Object(v.a)("a",Bn({},function(t,e,n){var r={href:"#"};return"edit"===n&&(r.href="/manga/".concat(Fn.id,"/chapter/").concat(t.chapterId)),"download"===n&&(r["data-download-chapter"]=t.chapterId,r["data-download-target"]="".concat(e.volume,"-").concat(e.number)),"read"===n&&(r.href="/".concat(Fn.slug,"/v").concat(e.volume,"/c").concat(e.number),t.slug&&(r.href+="/".concat(t.slug))),r}(e,t.chapter,t.action),{className:"menu__item"}),e.name)}),r={className:"menu menu_default"};return t.size&&(r.className+=" ".concat(t.size)),"download"===t.action&&(r["data-close-modal"]=!0),Object(v.a)("div",r,e&&Object(v.a)("div",{className:"menu__subheader"},zn(t.action)),n)}var $n=n("AZEo"),Wn=n.n($n),Gn=function(){Pt.j?Object(q.a)(".chapters-list, .media-chapters-list","click","[data-chapter-dropdown]",function(t,e){var n=Un(e);Dn(zn(n.action),Hn(n))}):Object(ot.default)(".chapters-list, .media-chapters-list",Rn({},Pt.f,{trigger:"mouseenter",target:"[data-chapter-dropdown]",placement:"bottom-end",interactive:!0,delay:[0,300],content:function(){return document.createElement("div")},wait:function(t){if(!t.__contentInited){var e=Un(t.reference);t.setContent(Hn(Rn({},e,{size:"menu_xs"}),!0)),t.__contentInited=!0}t.show()}})),new Promise(function(t){n.e(2).then(function(e){t(n("2DAw"))}.bind(null,n)).catch(n.oe)})};if(Object(q.l)("#media-chapters-container")){var Yn=new Wn.a;Yn.$on("chapters.mounted",Gn),Yn.$mount("#media-chapters-container")}else Object(q.l)(".chapters-list")&&Gn();var Vn=n("icPT"),Kn=n.n(Vn);function Zn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xn=Object(q.l)("#relation-list-edit");if(Xn){var Qn,tr=new B.a,er=window.Laravel.mangaId,nr=Object(q.l)("#related-manga-search"),rr=Object(q.l)(".form__input",nr),or=we()(function(t,e){if(Qn)try{Qn()}catch(t){}D.a.get("/search?query=".concat(t),{cancelToken:new D.a.CancelToken(function(t){return Qn=t})}).then(function(t){return t.data}).then(function(t){q.g.remove(nr,"is-loading"),e(t)}).catch(console.error)},600);new Kn.a({selector:rr,minChars:2,menuClass:"related-manga-autocomplete",source:function(t,e){q.g.add(nr,"is-loading"),or(t,e)},renderItem:function(t,e){var n=t.name,r=t.id,o=t.rus_name;e=e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");var i=new RegExp("(".concat(e.split(" ").join("|"),")"),"gi");return'<div class="autocomplete-suggestion" data-id="'.concat(r,'" data-rus="').concat(o,'" data-val="').concat(n,'">').concat(n.replace(i,"<b>$1</b>"),"</div>")},onSelect:function(t,e,n){t.preventDefault();var r={id:parseInt(Object(q.f)(n,"data-id")),name:Object(q.f)(n,"data-val"),rus_name:Object(q.f)(n,"data-rus")};tr.emit("autocompleteSelected",r)}}),new U.a({el:Xn,data:{loading:!1,selected:null,items:window.Laravel.items,mangaId:er},created:function(){var t=this;tr.on("autocompleteSelected",function(e){return t.selected=e})},mounted:function(){var t=Object(q.l)("#add-related-item");Object(q.c)(t,"click",this.addItem.bind(this))},methods:{removeItem:function(t){var e=this;if(!this.loading){var n=this.getIds().filter(function(e){return e!==t});this.loading=!0,D.a.post("/admin/manga/remove-relation",{ids:n,remove_id:t}).then(function(){var n=Object(B.e)(e.items,function(e){return e.id===t});e.items.splice(n,1),e.loading=!1}).catch(function(){e.loading=!1,R.a.alert("Ошибка при удалении связи")})}},addItem:function(t){var e=this;if(!this.loading){if(!this.selected)return R.a.alert("Пожалуйста выберите мангу из списка");var n=this.selected.id,r=Object(B.d)(this.items,function(t){return t.id===n}),o=t.currentTarget,i=this.getIds([n]);if(er===n||r)return R.a.alert("Нельзя добавить текущую мангу");this.loading=!0,Object(_t.a)(o,!0),D.a.post("/admin/manga/create-relation",{ids:i}).then(function(){e.items.push(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Jn(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},e.selected)),e.reset(null,o),R.a.confirm("Связь добавлена")}).catch(function(t){e.reset(t,o),R.a.alert("Произошла ошибка при создании связи")})}},reset:function(t,e){t||(this.selected=null,rr.value=""),this.loading=!1,Object(_t.a)(e,!1)},getIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[er].concat(Zn(t)).concat(this.items.map(function(t){return t.id}))}}})}Object(q.l)("#bookmark-migration")&&new Promise(function(t){n.e(11).then(function(e){t(n("pHqb"))}.bind(null,n)).catch(n.oe)}).then(function(t){new t}),Object(q.l)("#manga-changes")&&new Promise(function(t){n.e(5).then(function(e){t(n("Bn2Y"))}.bind(null,n)).catch(n.oe)}).then(function(t){new t});var ir=n("TPRO"),ar=n.n(ir),sr=n("08Ot"),cr=n.n(sr),ur=n("tk99"),lr=n.n(ur),fr=n("Kyyj"),dr=n.n(fr),hr=n("KcIi"),pr=n.n(hr),vr=n("6TKe"),mr=n.n(vr),gr=n("YV2r"),br=n.n(gr),yr=n("gjYr"),_r=n.n(yr),Or=n("PY8u"),wr=n.n(Or);function kr(t,e){var n=Object(q.l)("#comments-filter"),r="filter__item_active",o=Object(q.l)(".".concat(r),n);if(o&&q.g.remove(o,r),e)return q.g.add(e,r);if(t){var i=Object(q.l)('a[href="?comment_type='.concat(t,'"'),n);q.g.add(i,r)}else q.g.add(n.children[0],r)}Object(q.l)("#user-bookmark-list")&&((new cr.a).$mount("#user-bookmark-list"),new lr.a,new dr.a,new mr.a,new pr.a,new br.a,new _r.a,new wr.a);var jr=Object(q.l)("#comments-wrapper"),xr=!1,Cr=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];xr=t,q.g.toggle(jr,"is-loading",t)};function Er(){if(!xr){var t=location,e=t.pathname,n=t.search,r=n?"&":"?";Cr(!0),D.a.get("".concat(e+n+r,"ajax=1")).then(function(t){var e=t.data;jr.innerHTML=e,Cr()}).catch(function(){return Cr()})}}var Sr=n("OAwv"),Tr=n.n(Sr);function Ar(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Pr(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function Pr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nr(t){var e=Ar({},Object(B.g)(),{},t),n=Ar({},e);for(var r in e){if(e.hasOwnProperty(r))e[r]||delete e[r]}var o=Object(B.l)(e)?location.pathname:"?".concat(Tr.a.stringify(e,{arrayFormat:"bracket"}));history.pushState(n,null,o)}if(Object(q.a)("#comments-filter","click",".filter__item",function(t,e){if(t.preventDefault(),!q.g.has(e,"activeCls")){var n=Object(q.f)(e,"href"),r="";if(/comment_type=/.test(n))r=Object(B.g)(n).comment_type;kr(r,e),Nr({comment_type:r,page:0}),Er()}}),Object(q.a)("#comments-wrapper","click",".pagination a",function(t,e){t.preventDefault();var n=Object(q.f)(e,"href"),r=Object(B.g)(n),o=Object(q.l)(".profile__container"),i=Object(q.l)(".header"),a=Object(q.i)(o).top-i.offsetHeight;window.scrollTo(0,a),Nr(r),Er()}),Object(q.l)("#comments-wrapper")){var Ir=Object(q.l)(".comments-search__input"),Mr=function(t){return Ir.value=t||""};Object(q.c)(window,"popstate",function(){if(history.state&&(kr(history.state.comment_type),Mr(history.state.q)),null===history.state){var t=Object(B.g)(location.search),e=t.comment_type,n=t.q;kr(e),Mr(n)}Er()})}function Lr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dr=Object(q.l)(".comments-search"),Rr=Object(q.l)(".comments-search__input",Dr),qr=Object(q.l)(".comments-search__submit",Dr),Br=Object(q.l)(".comments-search__reset",Br),Fr=function(t){if(!t){var e=Rr.value;t={q:e},q.g.toggle(Br,"hidden",!e)}Nr(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Lr(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},t,{page:0})),Er()},Ur=function(){return!Rr.value.trim().length};Object(q.c)(qr,"click",function(){Ur()||Fr()}),Object(q.c)(Br,"click",function(){Rr.value="",q.g.add(Br,"hidden"),Fr({q:null})}),Object(q.c)(Rr,"keyup",function(t){13!==(t.keyCode||t.which)||Ur()||Fr()});var zr=Object(q.l)("#message-modal");if(zr){var Hr=Object(q.l)('input[name="subject"]',zr);yt.a.on("show",function(){return Hr.focus()}),B.b.on("editorSend",function(){Hr.value="",R.a.confirm("Сообщение отправлено")})}var $r=Object(q.l)(".friends");function Wr(t){var e=t.avatar,n=t.userId,r=t.username,o=t.showRemoveBtn;return Object(v.a)("div",{className:"friends-item",title:r},Object(v.a)("a",{className:"friends-item__avatar-wrap avatar_md",href:"/user/".concat(n)},Object(v.a)("img",{className:"friends-item__avatar avatar avatar_md avatar_circle shadow-sm",alt:r,src:e})),Object(v.a)("div",{className:"friends-item__right"},Object(v.a)("a",{href:"/user/".concat(n),className:"friends-item__name"},r),o&&Object(v.a)("div",{class:"friends-item__remove","data-url":"/user/".concat(n,"/following/unfriend")},"Удалить из друзей")))}function Gr(t){return Object(v.a)("div",{className:"friends__empty empty"},t)}var Yr=Object(q.l)(".friends-confirmation");Object(q.a)(Yr,"click","[data-confirmation]",function(t,e){t.preventDefault();var n=q.f.getObject(e,"data-confirmation","data-recipient","data-url"),r=e.closest(".friends-confirmation__item");if("accept"===n["data-confirmation"]){var o=Object(q.l)("img",r),i=q.f.getObject(o,"src","alt","data-id"),a=Object(q.l)(".friends__empty",$r);a&&$r.removeChild(a),$r.appendChild(Wr({avatar:i.src,userId:i["data-id"],username:i.alt,showRemoveBtn:!0}))}r.parentNode.removeChild(r),Yr.childElementCount||Yr.appendChild(Gr("Нет запросов")),D.a.post(n["data-url"],{recipient_id:n["data-recipient"]})}),Object(q.a)($r,"click",".friends-item__remove",function(t,e){var n=e.closest(".friends-item"),r=Object(q.l)(".friends-item__name",n),o=Object(q.f)(e,"data-url");confirm('Удалить пользователя "'.concat(r.textContent,'" из друзей?'))&&(q.g.has(n,"is-loading")||(q.g.add(n,"is-loading"),D.a.post(o).then(function(){$r.removeChild(n),$r.childElementCount||$r.appendChild(Gr("Никого нет"))}).catch(function(){R.a.alert("Произошла ошибка при удалении"),q.g.remove(n,"is-loading")})))});var Vr,Kr=n("+X65"),Zr=n.n(Kr);function Jr(){return Object(q.i)($r).bottom-innerHeight/2}function Xr(t,e){var n=Object(v.a)("div",{className:"loader-wrapper"},Object(v.a)("div",{className:"loader-circle"}));return Vr.appendChild(n),D.a.get(t).then(function(t){var r=t.data,o=r.data,i=document.createDocumentFragment();Object(B.f)(o,function(t){i.appendChild(Wr({avatar:t.avatar,userId:t.id,username:t.username,showRemoveBtn:t.btn}))}),Vr.removeChild(n),$r.appendChild(i),e(r)})}if(q.f.has($r,"data-next-page")){var Qr=Object(q.f)($r,"data-next-page"),to=Jr(),eo=!1;Vr=$r.parentNode;var no=Zr()(function(){eo||pageYOffset+innerHeight>to&&Qr&&(eo=!0,Xr(Qr,function(t){var e=t.next_page_url;eo=!1,Qr=e,to=Jr(),e||Object(q.b)(window,"scroll",no)}))},200);Object(q.c)(window,"scroll",no)}var ro=Object(q.l)("#follow-toggle"),oo=function(t){q.g.remove(ro,t?"button_green":"button_red"),q.g.add(ro,t?"button_red":"button_green")};Object(q.c)(ro,"click",function(){var t=Object(q.f)(ro,"data-follower-id"),e=function(t){"string"!=typeof t&&(t="Упс произошла ошибка"),R.a.alert(t)};D.a.post("/follow",{follower_id:t}).then(function(t){return t.data}).then(function(t){if("success"===t.status){var n='<i class="fa fa-fw fa-{{icon}}"></i>';"удален"===t.message?(n=n.replace("{{icon}}","user-plus"),ro.innerHTML="".concat(n," Добавить в друзья"),R.a.confirm("Пользователь удален из друзей"),oo()):(n=n.replace("{{icon}}","user-times"),ro.innerHTML="".concat(n," Удалить из друзей"),R.a.confirm("Пользователь добавлен в друзья"),oo(!0))}else e(t.message)}).catch(e)});var io=Object(q.l)("#block-toggle");Object(q.c)(io,"click",function(){var t=Object(q.f)(io,"data-block-id"),e=function(t){"string"!=typeof t&&(t="Упс произошла ошибка"),R.a.alert(t)};D.a.post("/block",{block_id:t}).then(function(t){return t.data}).then(function(t){if("success"===t.status){var n='<i class="fa fa-user-times fa-fw"></i>';"удален"===t.message?(io.innerHTML="".concat(n," Добавить в игнор"),R.a.confirm("Пользователь удален из игнора")):(io.innerHTML="".concat(n," Удалить из игнора"),R.a.confirm("Пользователь добавлен в игнор"))}else e(t.message)}).catch(e)});var ao=Object(q.l)("#send-again-container"),so=!1;Object(q.c)(ao,"click",function(t){var e=this;t.preventDefault(),this.style.display="none",so||(so=!0,D.a.post("/resend-verification").then(function(){return R.a.confirm("Сообщение отправлено на email")}).catch(function(t){var n=t.response,r="Произошла ошибка";n.message&&(r=n.message),so=!1,e.style.display="",R.a.alert(r)}))});var co=Object(q.l)(".settings__tabs");co&&new De.a(co,{line:!0,history:!0});var uo,lo=Object(q.m)(".settings-upload .uploader");function fo(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ho(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function ho(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}lo.length&&Object(B.f)(lo,function(t){var e=Object(q.f)(t,"data-url"),n=new se({url:e,trigger:t,fileProp:"image",dropzone:!0,showProgress:!0,progressContainer:t});n.on("uploadError",function(){q.g.remove(t,"is-upload")}),n.on("uploadStart",function(){q.g.add(t,"is-upload"),q.g.remove(t,"is-empty")}),n.on("uploadComplete",function(e){var n=Object(q.f)(t,"data-type"),r="/uploads/users/".concat(e.img),o="background-image: url(".concat(r,")");if(Object(q.f)(Object(q.l)(".uploader__preview",t),"style",o),R.a.confirm("Профиль обновлен"),q.g.remove(t,"is-upload"),"avatar"===n){var i=Object(q.m)(".user__avatar, .header-right-menu__avatar");Object(B.f)(i,function(t){return t.src=r})}else Object(q.f)(Object(q.l)(".hero__cover"),"style",o)})});var po=B.w.get("dark-theme",{}),vo=fo({},Re.a,{},po),mo=Object(q.l)(".settings-theme"),go=Object(q.l)(".settings-theme__mode"),bo=Object(q.l)(".settings-theme__schedule"),yo=Object(q.l)(".settings-theme__schedule-times"),_o=Object(q.l)('[name="time-from"]',mo),Oo=Object(q.l)('[name="time-to"]',mo);function wo(){q.g.toggle(yo,"is-disabled",!vo.enabled),bo.disabled=!vo.enabled}function ko(t){vo=fo({},vo,{},t),B.w.save("dark-theme",vo);var e=vo.time,n=e.from,r=e.to;if(wo(),vo.enabled&&vo.autoEnable)return Object(Re.e)(Object(Re.b)(n,r));Object(Re.e)(vo.enabled)}function jo(t){return function(e){var n=e.target.value;Object(Re.c)(n)&&ko({time:fo({},vo.time,ho({},t,n))})}}mo&&new Promise(function(t){n.e(13).then(function(e){t(n("cQ68"))}.bind(null,n)).catch(n.oe)}).then(function(t){var e,n,r;uo=t.default,n=new uo(_o,e={time:!0,timePattern:["h","m"]}),r=new uo(Oo,e),wo(),go.checked=vo.enabled,bo.checked=vo.autoEnable,n.setRawValue(vo.time.from),r.setRawValue(vo.time.to),Object(q.c)(go,"change",function(){ko({enabled:go.checked})}),Object(q.c)(bo,"change",function(){ko({autoEnable:bo.checked})}),Object(q.c)(_o,"input blur",jo("from")),Object(q.c)(Oo,"input blur",jo("to"))});var xo=Object(q.l)("#push-sub-toggle");function Co(t){xo&&(xo.disabled=t)}function Eo(t){if(xo){var e=xo.closest(".form__field"),n=document.createElement("div");n.className="form__error",n.textContent=t,Co(!0),e.appendChild(n)}}function So(t){var e=t.getKey("p256dh"),n=t.getKey("auth"),r={endpoint:t.endpoint,key:e?btoa(String.fromCharCode.apply(null,new Uint8Array(e))):null,token:n?btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null};Co(!0),D.a.post("/subscriptions",r).then(function(){return Co(!1)}).catch(function(){return Co(!1)})}function To(){navigator.serviceWorker.ready.then(function(t){var e={userVisibleOnly:!0},n=window._PushData.vapidPublicKey;n&&(e.applicationServerKey=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(e),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}(n)),t.pushManager.subscribe(e).then(So).catch(function(t){"denied"===Notification.permission?console.error("Permission for Notifications was denied"):console.error("Unable to subscribe to push.",t),xo.checked=!1})}).catch(console.error)}function Ao(){navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){t&&t.unsubscribe().then(function(){!function(t){Co(!0),D.a.post("/subscriptions/delete",{endpoint:t.endpoint}).then(function(){return Co(!1)}).catch(function(){return Co(!1)})}(t)}).catch(console.error)}).catch(console.error)})}navigator.serviceWorker?navigator.serviceWorker.register("/sw.js").then(function(t){if(xo){if("showNotification"in ServiceWorkerRegistration.prototype)return"denied"===Notification.permission?(Eo('Вы заблокировали "push" уведомления'),void console.error("The user has blocked notifications.")):"PushManager"in window?void t.pushManager.getSubscription().then(function(t){xo&&(xo.checked=null!==t),t&&So(t)}).catch(console.error):(console.error("Push messaging isn't supported."),void Eo('Ваш браузер не поддерживает "push" уведомления'));console.error("Notifications aren't supported.")}}).catch(console.error):Eo('Ваш браузер не поддерживает "push" уведомления'),Object(q.c)(xo,"change",function(t){t.target.checked?To():Ao()});var Po=Object(q.l)("#public-bookmark-list");Po&&new U.a({el:Po,render:function(t){return t(ar.a)}}),Object(q.l)("#ban-expired-at")&&new Promise(function(t){n.e(10).then(function(e){t(n("axh2"))}.bind(null,n)).catch(n.oe)});var No=n("rxKx"),Io=n.n(No),Mo=n("08WP"),Lo=n.n(Mo);function Do(t){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e,n){var r=n.value;if("function"!=typeof r)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(Do(r)));var o=!1;return{configurable:!0,get:function(){if(o||this===t.prototype||this.hasOwnProperty(e)||"function"!=typeof r)return r;var n=r.bind(this);return o=!0,Object.defineProperty(this,e,{configurable:!0,get:function(){return n},set:function(t){r=t,delete this[e]}}),o=!1,n},set:function(t){r=t}}}function qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fo=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Bo(this,"onInputChange",function(t){var e=t.target,r=e.name,o="checkbox"===e.type?e.checked:e.value;n.updateItem(r,o),n.handlers[r]&&n.handlers[r](o,n.options)}),this.options=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Bo(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},e,{},B.w.get("reader",{})),this.handlers={},this.inputs=Object(q.m)("[data-reader-settings]"),this.bindEvents(),this.setInputValues()}var e,n,r;return e=t,(n=[{key:"bindEvents",value:function(){var t=this;Object(B.f)(this.inputs,function(e){var n=Object(q.f)(e,"data-event")||"change";Object(q.c)(e,n,t.onInputChange)})}},{key:"addHandler",value:function(t,e,n){this.handlers[t]=e,n||e(this.options[t],this.options)}},{key:"updateItem",value:function(t,e){this.options[t]=e,B.w.update("reader",this.options)}},{key:"setInputValues",value:function(){var t=this;Object(B.f)(this.inputs,function(e){var n=e.name,r=e.value,o=e.type;if(null!=t.options[n]&&t.options[n]===r&&(e.checked=!0),"checkbox"===o){if(Pt.j&&"showComments"===n)return;e.checked=t.options[n]}"range"===o&&(e.value=t.options[n])})}}])&&qo(e.prototype,n),r&&qo(e,r),t}(),Uo=n("hAM4"),zo=n.n(Uo),Ho=n("M7Fo");function $o(t){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wo(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Xo(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function Go(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ko(t,e,n){return(Ko="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Zo(t){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jo(t,e){return(Jo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qo,ti=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,o,i=Object(q.l)(".header_reader");return r=this,Xo(Vo(n=!(o=Zo(e).call(this,i,{tolerance:{up:10,down:10}}))||"object"!==$o(o)&&"function"!=typeof o?Vo(r):o),"addBookmarkLoading",!1),n.chaptersList=Object(q.l)(".reader-chapters-list"),n.data=t,n.addToBookmarkButton=Object(q.l)("#add-chapter-bookmark"),n.init(),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jo(t,e)}(e,zo.a),n=e,(r=[{key:"init",value:function(){Ko(Zo(e.prototype),"init",this).call(this),this.initDropdowns(),this.bindEventListeners()}},{key:"bindEventListeners",value:function(){Object(q.c)(this.addToBookmarkButton,"click",this.addToBookmark.bind(this))}},{key:"addToBookmark",value:function(){var t,e=(t=_n.a.mark(function t(){var e,n;return _n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.addBookmarkLoading){t.next=2;break}return t.abrupt("return");case 2:return e="",n={chapter_id:this.data.c_id,manga_id:this.data.m_id,page_slug:this.data.current||1},this.data.current&&(e=" на странице <strong>".concat(this.data.current,"</strong>")),this.toggleLoading(!0),t.prev=6,t.next=9,D.a.post("/bookmark",n);case 9:R.a.confirm("Закладка добавлена".concat(e)),Ho.a.emit("resetCacheTime"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),console.error(t.t0),R.a.alert("Произошла ошибка при добавлении закладки");case 17:this.toggleLoading(!1);case 18:case"end":return t.stop()}},t,this,[[6,13]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){Go(i,r,o,a,s,"next",t)}function s(t){Go(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()},{key:"toggleLoading",value:function(t){this.addBookmarkLoading=t,Object(_t.a)(this.addToBookmarkButton,t)}},{key:"initDropdowns",value:function(){var t=this;Pt.j?yt.a.on("show",this.scrollToActiveChapter.bind(this)):(q.g.add(this.chaptersList,"reader-dropdown"),Object(ot.default)("#chapter-dropdown-button",Wo({},Pt.f,{content:function(){return t.chaptersList},onShow:function(){t.freeze(),t.scrollToActiveChapter()},onHide:this.unfreeze.bind(this)})),Object(ot.default)("#scanlator-dropdown-button",Wo({},Pt.f,{placement:"bottom-end",content:Object(q.l)("#scanlator-menu"),onShow:this.freeze.bind(this),onHide:this.unfreeze.bind(this)})))}},{key:"scrollToActiveChapter",value:function(){var t=this,e=Object(q.l)(".menu__item_active",this.chaptersList);e&&requestAnimationFrame(function(){t.chaptersList.scrollTop=e.offsetTop-2*e.offsetHeight})}}])&&Yo(n.prototype,r),o&&Yo(n,o),e}();function ei(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ni(){if(Qo)return Qo;(Qo=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ei(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},window.__info)||{}).pages=(window.__pg||[]).map(function(t){return{page_slug:t.p,page_image:t.u}});var t=Object(q.l)("#pg");return t&&t.parentNode.removeChild(t),Qo}function ri(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){oi(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function oi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ii(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ai(t){var e=B.w.get("dark-theme",Re.a),n="dark"===t;"global"===t&&(n=e.enabled),Object(Re.e)(n)}var si,ci=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=ri({},ni()),this.settings=new Fo(ri({disableHeader:!1,caution:!0},e)),this.header=new ti(this.data),this.init(),this.initSettingHandlers(),this.initCautionHandler()}var e,n,r;return e=t,(n=[{key:"init",value:function(){}},{key:"initSettingHandlers",value:function(){this.settings.addHandler("theme",ai,!0),this.settings.addHandler("disableHeader",this._headerHandler.bind(this))}},{key:"initCautionHandler",value:function(){var t=this;this.settings.options.caution&&this.data.manga_caution>0&&yt.a.show("#reader-caution").disable(),Object(q.c)(".reader-caution-continue","click",function(){var e=Object(q.l)('input[name="disable-caution"]');e&&e.checked&&t.settings.updateItem("caution",!1),yt.a.enable().close()}),Object(q.c)(".reader-caution-back","click",function(){location.href=t.data.slug||"/"})}},{key:"_headerHandler",value:function(t){t?(this.header.freeze(),q.g.add(this.header.elem,"is-static")):(this.header.unfreeze(),q.g.remove(this.header.elem,"is-static"))}}])&&ii(e.prototype,n),r&&ii(e,r),t}(),ui={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},li=document.documentElement,fi=document.body;function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pi(t,e){return!e||"object"!==di(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vi(t,e,n){return(vi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function mi(t){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gi(t,e){return(gi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bi(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var yi="hidden",_i={root:Object(q.l)(".reader"),header:Object(q.l)(".header_reader"),headerWrapper:Object(q.l)(".reader-header__wrapper"),view:Object(q.l)(".reader-view"),select:Object(q.l)("#reader-pages"),selectLabel:Object(q.l)(".reader-pages__label span"),comments:Object(q.l)(".reader-comments"),commentsDrag:Object(q.l)(".reader-comments-drag"),imgContainer:Object(q.l)(".reader-view__container"),brokenImg:Object(q.l)("#broken-image"),preload:Object(q.l)(".reader-view__loader")};function Oi(t){t.stopPropagation(),yt.a.show("#reader-settings")}function wi(t){location.reload(),t instanceof Event&&(t.stopPropagation(),t.preventDefault())}function ki(t){var e=Object(q.l)(".reader-view");Object(B.f)(["default","full","medium","fit-height"],function(t){return q.g.remove(e,"reader-view_".concat(t))}),q.g.add(e,"reader-view_".concat(t))}function ji(t){return Object(q.l)('[data-p="'.concat(t,'"]'),_i.imgContainer)}function xi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return pageYOffset+t.getBoundingClientRect().top-e}var Ci=(bi((si=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n={theme:"dark",mode:"horizontal",imageSize:"default",imageServer:ni().imgServer,showComments:!1,commentsSize:500};return(t=pi(this,mi(e).call(this,n))).commentsDrag={size:300,start:!1},t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gi(t,e)}(e,ci),n=e,(r=[{key:"findImageSrc",value:function(t){var e=Object(B.d)(this.data.pages,function(e){return t===e.page_slug});return this.imageSrc(e.page_image)}},{key:"imageSrc",value:function(t){var e=location,n=e.protocol,r=e.host,o="".concat(n,"//").concat(this.server,".").concat(r).concat(this.data.imgUrl).concat(t);return o=o.replace(/test\d\./,"")}},{key:"init",value:function(){var t=this;if(this.data.pages.length){this.initElements(),this.renderOptionsForPageSelect(),this.bindEvents();var e=ji(this.current),n=ji(this.current+1);q.g.remove(e,yi),this._updateComments(),this.replaceSrc(e,function(){t.pushState(),t.changePageSelect(),t.initScrollObserver(),t.replaceSrc(n)})}}},{key:"pushState",value:function(){var t=Tr.a.parse(location.search),e=null;this.isHorizontalMode&&(t.page=this.current,e={page:this.current}),history.pushState(e,null,"".concat(this.data.base,"?").concat(Tr.a.stringify(t)))}},{key:"bindEvents",value:function(){var t=this;Object(q.a)(".reader-paginate","click","[data-direction]",function(e,n){if(t.isHorizontalMode){var r="next"===Object(q.f)(n,"data-direction")?t.current+1:t.current-1;t.changePage(r)}}),Object(q.c)(".reader-view","click",function(){t.isHorizontalMode&&t.changePage(t.current+1)}),Object(q.c)(_i.select,"change",function(){var e=_i.select.value;if(_i.select.blur(),t.isHorizontalMode)return t.changePage(e);t.current=e,window.scroll(0,xi(ji(e),56))}),Object(q.c)(window,"popstate",function(){if(t.isHorizontalMode){var e=t.current,n=history.state;n&&n.page&&(e=n.page),t.changePage(e,!0)}}),Object(q.c)(window,"keyup",function(e){if(t.isHorizontalMode){var n=e.keyCode||e.which;if(37===n||39===n){var r=document.activeElement;if(r&&(q.g.has(r,"comment-reply__editor")||q.g.has(r,"chat-send__area")))return;var o=39===n?t.current+1:t.current-1;t.changePage(o)}}}),this.mc=new Io.a(_i.commentsDrag),this.mc.add(new Io.a.Pan({direction:Io.a.DIRECTION_HORIZONTAL})),this.mc.on("panstart",this.changeCommentsSizeStart),this.mc.on("panmove",this.changeCommentsSizeMove),this.mc.on("panend",this.changeCommentsSizeEnd)}},{key:"pageWrapper",value:function(t){var e=t.page_slug;return Object(v.a)("div",{className:"reader-view__wrap".concat(this.isHorizontalMode?" hidden":""),"data-p":e,"data-loaded":"false"},Object(v.a)("img",null))}},{key:"initElements",value:function(){var t=this,e=document.createDocumentFragment();Object(B.f)(this.data.pages,function(n){e.appendChild(t.pageWrapper(n))}),_i.preload&&_i.imgContainer.replaceChild(e,_i.preload)}},{key:"renderOptionsForPageSelect",value:function(){var t=this;Object(B.f)(this.data.pages,function(e){var n={value:e.page_slug};e.page_slug===t.current&&(n.selected=!0),_i.select.add(Object(v.a)("option",n,"Страница ",e.page_slug," / ",t.total))}),q.g.remove(_i.select.parentNode,yi)}},{key:"initScrollObserver",value:function(){var t=this,e=!1;document.elementFromPoint&&(e=!0,this.isHorizontalMode||this.checkPageByPoint(),Object(q.c)(window,"scroll",we()(this.checkPageByPoint,200),{passive:!0})),Lo()(".reader-view__wrap").on("enter",function(n){if(!t.isHorizontalMode){var r=n.nextElementSibling;if(!e){var o=Object(q.f)(n,"data-p");t.current=o,t._updateComments(!0)}t.replaceSrc(n,function(){return t.replaceSrc(r)})}})}},{key:"initSettingHandlers",value:function(){vi(mi(e.prototype),"initSettingHandlers",this).call(this),this.settings.addHandler("mode",this.modeChanged.bind(this)),this.settings.addHandler("imageServer",function(){return location.reload()},!0),this.settings.addHandler("imageSize",ki),this.settings.addHandler("showComments",this.toggleShowComments,this.isMobile)}},{key:"checkPageByPoint",value:function(){if(!this.isHorizontalMode){var t=_i.view.offsetWidth,e=window.innerHeight,n=document.elementFromPoint(t/2,e/2);q.f.has(n,"data-p")||(n=n.closest("[data-p]"));var r=Object(q.f)(n,"data-p");r&&(this.current=r,this._updateComments(!0))}}},{key:"changePage",value:function(t,e){var n=this;if((t=parseInt(t,10))>this.total||t<=0)return this.redirectPage(t);var r=ji(t),o=ji(this.current),i=t<this.current?"prev":"next";this.current=t,this.header.unpin(),this.header.freeze(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t.destination,r=void 0===n?0:n,o=t.duration,i=void 0===o?200:o,a=t.skip,s=void 0!==a&&a,c=window,u=c.pageYOffset,l="now"in c.performance?performance.now():Date.now(),f=Math.max(fi.scrollHeight,fi.offsetHeight,li.clientHeight,li.scrollHeight,li.offsetHeight),d=c.innerHeight||li.clientHeight||document.getElementsByTagName("body")[0].clientHeight,h=Object(B.n)(r)?r:r.offsetTop,p=Math.round(f-h<d?f-d:h);if(s&&(Object(B.k)(s)||Object(B.n)(s)&&c.pageYOffset>=s))return c.scroll(0,p),e&&e();if("requestAnimationFrame"in c==0)return c.scroll(0,p),e&&e();!function t(){var n="now"in c.performance?performance.now():Date.now(),r=Math.min(1,(n-l)/i),o=ui.easeInOutCubic(r);return c.scroll(0,Math.ceil(o*(p-u)+u)),c.pageYOffset===p?e&&e():n-l>=i?e&&e():void requestAnimationFrame(t)}()}({destination:Object(q.i)(_i.imgContainer).top,duration:250,skip:2e3},function(){return requestAnimationFrame(function(){n.header.unfreeze(),0===pageYOffset&&n.header.pin()})}),this._updateComments(),_i.brokenImg.value="".concat(Object(q.f)(_i.brokenImg,"data-text")," ").concat(t),document.title=document.title.replace(/\[(.*)\]/,function(){return"[Страница ".concat(t,"]")}),q.g.add(o,yi),q.g.remove(r,yi),e||this.pushState(),this.replaceSrc(r,function(){var e="prev"===i?t-1:t+1;n.replaceSrc(ji(e))})}},{key:"modeChanged",value:function(){var t,e=this,n=ji(this.current),r=Object(q.m)(".reader-view__wrap");t=this.isHorizontalMode,q.g.toggle(Object(q.l)(".reader-paginate"),yi,!t),q.g.toggle(Object(q.l)("#reader-next"),yi,t),q.g.toggle(document.body,"is-vertical",!t),q.g.toggle(Object(q.l)(".reader-comments-toggler"),yi,t),Object(B.f)(r,function(t){e.isHorizontalMode?(q.g.add(t,yi),t===n&&q.g.remove(t,yi)):q.g.remove(t,yi)}),this.isHorizontalMode?this.commentsSetSize(""):(window.scroll(0,xi(n,56)),this.isMobile||this.toggleShowComments(this.settings.options.showComments))}},{key:"toggleShowComments",value:function(t){var e=this.settings.options.commentsSize,n="";this.isMobile&&Object(Ue.a)(t),t&&(this._updateComments(),this.isMobile||this.isHorizontalMode||(n="".concat(e,"px"))),this.setCommentsItemSize(e),this.commentsSetSize(n),q.g.toggle(document.body,"is-comments-enabled",t)}},{key:"changePageSelect",value:function(){var t="".concat(this.current," / ").concat(this.total);_i.selectLabel.textContent=this.isMobile?t:"Страница ".concat(t),_i.select.value=this.current}},{key:"redirectPage",value:function(t){return t>this.total&&this.data.next?location.href=this.data.next:t<=0&&this.data.prev?location.href=this.data.prev:location.href="/".concat(this.data.slug)||"/"}},{key:"replaceSrc",value:function(t,e){var n=this;if(Object(q.j)(t)){var r=parseInt(Object(q.f)(t,"data-p")),o=this.findImageSrc(r),i=Object(q.l)("img",t);if(i){if(!q.f.has(t,"data-loaded"))return e&&e();i.onload=function(){e&&e(),t.removeAttribute("data-loaded")},i.onerror=function(){i.onload=null,i.onerror=null,q.g.add(t,"reader-view__wrap_error"),t.replaceChild(n.errorMessage(),i),e&&e()},i.src=o}}}},{key:"changeCommentsSizeStart",value:function(){var t=_i.comments.offsetWidth;this.commentsDrag.start=!0,this.commentsDrag.size=t}},{key:"changeCommentsSizeMove",value:function(t){var e=this;this.commentsDrag.start&&requestAnimationFrame(function(){var n=e.commentsDrag.size-t.deltaX,r=Object(mt.a)(n,360,800),o="".concat(r,"px");e.commentsDrag.current=r,e.commentsSetSize(o)})}},{key:"changeCommentsSizeEnd",value:function(){this.commentsDrag.start&&(this.settings.updateItem("commentsSize",this.commentsDrag.current),this.commentsDrag.start=!1,this.setCommentsItemSize(this.commentsDrag.current))}},{key:"commentsSetSize",value:function(t){_i.comments.style.width=t,_i.root.style.paddingRight=t,_i.headerWrapper.style.paddingRight=t}},{key:"setCommentsItemSize",value:function(t){this.isMobile||q.g.toggle(_i.comments,"is-small",t<=550)}},{key:"errorMessage",value:function(){return Object(v.a)("div",{className:"reader-image-error"},"Произошла ошибка при загрузке изображения ",Object(v.a)("br",null),"Попробуйте сменить сервер в",Object(v.a)("span",{onClick:Oi}," Настройках ",Object(v.a)("i",{className:"fa fa-cog"})),Object(v.a)("br",null),"или ",Object(v.a)("span",{onClick:wi},Object(v.a)("i",{className:"fa fa-refresh"})," перезагрузить")," страницу")}},{key:"_updateComments",value:function(t){t&&!this.settings.options.showComments||B.b.emit("comments.changeChapterPage",this.current)}},{key:"isHorizontalMode",get:function(){return"horizontal"===this.settings.options.mode}},{key:"total",get:function(){return this.data.pages.length}},{key:"server",get:function(){var t={main:"img2",secondary:"img2",compress:"img3"};return this.data.supportWebp?t[this.settings.options.imageServer]:t.compress}},{key:"current",get:function(){return this.data.current},set:function(t){return t=parseInt(t,10),this.data.current=t,this.changePageSelect(),t}},{key:"isMobile",get:function(){return window.matchMedia("(max-width: 600px)").matches}}])&&hi(n.prototype,r),o&&hi(n,o),e}()).prototype,"checkPageByPoint",[Ro],Object.getOwnPropertyDescriptor(si.prototype,"checkPageByPoint"),si.prototype),bi(si.prototype,"toggleShowComments",[Ro],Object.getOwnPropertyDescriptor(si.prototype,"toggleShowComments"),si.prototype),bi(si.prototype,"changeCommentsSizeStart",[Ro],Object.getOwnPropertyDescriptor(si.prototype,"changeCommentsSizeStart"),si.prototype),bi(si.prototype,"changeCommentsSizeMove",[Ro],Object.getOwnPropertyDescriptor(si.prototype,"changeCommentsSizeMove"),si.prototype),bi(si.prototype,"changeCommentsSizeEnd",[Ro],Object.getOwnPropertyDescriptor(si.prototype,"changeCommentsSizeEnd"),si.prototype),si);function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ti(t,e){return!e||"object"!==Ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ai(t,e,n){return(Ai="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ni(t,e){return(Ni=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}_i.root&&!q.g.has(_i.root,"reader_text")&&new Ci;var Ii={root:Object(q.l)(".reader"),container:Object(q.l)(".reader-container"),buttons:Object(q.l)("#reader-next"),comments:Object(q.l)(".reader-comments")},Mi=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return Ti(this,Pi(e).call(this,{theme:"light",font:"Helvetica",fontSize:16,lineHeight:1.6}))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ni(t,e)}(e,ci),n=e,(r=[{key:"init",value:function(){q.g.remove(Ii.container,"hidden"),q.g.remove(Ii.buttons,"hidden"),q.g.remove(Ii.comments,"hidden")}},{key:"initSettingHandlers",value:function(){Ai(Pi(e.prototype),"initSettingHandlers",this).call(this),this.settings.addHandler("font",this.changeFont),this.settings.addHandler("fontSize",this.setStyle("fontSize","px")),this.settings.addHandler("lineHeight",this.setStyle("lineHeight",""))}},{key:"changeFont",value:function(t){var e="Helvetica"===t?"sans-serif":"serif";Ii.container.style.fontFamily="".concat(t,", ").concat(e)}},{key:"setStyle",value:function(t,e){var n=this;return function(r){var o="".concat(r).concat(e);Ii.container.style[t]=o,n.updateElValue(o,t)}}},{key:"updateElValue",value:function(t,e){Object(q.l)(".reader-settings__".concat(e)).textContent="[".concat(t,"]")}}])&&Si(n.prototype,r),o&&Si(n,o),e}();if(Ii.root&&q.g.has(Ii.root,"reader_text")&&new Mi,Object(q.l)(".forum")){var Li=Object(q.l)(".forum-action-menu"),Di=Object(q.l)("#selected-items"),Ri=[].slice.call(Object(q.m)("input[data-select]"));Object(q.c)("form[data-actions-form]","submit",function(t){var e=t.target,n=Object(q.l)('input[name="_method"]',e),r=Object(q.l)('select[name="action"]',e),o=Object(q.l)('button[type="submit"]',e),i=r.options[r.selectedIndex];if(q.f.has(i,"data-confirm")&&!confirm("Вы уверены?"))return t.preventDefault();q.f.has(i,"data-method")?n.value=Object(q.f)(i,"data-method"):n.value="patch",Object(_t.a)(o,!0)}),Object(q.c)(Ri,"change",function(t){var e=t.currentTarget;if(q.g[Ri.some(function(t){return t.checked})?"remove":"add"](Li,"hidden"),e.checked)Di.add(Object(v.a)("option",{value:e.value,selected:!0}));else{var n=Object(q.l)('option[value="'.concat(e.value,'"]'),Di),r=Object(q.h)(n,Di);Di.remove(r)}}),Object(q.c)("select.form-action","change",function(t){var e=t.currentTarget,n=e.value,r=e.closest("form");Object(q.m)("[data-depends]",r).forEach(function(t){var e=Object(q.f)(t,"data-depends")===n?"remove":"add";q.g[e](t,"hidden")})}),Object(q.a)(Li,"click","[data-target]",function(t,e){var n=Object(q.f)(e,"data-target"),r=Object(q.l)("#thread-action"),o=Object(q.l)("#actions-submit");if(r.value=n,t.preventDefault(),"move"===n)return yt.a.show("#thread-action-modal");o.click()})}var qi=Object(q.l)(".forum .header"),Bi=function(){0!==pageYOffset?q.g.add(qi,"header_highlight"):q.g.remove(qi,"header_highlight")};qi&&(Object(q.c)(window,"scroll",Bi),Bi()),Object(q.l)("#moderation-container")&&new Promise(function(t){n.e(3).then(function(e){t(n("mkVr"))}.bind(null,n)).catch(n.oe)});var Fi=window.__LATEST_POST;function Ui(){B.w.save("viewedPosts",Fi.slug)}null!=Fi&&B.w.get("viewedPosts","")!==Fi.slug&&At.a.info("".concat(Fi.title," <time>").concat(Fi.created_at,"</time>"),{closeable:!0,onClose:Ui,onClick:function(){Ui(),location.assign(Fi.link)}}),function(){var t=[];function e(e,n){n()&&t.push(e)}e("userAgent",function(){return/headless/i.test(window.navigator.userAgent)}),e("appVersion",function(){return/headless/i.test(window.navigator.appVersion)}),e("webdriver",function(){return/chrome/i.test(window.navigator.userAgent)&&null!=window.navigator.webdriver}),e("window.chrome missing",function(){return/chrome/i.test(window.navigator.userAgent)&&!window.chrome}),setTimeout(function(){if(t.length){try{window.ym&&window.ym(21237529,"reachGoal","is_headless",{detects:t.join("|")})}catch(t){}D.a.post("/check-push-subscription",{data:btoa(t.join("|"))})}},2500)}(),D.a.defaults.headers["X-CSRF-TOKEN"]=Object(B.h)(),D.a.defaults.headers["X-Requested-With"]="XMLHttpRequest",D.a.interceptors.response.use(function(t){return t},function(t){var e=t.response;if(e&&e.data&&404!==e.status){var n=e.data,r=n.errors,o=n.message;if(r)if(Object(B.j)(r))o=r[0];else if(Object(B.o)(r)){var i=r[Object.keys(r)[0]];Object(B.j)(i)&&(o=i[0]),Object(B.p)(i)&&(o=i)}o&&R.a.alert(o)}return Promise.reject(t)}),function(){switch(Object(q.f)(document.body,"data-page")){case"news-editor":new Promise(function(t){n.e(8).then(function(e){t(n("pG0S"))}.bind(null,n)).catch(n.oe)});break;case"bulk-create":new Promise(function(t){n.e(7).then(function(e){t(n("dg9y"))}.bind(null,n)).catch(n.oe)});break;case"chapter-editor":new Promise(function(t){n.e(4).then(function(e){t(n("/1KW"))}.bind(null,n)).catch(n.oe)});break;case"home":new Promise(function(t){n.e(9).then(function(e){t(n("cGnW"))}.bind(null,n)).catch(n.oe)});break;case"faq":new Promise(function(t){n.e(0).then(function(e){t(n("TAFP"))}.bind(null,n)).catch(n.oe)});break;case"tags":new Promise(function(t){n.e(6).then(function(e){t(n("ATs1"))}.bind(null,n)).catch(n.oe)});break;case"forum":new Promise(function(t){n.e(1).then(function(e){t(n("m40e"))}.bind(null,n)).catch(n.oe)})}}(),Object(q.l)("#faq-page")&&new Promise(function(t){n.e(0).then(function(e){t(n("TAFP"))}.bind(null,n)).catch(n.oe)}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(t){console.log("ServiceWorker registration successful with scope: ",t.scope)},function(t){console.log("ServiceWorker registration failed: ",t)})},abp6:function(t,e,n){var r=n("VU/8")(n("3y7u"),n("50oC"),!1,null,null,null);t.exports=r.exports},agim:function(t,e,n){var r=n("pTUa");t.exports=function(t){return r(this,t).has(t)}},aqbq:function(t,e,n){var r=n("odTk"),o=n("hcE8"),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},arOy:function(t,e,n){var r,o,i;function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";var t="undefined"!=typeof window,e=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=t&&"IntersectionObserver"in window,r=t&&"classList"in document.createElement("p"),o={elements_selector:"img",container:e||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null},i=function(t,e){return t.getAttribute("data-"+e)},s=function(t,e,n){var r="data-"+e;null!==n?t.setAttribute(r,n):t.removeAttribute(r)},c=function(t){return"true"===i(t,"was-processed")},u=function(t,e){return s(t,"ll-timeout",e)},l=function(t){return i(t,"ll-timeout")},f=function(t,e){var n,r=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)},d=function(t,e){t&&t(e)},h=function(t,e){t._loadingCount+=e,0===t._elements.length&&0===t._loadingCount&&d(t._settings.callback_finish)},p=function(t){for(var e,n=[],r=0;e=t.children[r];r+=1)"SOURCE"===e.tagName&&n.push(e);return n},v=function(t,e,n){n&&t.setAttribute(e,n)},m=function(t,e){v(t,"sizes",i(t,e.data_sizes)),v(t,"srcset",i(t,e.data_srcset)),v(t,"src",i(t,e.data_src))},g={IMG:function(t,e){var n=t.parentNode;n&&"PICTURE"===n.tagName&&p(n).forEach(function(t){m(t,e)}),m(t,e)},IFRAME:function(t,e){v(t,"src",i(t,e.data_src))},VIDEO:function(t,e){p(t).forEach(function(t){v(t,"src",i(t,e.data_src))}),v(t,"src",i(t,e.data_src)),t.load()}},b=function(t,e){r?t.classList.add(e):t.className+=(t.className?" ":"")+e},y=function(t,e,n){t.addEventListener(e,n)},_=function(t,e,n){t.removeEventListener(e,n)},O=function(t,e,n){_(t,"load",e),_(t,"loadeddata",e),_(t,"error",n)},w=function(t,e,n){var o=n._settings,i=e?o.class_loaded:o.class_error,a=e?o.callback_loaded:o.callback_error,s=t.target;!function(t,e){r?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(s,o.class_loading),b(s,i),d(a,s),h(n,-1)},k=["IMG","IFRAME","VIDEO"],j=function(t,e){var n=e._observer;C(t,e),n&&e._settings.auto_unobserve&&n.unobserve(t)},x=function(t){var e=l(t);e&&(clearTimeout(e),u(t,null))},C=function(t,e,n){var r=e._settings;!n&&c(t)||(k.indexOf(t.tagName)>-1&&(function(t,e){var n=function n(o){w(o,!0,e),O(t,n,r)},r=function r(o){w(o,!1,e),O(t,n,r)};!function(t,e,n){y(t,"load",e),y(t,"loadeddata",e),y(t,"error",n)}(t,n,r)}(t,e),b(t,r.class_loading)),function(t,e){var n,r,o=e._settings,a=t.tagName,s=g[a];if(s)return s(t,o),h(e,1),void(e._elements=(n=e._elements,r=t,n.filter(function(t){return t!==r})));!function(t,e){var n=i(t,e.data_src),r=i(t,e.data_bg);n&&(t.style.backgroundImage='url("'.concat(n,'")')),r&&(t.style.backgroundImage=r)}(t,o)}(t,e),function(t){s(t,"was-processed","true")}(t),d(r.callback_reveal,t),d(r.callback_set,t))},E=function(t){return!!n&&(t._observer=new IntersectionObserver(function(e){e.forEach(function(e){return function(t){return t.isIntersecting||t.intersectionRatio>0}(e)?function(t,e){var n=e._settings;d(n.callback_enter,t),n.load_delay?function(t,e){var n=e._settings.load_delay,r=l(t);r||(r=setTimeout(function(){j(t,e),x(t)},n),u(t,r))}(t,e):j(t,e)}(e.target,t):function(t,e){var n=e._settings;d(n.callback_exit,t),n.load_delay&&x(t)}(e.target,t)})},{root:(e=t._settings).container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}),!0);var e},S=function(t,e){this._settings=function(t){return a({},o,t)}(t),this._loadingCount=0,E(this),this.update(e)};return S.prototype={update:function(t){var n=this,r=this._settings,o=t||r.container.querySelectorAll(r.elements_selector);this._elements=Array.prototype.slice.call(o).filter(function(t){return!c(t)}),!e&&this._observer?this._elements.forEach(function(t){n._observer.observe(t)}):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(t,e){C(t,this,e)},loadAll:function(){var t=this;this._elements.forEach(function(e){j(e,t)})}},t&&function(t,e){if(e)if(e.length)for(var n,r=0;n=e[r];r+=1)f(t,n);else f(t,e)}(S,window.lazyLoadOptions),S},"object"===s(e)&&void 0!==t?t.exports=i():void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},aske:function(t,e,n){var r=n("aqbq"),o=n("gLsf"),i=n("fTzd"),a=n("5+O3");t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},bGc4:function(t,e,n){var r=n("gGqR"),o=n("Rh28");t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},bIbi:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"WeakMap");t.exports=r},bIjD:function(t,e,n){var r=n("NGEn"),o=n("hIPy"),i=n("UnLw"),a=n("ZT2e");t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},bJWQ:function(t,e,n){var r=n("duB3"),o=n("KmWZ"),i=n("NqZt"),a=n("E4Hj"),s=n("G2xm"),c=n("zpVT");function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},bKo1:function(t,e,n){var r=n("QzY/");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("75a6ac46",r,!0,{})},bO0Y:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Promise");t.exports=r},bRTM:function(t,e){var n=NodeList.prototype;NodeList&&!n.forEach&&(n.forEach=function(t,e){e=e||this;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)})},bgwn:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-comments",{ref:"comments",attrs:{"current-order":t.currentOrder,loading:t.loading,"show-partials":t.showPartialComments},on:{"sort-changed":t.sortChanged,"show-all-comments":t.showAllComments},scopedSlots:t._u([{key:"footer-button",fn:function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showPartialComments,expression:"!showPartialComments"}],staticClass:"comments__load-page"},[t.hasNextSlice?n("button",{staticClass:"button button_block",on:{click:t.showNextSlice}},[t._v("\n        Показать ещё комментарии\n      ")]):t._e()])]},proxy:!0}])})},staticRenderFns:[]}},blYT:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n("DuR2"))},"by+k":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("CkJp"),a=n.n(i),s=n("Kip4");e.default=o.a.extend({components:{BookmarkFoldersList:a.a},mixins:[s.a],props:{className:String}})},c746:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("oG8a");function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)})}}e.default={props:{folder:Object},data:function(){return{loading:!1,editing:!1,nameBeforeSave:null}},methods:{remove:function(){var t=u(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("Вы действительно хотите удалить этот список и всю мангу находящуюся в нём?")){t.next=2;break}return t.abrupt("return");case 2:if(!this.loading){t.next=4;break}return t.abrupt("return");case 4:return this.loading=!0,t.prev=5,t.next=8,a.a.delete("/bookmark-folder/".concat(this.folder.id));case 8:s.a.success("Список успешно удалён"),this.$emit("removed",this.folder),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.error(t.t0);case 15:this.loading=!1;case 16:case"end":return t.stop()}},t,this,[[5,12]])}));return function(){return t.apply(this,arguments)}}(),save:function(){var t=u(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.input.value.trim(),!this.loading&&e.length&&this.nameBeforeSave!==e){t.next=3;break}return t.abrupt("return");case 3:return this.loading=!0,this.folder.name=e,t.prev=5,t.next=8,a.a.put("/bookmark-folder/".concat(this.folder.id),{name:e});case 8:s.a.success("Изменения сохранены"),this.editing=!1,this.nameBeforeSave=null,this.$refs.input.blur(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5),console.error(t.t0);case 17:this.loading=!1;case 18:case"end":return t.stop()}},t,this,[[5,14]])}));return function(){return t.apply(this,arguments)}}(),edit:function(t){this.loading||(t?this.nameBeforeSave=this.folder.name:this.nameBeforeSave&&(this.folder.name=this.nameBeforeSave,this.nameBeforeSave=null),this.editing=t)}}}},"d+aQ":function(t,e,n){var r=n("hbAh"),o=n("16tV"),i=n("sJvV");t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},d42z:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-modal",{attrs:{id:"header-actions-modal",type:"bottom-sheet",title:"Действия с выбранной мангой","close-icon":""}},[n("div",{staticClass:"menu menu_default"},[n("div",{staticClass:"menu__item",on:{click:function(e){return t.openModal("#move-bookmarks")}}},[n("i",{staticClass:"fa fa-folder fa-fw"}),t._v(" Переместить\n    ")]),t._v(" "),n("div",{staticClass:"menu__item",on:{click:function(e){return t.openModal("#bookmark-confirm-delete")}}},[n("i",{staticClass:"fa fa-trash fa-fw"}),t._v(" Удалить\n    ")])])])},staticRenderFns:[]}},d4US:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"DataView");t.exports=r},dCZQ:function(t,e,n){var r=n("ICSD")(Object,"create");t.exports=r},dFpP:function(t,e,n){var r=n("imBK"),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},dH3X:function(t,e,n){var r=n("607n");t.exports=function(t){if(r(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}},dYhQ:function(t,e,n){var r=n("9UkZ");t.exports=function(t){return r(t)?void 0:t}},deUO:function(t,e,n){var r=n("imBK");t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},dliL:function(t,e,n){"use strict";var r=n("i9tX"),o=n("hcE8"),i=n("hGaF"),a=n("+opI"),s=n("0LGO"),c=n("UHV6"),u=n("tyBP"),l=n("HAas"),f=n("r54x"),d=n("Kbrx"),h=n("GB3+"),p=n("3Nrx");t.exports=function(t,e,n,v,m){var g=o[t],b=g&&g.prototype,y=g,_=v?"set":"add",O={},w=function(t){var e=b[t];a(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof g||!(m||b.forEach&&!f(function(){(new g).entries().next()}))))y=n.getConstructor(e,t,v,_),s.REQUIRED=!0;else if(i(t,!0)){var k=new y,j=k[_](m?{}:-0,1)!=k,x=f(function(){k.has(1)}),C=d(function(t){new g(t)}),E=!m&&f(function(){for(var t=new g,e=5;e--;)t[_](e,e);return!t.has(-0)});C||((y=e(function(e,n){u(e,y,t);var r=p(new g,e,y);return void 0!=n&&c(n,r[_],r,v),r})).prototype=b,b.constructor=y),(x||E)&&(w("delete"),w("has"),v&&w("get")),(E||j)&&w(_),m&&b.clear&&delete b.clear}return O[t]=y,r({global:!0,forced:y!=g},O),h(y,t),m||n.setStrong(y,t,v),y}},dmQx:function(t,e){t.exports=function(t,e){return t.has(e)}},duB3:function(t,e,n){var r=n("WxI4"),o=n("dFpP"),i=n("JBvZ"),a=n("2Hvv"),s=n("deUO");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},dwsC:function(t,e,n){var r=n("86tT"),o=n("S7p9"),i=n("Dc0G"),a=i&&i.isMap,s=a?o(a):r;t.exports=s},eFps:function(t,e,n){var r,o=n("+gg+"),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},"eG8/":function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},eKBv:function(t,e,n){var r=n("YDHx"),o=n("Q7hp"),i=n("RfZv"),a=n("hIPy"),s=n("tO4o"),c=n("sJvV"),u=n("Ubhr"),l=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?c(u(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,l|f)}}},eP4g:function(t,e,n){var r=n("gHOb"),o=n("UnEC"),i="[object Set]";t.exports=function(t){return o(t)&&r(t)==i}},eTT4:function(t,e,n){"use strict";var r=n("jgJS"),o={};o[n("jAiL")("toStringTag")]="z",t.exports="[object z]"!==String(o)?function(){return"[object "+r(this)+"]"}:o.toString},eVIm:function(t,e,n){var r=n("dCZQ"),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},eZ0g:function(t,e){t.exports={}},ekPa:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-modal",{staticClass:"manga-preview",attrs:{type:"slide"}},[!t.loading&&t.mangaInfo?n("div",{staticClass:"modal__content-scroller"},[n("div",{staticClass:"manga-preview__content"},[n("div",{staticClass:"manga-preview__head"},[n("img",{staticClass:"manga-preview__cover",attrs:{src:t._cover(t.mangaInfo.slug,t.mangaInfo.cover)}}),t._v(" "),n("div",{staticClass:"manga-preview__head-right"},[n("div",{staticClass:"manga-rating"},[n("div",{staticClass:"manga-rating__top"},[n("div",{staticClass:"manga-rating__stars rating"},t._l(t.score,function(e){return n("span",{key:e,staticClass:"rating__star",class:{rating__current:t.currentRating===e},attrs:{"data-score":e}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-star"}})])])}),0),t._v(" "),n("div",{staticClass:"manga-rating__value"},[t._v("\n                "+t._s(t.mangaInfo.rate_avg)+"\n              ")])]),t._v(" "),n("div",{staticClass:"manga-rating__votes"},[t._v("\n              голосов: "+t._s(t.mangaInfo.rate)+"\n            ")])]),t._v(" "),t.mangaStatusText?n("button",{staticClass:"button button_primary button_block",class:{button_loading:t.changeStatusLoading},attrs:{"data-status":t.bookmarkStatus},on:{click:t.changeStatus}},[t._v("\n            "+t._s(t.mangaStatusText)+"\n          ")]):t._e()])]),t._v(" "),n("h3",{staticClass:"manga-preview__name"},[t._v("\n        "+t._s(t.mangaInfo.name)+"\n        "),t.mangaInfo.rus_name?n("small",[t._v("\n          "+t._s(t.mangaInfo.rus_name)+"\n        ")]):t._e()]),t._v(" "),n("div",{staticClass:"manga-preview__data"},[n("div",{staticClass:"info-list manga-info"},[t.mangaInfo.authors&&t.mangaInfo.authors.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Автор")]),t._v(" "),t._l(t.mangaInfo.authors,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/people/author/"+e.slug}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2):t._e(),t._v(" "),t.mangaInfo.artists&&t.mangaInfo.artists.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Художник")]),t._v(" "),t._l(t.mangaInfo.artists,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/people/artist/"+e.slug}},[t._v(t._s(e.name))])})],2):t._e(),t._v(" "),t.mangaInfo.status?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Перевод")]),t._v(" "),n("span",{class:["m-label","m-label_"+(1==t.mangaInfo.status.id?"info":"success")]},[t._v(t._s(t.mangaInfo.status.label))])]):t._e(),t._v(" "),t.mangaInfo.caution>0?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Рейтинг")]),t._v(" "),n("span",{staticClass:"m-label m-label_alert m-label_fx"},[t._v("\n              "+t._s(1==t.mangaInfo.caution?"16+":"18+")+"\n            ")])]):t._e(),t._v(" "),t.mangaInfo.releaseDate?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Дата релиза")]),t._v(" "),n("span",[t._v(t._s(t.mangaInfo.releaseDate))])]):t._e(),t._v(" "),t.mangaInfo.categories&&t.mangaInfo.categories.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Жанры")]),t._v(" "),t._l(t.mangaInfo.categories,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/manga-list?includeGenres[]="+e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2):t._e(),t._v(" "),t.mangaInfo.tags&&t.mangaInfo.tags.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Теги")]),t._v(" "),t._l(t.mangaInfo.tags,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/manga-list?tags[]="+e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2):t._e()]),t._v(" "),t.mangaInfo.summary?n("div",{staticClass:"info-desc manga__desc"},[n("div",{staticClass:"info-desc__title"},[t._v("\n            Описание\n          ")]),t._v(" "),n("div",{staticClass:"info-desc__content",domProps:{innerHTML:t._s(t.mangaInfo.summary)}})]):t._e()]),t._v(" "),n("div",{staticClass:"manga-preview__footer"},[n("a",{staticClass:"manga-preview__action",attrs:{href:"/"+t.mangaInfo.slug}},[t._v("Подробнее")]),t._v(" "),n("div",{staticClass:"manga-preview__action modal__close",attrs:{"data-close-modal":""}},[n("svg",{staticClass:"modal__close-icon"},[n("use",{attrs:{"xlink:href":"#icon-close"}})])]),t._v(" "),t.mangaInfo.first_chapter?n("a",{staticClass:"manga-preview__action text-truncate",attrs:{href:t.chapterLink}},[t._v("\n          "+t._s(t.chapterLinkText)+"\n        ")]):n("span",{staticClass:"manga-preview__action"},[t._v("Еще нет глав")])])])]):n("div",{staticClass:"loader-circle"})])},staticRenderFns:[]}},"f1+4":function(t,e,n){var r=n("5+O3");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},f3bp:function(t,e,n){"use strict";(function(t){var r=n("i3rX"),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t){return Array.isArray(t)}function f(t){return void 0===t}function d(t){return"object"===i(t)}function h(t){return"object"===i(t)&&null!==t}function p(t){return"function"==typeof t}var v=(function(){try{return!f(window)}catch(t){return!1}}()?window:t).console||{};function m(t){v&&v.warn&&v.warn(t)}var g=function(){return m("This vue app/component has no vue-meta configuration")},b={title:void 0,titleChunk:"",titleTemplate:"%s",htmlAttrs:{},bodyAttrs:{},headAttrs:{},base:[],link:[],meta:[],style:[],script:[],noscript:[],__dangerouslyDisableSanitizers:[],__dangerouslyDisableSanitizersByTagID:{}},y="_vueMeta",_={keyName:"metaInfo",attribute:"data-vue-meta",ssrAttribute:"data-vue-meta-server-rendered",tagIDKeyName:"vmid",contentKeyName:"content",metaTemplateKeyName:"template",waitOnDestroyed:!0,debounceWait:10,ssrAppId:"ssr"},O=Object.keys(b),w=[O[12],O[13]],k=[O[1],O[2],"changed"].concat(w),j=[O[3],O[4],O[5]],x=["link","style","script"],C=["base","meta","link"],E=["noscript","script","style"],S=["innerHTML","cssText","json"],T=["once","template"],A=["body","pbody"],P=["allowfullscreen","amp","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","truespeed","typemustmatch","visible"],N=null;function I(t,e,n){var r=t.debounceWait;e[y].initialized||!e[y].initializing&&"watcher"!==n||(e[y].initialized=null),e[y].initialized&&!e[y].pausing&&function(t,e){if(!(e=void 0===e?10:e))return void t();clearTimeout(N),N=setTimeout(function(){t()},e)}(function(){e.$meta().refresh()},r)}function M(t,e,n){if(!Array.prototype.findIndex){for(var r=0;r<t.length;r++)if(e.call(n,t[r],r,t))return r;return-1}return t.findIndex(e,n)}function L(t){return Array.from?Array.from(t):Array.prototype.slice.call(t)}function D(t,e){if(!Array.prototype.includes){for(var n in t)if(t[n]===e)return!0;return!1}return t.includes(e)}function R(t,e){return e&&d(t)?(l(t[e])||(t[e]=[]),t):l(t)?t:[]}function q(t,e,n){R(t,e),t[e].push(n)}function B(t){return(t=t||this)&&(!0===t[y]||d(t[y]))}function F(t,e){return t[y].pausing=!0,function(){return U(t,e)}}function U(t,e){if(t[y].pausing=!1,e||void 0===e)return t.$meta().refresh()}function z(t){var e=t.$router;!t[y].navGuards&&e&&(t[y].navGuards=!0,e.beforeEach(function(e,n,r){F(t),r()}),e.afterEach(function(){t.$nextTick(function(){var e=U(t).metaInfo;e&&p(e.afterNavigation)&&e.afterNavigation(e)})}))}var H=1;function $(t,e){var n=["activated","deactivated","beforeMount"];return{beforeCreate:function(){var r=this.$root,o=this.$options,i=t.config.devtools;if(Object.defineProperty(this,"_hasMetaInfo",{configurable:!0,get:function(){return i&&!r[y].deprecationWarningShown&&(m("VueMeta DeprecationWarning: _hasMetaInfo has been deprecated and will be removed in a future version. Please use hasMetaInfo(vm) instead"),r[y].deprecationWarningShown=!0),B(this)}}),!f(o[e.keyName])&&null!==o[e.keyName]){if(r[y]||(r[y]={appId:H},H++,i&&r.$options[e.keyName]&&this.$nextTick(function(){var t=function(t,e,n){if(Array.prototype.find)return t.find(e,n);for(var r=0;r<t.length;r++)if(e.call(n,t[r],r,t))return t[r]}(r.$children,function(t){return t.$vnode&&t.$vnode.fnOptions});t&&t.$vnode.fnOptions[e.keyName]&&m("VueMeta has detected a possible global mixin which adds a ".concat(e.keyName," property to all Vue components on the page. This could cause severe performance issues. If possible, use $meta().addApp to add meta information instead"))})),!this[y]){this[y]=!0;for(var a=this.$parent;a&&a!==r;)f(a[y])&&(a[y]=!1),a=a.$parent}p(o[e.keyName])&&(o.computed=o.computed||{},o.computed.$metaInfo=o[e.keyName],this.$isServer||q(o,"created",function(){this.$watch("$metaInfo",function(){I(e,this.$root,"watcher")})})),f(r[y].initialized)&&(r[y].initialized=this.$isServer,r[y].initialized||(r[y].initializedSsr||(r[y].initializedSsr=!0,q(o,"beforeMount",function(){this.$el&&1===this.$el.nodeType&&this.$el.hasAttribute("data-server-rendered")&&(this[y].appId=e.ssrAppId)})),q(o,"mounted",function(){var t=this.$root;t[y].initialized||(t[y].initializing=!0,this.$nextTick(function(){var n=t.$meta().refresh(),r=n.tags,o=n.metaInfo;!1===r&&null===t[y].initialized&&this.$nextTick(function(){return I(e,t,"init")}),t[y].initialized=!0,delete t[y].initializing,!e.refreshOnceOnNavigation&&o.afterNavigation&&z(t)}))}),e.refreshOnceOnNavigation&&z(r))),this.$isServer||n.forEach(function(t){q(o,t,function(){I(e,this.$root,t)})})}},destroyed:function(){var t=this;this.$parent&&B(this)&&(delete this._hasMetaInfo,this.$nextTick(function(){if(e.waitOnDestroyed&&t.$el&&t.$el.offsetParent)var n=setInterval(function(){t.$el&&null!==t.$el.offsetParent||(clearInterval(n),I(e,t.$root,"destroyed"))},50);else I(e,t.$root,"destroyed")}))}}}function W(t){return{keyName:(t=d(t)?t:{}).keyName||_.keyName,attribute:t.attribute||_.attribute,ssrAttribute:t.ssrAttribute||_.ssrAttribute,tagIDKeyName:t.tagIDKeyName||_.tagIDKeyName,contentKeyName:t.contentKeyName||_.contentKeyName,metaTemplateKeyName:t.metaTemplateKeyName||_.metaTemplateKeyName,debounceWait:f(t.debounceWait)?_.debounceWait:t.debounceWait,waitOnDestroyed:f(t.waitOnDestroyed)?_.waitOnDestroyed:t.waitOnDestroyed,ssrAppId:t.ssrAppId||_.ssrAppId,refreshOnceOnNavigation:!!t.refreshOnceOnNavigation}}var G=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&#x27;"]],Y=[[/&/g,"&"],[/</g,"<"],[/>/g,">"],[/"/g,'"'],[/'/g,"'"]];function V(t,e,n){n=n||[];var r={doEscape:function(t){return n.reduce(function(t,e){return t.replace(e[0],e[1])},t)}};return w.forEach(function(t,n){if(0===n)R(e,t);else if(1===n)for(var o in e[t])R(e[t],o);r[t]=e[t]}),function t(e,n,r,o){var i=n.tagIDKeyName,a=r.doEscape,s=void 0===a?function(t){return t}:a,c={};for(var u in e){var f=e[u];if(D(k,u))c[u]=f;else{var d=w[0];if(r[d]&&D(r[d],u))c[u]=f;else{var p=e[i];if(p&&(d=w[1],r[d]&&r[d][p]&&D(r[d][p],u)))c[u]=f;else if("string"==typeof f?c[u]=s(f):l(f)?c[u]=f.map(function(e){return h(e)?t(e,n,r,!0):s(e)}):h(f)?c[u]=t(f,n,r,!0):c[u]=f,o){var v=s(u);u!==v&&(c[v]=c[u],delete c[u])}}}}return c}(e,t,r)}function K(t,e,n,r){var o=t.component,i=t.metaTemplateKeyName,a=t.contentKeyName;return!0!==n&&!0!==e[i]&&(f(n)&&e[i]&&(n=e[i],e[i]=!0),n?(f(r)&&(r=e[a]),e[a]=p(n)?n.call(o,r):n.replace(/%s/g,r),!0):(delete e[i],!1))}var Z=!1;function J(t,e,n){return n=n||{},void 0===e.title&&delete e.title,j.forEach(function(t){if(e[t])for(var n in e[t])n in e[t]&&void 0===e[t][n]&&(D(P,n)&&!Z&&(m("VueMeta: Please note that since v2 the value undefined is not used to indicate boolean attributes anymore, see migration guide for details"),Z=!0),delete e[t][n])}),o()(t,e,{arrayMerge:function(t,e){return o=t,i=e,a=(r=n).component,s=r.tagIDKeyName,c=r.metaTemplateKeyName,u=r.contentKeyName,l=[],o.length||i.length?(o.forEach(function(t,e){if(t[s]){var n=M(i,function(e){return e[s]===t[s]}),r=i[n];if(-1!==n){if(u in r&&void 0===r[u]||"innerHTML"in r&&void 0===r.innerHTML)return l.push(t),void i.splice(n,1);if(null!==r[u]&&null!==r.innerHTML){var o=t[c];if(o){if(!r[c])return K({component:a,metaTemplateKeyName:c,contentKeyName:u},r,o),void(r.template=!0);r[u]||K({component:a,metaTemplateKeyName:c,contentKeyName:u},r,void 0,t[u])}}else i.splice(n,1)}else l.push(t)}else l.push(t)}),l.concat(i)):l;var r,o,i,a,s,c,u,l}})}function X(t,e){return function t(e,n,r){r=r||{};if(n._inactive)return r;e=e||{};var o=e,i=o.keyName;var a=n.$metaInfo,s=n.$options,c=n.$children;if(s[i]){var u=a||s[i];d(u)&&(r=J(r,u,e))}c.length&&c.forEach(function(n){(function(t){return(t=t||this)&&!f(t[y])})(n)&&(r=t(e,n,r))});return r}(t||{},e,b)}var Q=function(t,e){return(e||document).querySelectorAll(t)};function tt(t,e){return t[e]||(t[e]=document.getElementsByTagName(e)[0]),t[e]}function et(t,e,n){var r=e.appId,o=e.attribute,i=e.type,a=e.tagIDKeyName;n=n||{};var s=["".concat(i,"[").concat(o,'="').concat(r,'"]'),"".concat(i,"[data-").concat(a,"]")].map(function(t){for(var e in n){var r=n[e],o=r&&!0!==r?'="'.concat(r,'"'):"";t+="[data-".concat(e).concat(o,"]")}return t});return L(Q(s.join(", "),t))}function nt(t,e){t.removeAttribute(e)}var rt=[];function ot(t,e,n,r){var o=t.tagIDKeyName,i=!1;return n.forEach(function(t){t[o]&&t.callback&&(i=!0,function(t,e){1===arguments.length&&(e=t,t=""),rt.push([t,e])}("".concat(e,"[data-").concat(o,'="').concat(t[o],'"]'),t.callback))}),r&&i?it():i}function it(){var t;"complete"!==(t||document).readyState?document.onreadystatechange=function(){at()}:at()}function at(t){rt.forEach(function(e){var n=e[0],r=e[1],o="".concat(n,'[onload="this.__vm_l=1"]'),i=[];t||(i=L(Q(o))),t&&t.matches(o)&&(i=[t]),i.forEach(function(t){if(!t.__vm_cb){var e=function(){t.__vm_cb=!0,nt(t,"onload"),r(t)};t.__vm_l?e():t.__vm_ev||(t.__vm_ev=!0,t.addEventListener("load",e))}})})}var st,ct={};function ut(t,e,n,r,o){var i=(e||{}).attribute,a=o.getAttribute(i);a&&(ct[n]=JSON.parse(decodeURI(a)),nt(o,i));var s=ct[n]||{},c=[];for(var u in s)s[u]&&t in s[u]&&(c.push(u),r[u]||delete s[u][t]);for(var l in r){var f=s[l];f&&f[t]===r[l]||(c.push(l),r[l]&&(s[l]=s[l]||{},s[l][t]=r[l]))}for(var d=0,h=c;d<h.length;d++){var p=h[d],v=s[p],m=[];for(var g in v)Array.prototype.push.apply(m,[].concat(v[g]));if(m.length){var b=D(P,p)&&m.some(Boolean)?"":m.filter(Boolean).join(" ");o.setAttribute(p,b)}else nt(o,p)}ct[n]=s}function lt(t,e,n,r,o,i){var a=e||{},s=a.attribute,c=a.tagIDKeyName,u=A.slice();u.push(c);var l=[],f={appId:t,attribute:s,type:n,tagIDKeyName:c},d={head:et(o,f),pbody:et(i,f,{pbody:!0}),body:et(i,f,{body:!0})};if(r.length>1){var h=[];r=r.filter(function(t){var e=JSON.stringify(t),n=!D(h,e);return h.push(e),n})}r.forEach(function(e){if(!e.skip){var r=document.createElement(n);r.setAttribute(s,t),Object.keys(e).forEach(function(t){if(!D(T,t))if("innerHTML"!==t)if("json"!==t)if("cssText"!==t)if("callback"!==t){var n=D(u,t)?"data-".concat(t):t,o=D(P,t);if(!o||e[t]){var i=o?"":e[t];r.setAttribute(n,i)}}else r.onload=function(){return e[t](r)};else r.styleSheet?r.styleSheet.cssText=e.cssText:r.appendChild(document.createTextNode(e.cssText));else r.innerHTML=JSON.stringify(e.json);else r.innerHTML=e.innerHTML});var o,i,a,c,f=d[(o=e,i=o.body,a=o.pbody,i?"body":a?"pbody":"head")];f.some(function(t,e){return c=e,r.isEqualNode(t)})&&(c||0===c)?f.splice(c,1):l.push(r)}});var p=[];for(var v in d)Array.prototype.push.apply(p,d[v]);return p.forEach(function(t){t.parentNode.removeChild(t)}),l.forEach(function(t){t.hasAttribute("data-body")?i.appendChild(t):t.hasAttribute("data-pbody")?i.insertBefore(t,i.firstChild):o.appendChild(t)}),{oldTags:p,newTags:l}}function ft(t,e,n){var r=e=e||{},o=r.ssrAttribute,i=r.ssrAppId,a={},s=tt(a,"html");if(t===i&&s.hasAttribute(o)){nt(s,o);var c=!1;return x.forEach(function(t){n[t]&&ot(e,t,n[t])&&(c=!0)}),c&&it(),!1}var u,f={},d={};for(var h in n)if(!D(k,h))if("title"!==h){if(D(j,h)){var p=h.substr(0,4);ut(t,e,h,n[h],tt(a,p))}else if(l(n[h])){var v=lt(t,e,h,n[h],tt(a,"head"),tt(a,"body")),m=v.oldTags,g=v.newTags;g.length&&(f[h]=g,d[h]=m)}}else((u=n.title)||""===u)&&(document.title=u);return{tagsAdded:f,tagsRemoved:d}}function dt(t,e,n){return{set:function(r){return function(t,e,n,r){if(t&&t.$el)return ft(e,n,r);(st=st||{})[e]=r}(t,e,n,r)},remove:function(){return function(t,e,n){if(t&&t.$el){var r={},o=!0,i=!1,a=void 0;try{for(var s,c=j[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,l=u.substr(0,4);ut(e,n,u,{},tt(r,l))}}catch(t){i=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return function(t,e){var n=t.attribute;L(Q("[".concat(n,'="').concat(e,'"]'))).map(function(t){return t.remove()})}(n,e)}st[e]&&(delete st[e],pt())}(t,e,n)}}}function ht(){return st}function pt(t){!t&&Object.keys(st).length||(st=void 0)}function vt(t,e,n,r){t=t||{},n=n||[];var o=t.tagIDKeyName;return e.title&&(e.titleChunk=e.title),e.titleTemplate&&"%s"!==e.titleTemplate&&K({component:r,contentKeyName:"title"},e,e.titleTemplate,e.titleChunk||""),e.base&&(e.base=Object.keys(e.base).length?[e.base]:[]),e.meta&&(e.meta=e.meta.filter(function(t,e,n){return!t[o]||e===M(n,function(e){return e[o]===t[o]})}),e.meta.forEach(function(e){return K(t,e)})),V(t,e,n)}function mt(t,e,n,r){var o=t||{},i=o.ssrAppId,a=o.attribute,s=o.tagIDKeyName,c=r||{},l=c.appId,f=c.body,d=void 0!==f&&f,h=c.pbody,p=void 0!==h&&h,v=c.ln,m=void 0!==v&&v,g=[s].concat(u(A));return n&&n.length?n.reduce(function(t,n){if(n.skip)return t;if(0===Object.keys(n).length)return t;if(Boolean(n.body)!==d||Boolean(n.pbody)!==p)return t;var r=n.once?"":" ".concat(a,'="').concat(l||i,'"');for(var o in n)if(!S.includes(o)&&!T.includes(o))if("callback"!==o){var s="";g.includes(o)&&(s="data-");var c=!s&&P.includes(o);c&&!n[o]||(r+=" ".concat(s).concat(o)+(c?"":'="'.concat(n[o],'"')))}else r+=' onload="this.__vm_l=1"';var u="";n.json&&(u=JSON.stringify(n.json));var f=n.innerHTML||n.cssText||u,h=!C.includes(e),v=h&&E.includes(e);return"".concat(t,"<").concat(e).concat(r).concat(!v&&h?"/":"",">")+(v?"".concat(f,"</").concat(e,">"):"")+(m?"\n":"")},""):""}function gt(t,e){var n={data:e,extraData:void 0,addInfo:function(t,e){this.extraData=this.extraData||{},this.extraData[t]=e},callInjectors:function(t){var e=this.injectors;return(t.body||t.pbody?"":e.title.text(t))+e.meta.text(t)+e.link.text(t)+e.style.text(t)+e.script.text(t)+e.noscript.text(t)},injectors:{head:function(t){return n.callInjectors({ln:t})},bodyPrepend:function(t){return n.callInjectors({ln:t,pbody:!0})},bodyAppend:function(t){return n.callInjectors({ln:t,body:!0})}}},r=function(e){if(k.includes(e))return"continue";n.injectors[e]={text:function(r){if("title"===e)return function(t,e,n,r){var o=(r||{}).ln;return n?"<".concat(e,">").concat(n,"</").concat(e,">").concat(o?"\n":""):""}(0,e,n.data[e],r);if(j.includes(e)){var o={},i=n.data[e];if(i)for(var s in i)o[s]=a({},t.ssrAppId,i[s]);if(n.extraData)for(var l in n.extraData){var f=n.extraData[l][e];if(f)for(var d in f)o[d]=c({},o[d],a({},l,f[d]))}return function(t,e,n,r){var o=t||{},i=o.attribute,a=o.ssrAttribute,s="";for(var c in n){var l=n[c],f=[];for(var d in l)f.push.apply(f,u([].concat(l[d])));f.length&&(s+=P.includes(c)&&f.some(Boolean)?"".concat(c):"".concat(c,'="').concat(f.join(" "),'"'),s+=" ")}return s&&(s+="".concat(i,'="').concat(encodeURI(JSON.stringify(n)),'"')),"htmlAttrs"===e&&r?"".concat(a).concat(s?" ":"").concat(s):s}(t,e,o,r)}var h=mt(t,e,n.data[e],r);if(n.extraData)for(var p in n.extraData){var v=n.extraData[p][e],m=mt(t,e,v,c({appId:p},r));h="".concat(h).concat(m)}return h}}};for(var o in b)r(o);return n}function bt(t){t=t||{};var e=this.$root;return{getOptions:function(){return function(t){var e={};for(var n in t)e[n]=t[n];return e}(t)},setOptions:function(n){n&&n.refreshOnceOnNavigation&&(t.refreshOnceOnNavigation=!!n.refreshOnceOnNavigation,z(e));if(n&&"debounceWait"in n){var r=parseInt(n.debounceWait);isNaN(r)||(t.debounceWait=r)}n&&"waitOnDestroyed"in n&&(t.waitOnDestroyed=!!n.waitOnDestroyed)},refresh:function(){return function(t,e){if(e=e||{},!t[y])return g(),{};var n=vt(e,X(e,t),Y,t),r=ft(t[y].appId,e,n);r&&p(n.changed)&&(n.changed(n,r.tagsAdded,r.tagsRemoved),r={addedTags:r.tagsAdded,removedTags:r.tagsRemoved});var o=ht();if(o){for(var i in o)ft(i,e,o[i]),delete o[i];pt(!0)}return{vm:t,metaInfo:n,tags:r}}(e,t)},inject:function(){return function(t,e){if(!t[y])return g(),{};var n=gt(e,vt(e,X(e,t),G,t)),r=ht();if(r){for(var o in r)n.addInfo(o,r[o]),delete r[o];pt(!0)}return n.injectors}(e,t)},pause:function(){return F(e)},resume:function(){return U(e)},addApp:function(n){return dt(e,n,t)}}}var yt={version:"2.3.2",install:function(t,e){t.__vuemeta_installed||(t.__vuemeta_installed=!0,e=W(e),t.prototype.$meta=function(){return bt.call(this,e)},t.mixin($(t,e)))},generate:function(t,e){return function(t,e){return gt(e=W(e),vt(e,t,G)).injectors}(t,e)},hasMetaInfo:B};e.a=yt}).call(e,n("DuR2"))},f6yZ:function(t,e,n){"use strict";e.a={ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,ENTER:13,ESC:27,TAB:9}},f931:function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},f9UU:function(t,e,n){var r=n("i9tX"),o=n("65ot");r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},fAhN:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-folder-edit__item",class:{"bookmark-folder-edit__item_editing":t.editing}},[n("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.folder.name,expression:"folder.name",modifiers:{trim:!0,lazy:!0}}],ref:"input",staticClass:"bookmark-folder-edit__input form__input",attrs:{type:"text"},domProps:{value:t.folder.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save(e)},focus:function(e){return t.edit(!0)},blur:[function(e){return t.edit(!1)},function(e){return t.$forceUpdate()}],change:function(e){t.$set(t.folder,"name",e.target.value.trim())}}}),t._v(" "),n("div",{staticClass:"bookmark-folder-edit__icons"},[n("div",{staticClass:"bookmark-folder-edit__icon bookmark-folder-edit__icon_remove",class:{"button_loading-inv":t.loading,tooltip:!t.loading},attrs:{"aria-label":"Удалить","data-place":"top-end"},on:{click:t.remove}},[n("i",{staticClass:"fa fa-trash"})]),t._v(" "),n("div",{staticClass:"bookmark-folder-edit__icon bookmark-folder-edit__icon_cancel",class:{"button_loading-inv":t.loading,tooltip:!t.loading},attrs:{"aria-label":"Сохранить","data-place":"top-end"},on:{mousedown:function(t){t.preventDefault()},click:t.save}},[n("i",{staticClass:"fa fa-save"})])])])},staticRenderFns:[]}},fEBT:function(t,e,n){var r=n("VU/8")(n("ydQE"),n("vAtx"),!1,null,null,null);t.exports=r.exports},fJbB:function(t,e){},fK0A:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"d",function(){return o}),n.d(e,"a",function(){return i}),e.c=a,e.b=function(t,e){if(a(t)&&a(e)){var n=new Date,r=s(t),o=s(e);return r>n&&r.setDate(r.getDate()-1),r>o&&o.setDate(o.getDate()+1),n>=r&&n<=o}return!1},e.e=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=document.documentElement,n=document.head.querySelector('[name="theme-color"]');t?(e.setAttribute("data-mode","dark"),n.setAttribute("content","#242424")):(e.removeAttribute("data-mode"),n.setAttribute("content",window._SITE_COLOR_||"#e48f13"))};var o={theme:"dark"},i={enabled:!1,autoEnable:!1,time:{from:"00:00",to:"00:00"}};function a(t){return/\d{2}:\d{2}/.test(t)}function s(t){var e=r(t.split(":"),2),n=e[0],o=e[1],i=new Date;return i.setHours(n),i.setMinutes(o),i}},fMqj:function(t,e,n){var r=n("zGZ6"),o=500;t.exports=function(t){var e=r(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}},fSCB:function(t,e,n){var r=n("VU/8")(n("hqZ6"),n("U/9O"),!1,null,null,null);t.exports=r.exports},fTzd:function(t,e){e.f=Object.getOwnPropertySymbols},fkET:function(t,e,n){var r=n("r54x"),o=n("raVe"),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},gAt4:function(t,e,n){var r=n("xA5w"),o=n("nizW"),i=n("NKE6");t.exports=function(t,e){var n=r(t),a=r(e),s=i(n,a),c=Math.abs(o(n,a));return n.setDate(n.getDate()-s*c),s*(c-(i(n,a)===-s))}},"gF/f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Jaym");function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.default={model:{prop:"model",event:"change"},props:{model:[String,Boolean,Number,Object,Array],value:[String,Boolean,Number,Object],large:Boolean,label:String,disabled:{type:Boolean,default:!1},trueValue:{type:[Boolean,Number,String],default:!0},falseValue:{type:Boolean,default:!1}},computed:{isModelArray:function(){return Array.isArray(this.model)},isChecked:function(){var t=this;return this.isModelArray?null!==Object(r.d)(this.model,function(e){return e==t.value}):this.model==this.trueValue}},methods:{handleArrayCheckbox:function(){var t=this,e=o(this.model);if(this.isChecked){var n=Object(r.e)(e,function(e){return e==t.value});-1!==n&&e.splice(n,1)}else e.push(this.value);this.$emit("change",e)},onChange:function(){this.disabled||(this.isModelArray?this.handleArrayCheckbox():this.$emit("change",this.isChecked?this.falseValue:this.trueValue))}}}},gGqR:function(t,e,n){var r=n("aCM0"),o=n("yCNF"),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==c}},gHOb:function(t,e,n){var r=n("d4US"),o=n("POb3"),i=n("bO0Y"),a=n("5N57"),s=n("bIbi"),c=n("aCM0"),u=n("Ai/T"),l=u(r),f=u(o),d=u(i),h=u(a),p=u(s),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},gLsf:function(t,e,n){var r=n("AMIE"),o=n("YveC").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},gado:function(t,e,n){var r=n("jAiL"),o=n("eZ0g"),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},ggOT:function(t,e,n){(function(t){var r=n("TQ3y"),o=n("gwcX"),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;t.exports=c}).call(e,n("3IRH")(t))},gjYr:function(t,e,n){var r=n("VU/8")(n("1H03"),n("d42z"),!1,null,null,null);t.exports=r.exports},gmAb:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return c});var r=n("u5FJ"),o=n("Jaym"),i=function(t,e){return e.split(".").reduce(function(t,e){return t[e]},t)},a=function(t){var e=Object(r.l)(".comments .shifted");e&&e!==t&&(e.style.marginLeft="",r.g.remove(e,"shifted"))},s=function(t){if(t){var e=Object(r.i)(t).left,n=Object(r.i)(Object(r.l)(".comments")).left;if(r.g.has(t,"shifted"))return a();t.style.marginLeft="-".concat(e-n,"px"),r.g.add(t,"shifted")}},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(o.p)(t)&&(t=Object(r.l)(t)),t){if(t.closest(".comment__children.hidden"))for(var n=t.closest(".comment__children.hidden");n;)r.g.remove(n,"hidden"),n=n.closest(".comment__children.hidden");var i,a,s=(i=t,a=Object(r.l)(".header"),Object(r.i)(i).top-(a?a.offsetHeight+10:10)),c=e.highlight,u=void 0===c||c,l=e.preventScrollIfVisible;u&&(r.g.add(t,"comment_highlight"),Object(r.d)("#".concat(t.id," > .comment__body"),"mouseenter",function(){r.g.remove(t,"comment_highlight")}));var f=s-pageYOffset;l&&f>0||window.scroll(0,s)}}},gpZ8:function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},gqne:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section paper"},[n("div",{staticClass:"section__header section__header_tabs"},[n("strong",{staticClass:"section__header-title"},[t._v("Комментарии")]),t._v(" "),n("ul",{directives:[{name:"magic-line",rawName:"v-magic-line"}],staticClass:"tabs__list"},t._l(t.orderOptions,function(e,r){return n("li",{key:r,staticClass:"tabs__item",class:{tabs__item_active:r===t.currentOrder},on:{click:function(e){return t.changeSort(r)}}},[n("span",[t._v(t._s(e))])])}),0)]),t._v(" "),n("div",{staticClass:"comments"},[n("comments-form",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.showPartials,expression:"!loading && !showPartials"}]}),t._v(" "),t.showPartials&&!t.loading?n("div",{staticClass:"comments__partial"},[n("div",{staticClass:"comments__partial-text"},[t._v("\n        Вы видите только часть дискуссии. "),n("span",{staticClass:"button_link",on:{click:function(e){return t.$emit("show-all-comments")}}},[t._v("Показать всё.")])])]):t._e(),t._v(" "),n("div",{staticClass:"section__body"},[t.loading?n("div",{staticClass:"comment__loader"},[n("loader")],1):[t.comments.length?[t._l(t.comments,function(t){return n("comment",{key:t.id,attrs:{comment:t,"comment-level":0}})}),t._v(" "),t._t("footer-button"),t._v(" "),t.showPartials&&!t.loading?n("div",{staticClass:"comments__partial"},[n("div",{staticClass:"comments__partial-text"},[t._v("\n              Вы видите только часть дискуссии. "),n("span",{staticClass:"button_link",on:{click:function(e){return t.$emit("show-all-comments")}}},[t._v("Показать всё.")])])]):t._e()]:n("div",{staticClass:"comment__empty empty"},[t._v("\n          Нет ни одного комментария\n        ")])]],2)],1)])},staticRenderFns:[]}},gwcX:function(t,e){t.exports=function(){return!1}},h5cE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("IDmg"),o=n("5oa4"),i=n.n(o),a=n("KZyg"),s=n.n(a),c=n("tuWI"),u=n.n(c),l=n("u5FJ"),f=n("Jaym"),d=n("gmAb"),h=n("OLx3");function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.default={components:{Comment:i.a,CommentsForm:s.a,Loader:u.a},props:{currentOrder:String,loading:Boolean,showPartials:Boolean},data:function(){return{orderOptions:{latest:"Новые",oldest:"Старые",best:"Популярные"}}},computed:{comments:function(){return h.a.comments},auth:function(){return h.a.auth}},mounted:function(){Object(l.a)(this.$el,"click",".comment__user-reply",function(t,e){t.preventDefault();var n=e.closest(".comment__children");Object(d.b)(n.parentNode)}),Object(r.default)(".comments",{content:function(){return document.createElement("div")},target:"[data-vote]",theme:"light",animateFill:!1,arrow:!0,onShow:function(t){var e=t.reference,n=Object(l.l)(".tippy-content",t.popper),r=p(Object(l.f)(e,"data-vote").split("_"),2),o=r[0],i=r[1],a=Object(f.u)(o,"плюс","плюса","плюсов"),s=Object(f.u)(i,"минус","минуса","минусов");n.textContent="".concat(o," ").concat(a,", ").concat(i," ").concat(s)},onHidden:function(t){t.destroy()}})},methods:{changeSort:function(t){this.loading||this.currentOrder===t||(f.w.update("comments",{order:t}),this.$emit("sort-changed",t))}}}},hAM4:function(t,e,n){var r;r=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(i=t)&&i.document&&function(t){return 9===t.nodeType}(i.document)?(n=(e=t).document,r=n.body,o=n.documentElement,{scrollHeight:function(){return Math.max(r.scrollHeight,o.scrollHeight,r.offsetHeight,o.offsetHeight,r.clientHeight,o.clientHeight)},height:function(){return e.innerHeight||o.clientHeight||r.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(o||r.parentNode||r).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,r,o,i}function n(t,n,r){var o,i=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),a=!1,s=e(t),c=s.scrollY(),u={};function l(){var t=Math.round(s.scrollY()),e=s.height(),o=s.scrollHeight();u.scrollY=t,u.lastScrollY=c,u.direction=t>c?"down":"up",u.distance=Math.abs(t-c),u.isOutOfBounds=t<0||t+e>o,u.top=t<=n.offset,u.bottom=t+e>=o,u.toleranceExceeded=u.distance>n.tolerance[u.direction],r(u),c=t,a=!1}function f(){a||(a=!0,o=requestAnimationFrame(l))}var d=!!i&&{passive:!0,capture:!1};return t.addEventListener("scroll",f,d),{destroy:function(){cancelAnimationFrame(o),t.removeEventListener("scroll",f,d)}}}function r(t,e){var n;e=e||{},Object.assign(this,r.options,e),this.classes=Object.assign({},r.options.classes,e.classes),this.elem=t,this.tolerance=(n=this.tolerance)===Object(n)?n:{down:n,up:n},this.initialised=!1,this.frozen=!1}return r.prototype={constructor:r,init:function(){return r.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add(this.classes[t])},removeClass:function(t){this.elem.classList.remove(this.classes[t])},hasClass:function(t){return this.elem.classList.contains(this.classes[t])},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},r.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},r.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),r},t.exports=r()},hGaF:function(t,e,n){var r=n("r54x"),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},hIPy:function(t,e,n){var r=n("NGEn"),o=n("6MiT"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},hK3Z:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+X65"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("arOy"),c=n.n(s),u=n("tuWI"),l=n.n(u),f=n("mj2r"),d=n("KO5a"),h=n("u5FJ"),p=n("fEBT"),v=n.n(p);function m(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,e){return t[e.status]||(t[e.status]=0),t[e.status]+=1,t.all+=1,t},{all:0})}var g=0;e.default={components:{Loader:l.a,Tabs:v.a},mixins:[f.a],data:function(){return{bookmarks:[],types:{},currentFolder:1,count:m([]),loading:!0,limit:30}},computed:{filteredBookmarks:function(){var t,e=this;return t="all"===this.currentFolder?this.bookmarks:this.bookmarks.filter(function(t){return t.status==e.currentFolder}),g=this.bookmarks.length,t.slice(0,Math.min(this.limit,g))},hasBookmarks:function(){return this.filteredBookmarks.length}},created:function(){var t=this,e=window.Laravel.user;this._onScroll=o()(this.onScroll.bind(this),200),Object(h.c)(window,"scroll",this._onScroll),a.a.get("/bookmark/public?user=".concat(e)).then(function(e){var n=e.data;t.bookmarks=n.bookmarks,t.types=n.types,t.loading=!1,t.count=m(n.bookmarks),t.$nextTick(t.initLazy)})},mounted:function(){Object(d.b)(".media-cards-grid")},updated:function(){this.getListBottomPos(),this._lazyImg&&this._lazyImg.update()},methods:{initLazy:function(){this._lazyImg=new c.a({threshold:0,elements_selector:".media-card"})},changeTab:function(t){Object(d.a)(this.$refs.list),this._lazyImg.destroy(),this._lazyImg=null,this.currentFolder=t,this.limit=30,this.$nextTick(this.initLazy)},onScroll:function(){this.limit>=g||pageYOffset+innerHeight>this.listPosBot&&(this.limit+=30)},getListBottomPos:function(){this.listPosBot=Object(h.i)(this.$refs.list).bottom-innerHeight/2}}}},hKoQ:function(t,e,n){(function(e,n){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,s=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(a?a(v):_())};var c="undefined"!=typeof window?window:void 0,u=c||{},l=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var m,g,b,y,_=void 0;function O(t,e){var n=this,r=new this.constructor(j);void 0===r[k]&&R(r);var o=n._state;if(o){var i=arguments[o-1];s(function(){return L(o,r,i,n._result)})}else I(n,r,t,e);return r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(j);return T(e,t),e}f?_=function(){return e.nextTick(v)}:l?(g=0,b=new l(v),y=document.createTextNode(""),b.observe(y,{characterData:!0}),_=function(){y.data=g=++g%2}):d?((m=new MessageChannel).port1.onmessage=v,_=function(){return m.port2.postMessage(0)}):_=void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:h()}catch(t){return h()}}():h();var k=Math.random().toString(36).substring(2);function j(){}var x=void 0,C=1,E=2;function S(e,n,r){n.constructor===e.constructor&&r===O&&n.constructor.resolve===w?function(t,e){e._state===C?P(t,e._result):e._state===E?N(t,e._result):I(e,void 0,function(e){return T(t,e)},function(e){return N(t,e)})}(e,n):void 0===r?P(e,n):t(r)?function(t,e,n){s(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?T(t,n):P(t,n))},function(e){r||(r=!0,N(t,e))},t._label);!r&&o&&(r=!0,N(t,o))},t)}(e,n,r):P(e,n)}function T(t,e){if(t===e)N(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)P(t,e);else{var n=void 0;try{n=e.then}catch(e){return void N(t,e)}S(t,e,n)}var r,o}function A(t){t._onerror&&t._onerror(t._result),M(t)}function P(t,e){t._state===x&&(t._result=e,t._state=C,0!==t._subscribers.length&&s(M,t))}function N(t,e){t._state===x&&(t._state=E,t._result=e,s(A,t))}function I(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+C]=n,o[i+E]=r,0===i&&t._state&&s(M,t)}function M(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?L(n,r,o,i):o(i);t._subscribers.length=0}}function L(e,n,r,o){var i=t(r),a=void 0,s=void 0,c=!0;if(i){try{a=r(o)}catch(t){c=!1,s=t}if(n===a)return void N(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;n._state!==x||(i&&c?T(n,a):!1===c?N(n,s):e===C?P(n,a):e===E&&N(n,a))}var D=0;function R(t){t[k]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var q=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(j),this.promise[k]||R(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&P(this.promise,this._result))):N(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===x&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===w){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(t){a=!0,i=t}if(o===O&&t._state!==x)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===B){var s=new n(j);a?N(s,i):S(s,t,o),this._willSettleAt(s,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===x&&(this._remaining--,t===E?N(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;I(t,void 0,function(t){return n._settledAt(C,e,t)},function(t){return n._settledAt(E,e,t)})},t}();var B=function(){function e(t){this[k]=D++,this._result=this._state=void 0,this._subscribers=[],j!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){T(t,e)},function(e){N(t,e)})}catch(e){N(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return B.prototype.then=O,B.all=function(t){return new q(this,t).promise},B.race=function(t){var e=this;return r(t)?new e(function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},B.resolve=w,B.reject=function(t){var e=new this(j);return N(e,t),e},B._setScheduler=function(t){a=t},B._setAsap=function(t){s=t},B._asap=s,B.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=B},B.Promise=B,B},t.exports=r()}).call(e,n("W2nU"),n("DuR2"))},hP5B:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mtWM"),o=n.n(r),i=n("gAt4"),a=n.n(i),s=n("k+y2"),c=n.n(s),u=n("ryCm"),l=n.n(u),f=n("lelv"),d=n.n(f),h=n("u5FJ"),p=n("Jaym"),v=n("Ngrm"),m=n("oTFi"),g=n("mj2r"),b=n("gmAb"),y=n("OLx3"),_=n("8LNl");function O(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(t){var e,n,r=t.removeCommentId,i={commentIds:[r],forceDelete:t.forceDelete};t.removeChilds&&(e=function(t){var e=[];y.a.replies[t]&&function t(n){n.forEach(function(n){e.push({id:n.id,parent:n.parent_comment}),y.a.replies[n.id]&&t(y.a.replies[n.id])})}(y.a.replies[t]);return e}(r),(n=i.commentIds).push.apply(n,O(e.map(function(t){return t.id}))),i.forceDelete=!0);null!=t.reasonId&&(i.reasonId=t.reasonId);var a=o.a.delete("".concat(y.a.info.api),{data:i});return a.then(function(t){return t.data}).then(function(n){t.removeChilds&&function(t){t.forEach(function(t){var e=t.parent;y.a.replies[e]&&y.a.replies[e].length&&(y.a.replies[e]=[])})}(e);var o=function(t){return t.id===r},a=y.a.comments;if(t.parentComment&&(a=y.a.replies[t.parentComment]),i.forceDelete){var s=Object(p.e)(a,o);a.splice(s,1)}else{var c=Object(p.d)(a,o);c.deleted=1,c.comment=n.reason}v.a.confirm("Комментарий был удален"),p.b.emit("comments.commentDeleted",t),t.onSuccess&&t.onSuccess(n),t.onFinally&&t.onFinally()}).catch(function(e){console.error(e),v.a.alert("Произошла ошибка при удалении"),t.onError&&t.onError(e),t.onFinally&&t.onFinally()}),a}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={name:"Comment",components:{CommentReply:c.a,VDropdown:l.a,VDropdownMenu:d.a},mixins:[g.a],props:{comment:{type:Object,required:!0},reply:{type:Object,default:null},commentLevel:{type:Number,default:0}},data:function(){return{show:!0,disabled:!1,collapsed:!1,collapsible:!1,hideContent:!1}},computed:{votes:function(){return this.comment.votes_up-this.comment.votes_down},children:function(){return y.a.replies[this.comment.id]},hasChilds:function(){return this.children&&this.children.length},isDeleted:function(){return 0!==this.comment.deleted},hideActionBtn:function(){return!1===y.a.auth||this.showForm||!1},isCurrentUser:function(){return y.a.auth.id===this.comment.user_id},showDeleteBtn:function(){return!this.hideActionBtn&&(!!y.a.auth.access||!this.hasChilds&&!this.isDeleted&&!!this.isCurrentUser)},showEditBtn:function(){return!this.hideActionBtn&&!this.isDeleted&&(!!y.a.auth.access||!!this.isCurrentUser)},showForm:function(){return y.a.activeItem&&y.a.activeItem.id===this.comment.id},editing:function(){return this.showForm&&y.a.editing},isNewLine:function(){return this.commentLevel>0&&this.commentLevel%10==0}},created:function(){this.isNewLine&&(this.show=!1,this.$on("toggleCollapse",this.toggleCollapse)),this.votes<-6&&!this.isDeleted&&(this.hideContent=!0)},mounted:function(){this.$refs.content.scrollHeight>132&&(this.collapsed=this.collapsible=!0)},beforeDestroy:function(){this.isNewLine&&this.$off("toggleCollapse",this.toggleCollapse)},methods:{changeVote:function(t){var e,n=this,r=t.target,i=this.comment.id,a=this.comment.userVote;if(r.closest("[data-action]")){if(!y.a.auth)return v.a.alert("Вы не авторизованы");if(y.a.auth.id===this.comment.user_id)return v.a.alert("Нельзя изменить рейтинг собственного комментария");if(this.isDeleted)return v.a.alert("Нельзя изменить рейтинг удалённого комментария");var s="up"===(e=r.getAttribute("data-action"))?"votes_down":"votes_up";this.comment.userVote===e?(this.comment["votes_".concat(e)]-=1,this.comment.userVote=null):(null!=this.comment.userVote&&(this.comment[s]-=1),this.comment["votes_".concat(e)]+=1,this.comment.userVote=e),p.b.emit("comments.commentUpdated",this.comment),o.a.post("".concat(y.a.info.api,"/vote"),{voteType:e,commentId:i}).catch(function(){null!==n.comment.userVote&&(n.comment["votes_".concat(e)]-=1),a&&(n.comment["votes_".concat(a)]+=1),n.comment.userVote=a})}},toggleForm:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1===y.a.auth)return v.a.alert("Вы не авторизованы");if(!y.a.auth.access&&e){if(a()(Date.now(),this.comment.created_at)>1)return v.a.alert("Время редактирования истекло (1 день после публикации)");if(this.comment.votes_up>2||this.comment.votes_down>2)return v.a.alert("Нельзя редактировать оцененный комментарий")}y.a.editing=e,y.a.activeItem=this.showForm?null:this.comment,window.innerWidth<1e3&&this.commentLevel>1&&this.$nextTick(function(){var e=t.target.closest(".comment__body");Object(b.d)(e),Object(b.c)(e)})},reportComment:function(){if(!y.a.auth)return v.a.alert("Вы не автризованы");var t=Object(h.l)("#report-comment-id");t&&(t.value=this.comment.id),m.a.show("#report-comment")},deleteComment:function(){var t=this;if(this.showDeleteBtn&&!this.disabled){var e={removeCommentId:this.comment.id,parentComment:this.comment.parent_comment,forceDelete:!this.hasChilds};if(this.hasChilds&&!y.a.auth.access)return v.a.alert("Нельзя удалить комментарий, так как на него уже ответили");y.a.auth.access?_.a.show({data:e,onSubmit:w}):confirm("Удалить комментарий?")&&(this.disabled=!0,w(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){k(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({onFinally:function(){return t.disabled=!1}},e)))}},toggleCollapse:function(t){var e=t.currentTarget;if(this.show){var n=e.closest(".comment");this.$nextTick(function(){return Object(b.b)(n,{preventScrollIfVisible:!0,skip:!0,highlight:!1})})}this.show=!this.show}}}},hbAh:function(t,e,n){var r=n("bJWQ"),o=n("YDHx"),i=1,a=2;t.exports=function(t,e,n,s){var c=n.length,u=c,l=!s;if(null==t)return!u;for(t=Object(t);c--;){var f=n[c];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++c<u;){var d=(f=n[c])[0],h=t[d],p=f[1];if(l&&f[2]){if(void 0===h&&!(d in t))return!1}else{var v=new r;if(s)var m=s(h,p,d,t,e,v);if(!(void 0===m?o(p,h,i|a,s,v):m))return!1}}return!0}},hcE8:function(t,e,n){(function(e){var n="object",r=function(t){return t&&t.Math==Math&&t};t.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof e==n&&e)||Function("return this")()}).call(e,n("DuR2"))},hffE:function(t,e,n){"use strict";var r=n("whWw"),o=n("1rEs"),i=n("C1ru");t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},hiy0:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},hqZ6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("6Ikj"),o=n.n(r),i=n("1klX"),a=n.n(i),s=n("Jaym"),c=n("u5FJ"),u=n("1UPi"),l=350,f=285,d={HEIGHT:0,WIDTH:0},h={size:Object(u.c)("size"),start:{x:0,y:0}},p={data:function(){return{size:Object(u.c)("size")}},methods:{resizeStart:function(t){var e=this.getWrapRect(),n=e.top,r=e.left,o=h.start,i=h.size;o.x=t.clientX,o.y=t.clientY,d.HEIGHT=n+i.h,d.WIDTH=r+i.w,Object(c.c)(document,"mouseup",this.resizeEnd),Object(c.c)(document,"mousemove",this.resizeMove)},resizeMove:function(t){var e=h.start.x-t.clientX+h.size.w,n=h.start.y-t.clientY+h.size.h;this.size.w=Object(u.a)(e,f,d.WIDTH),this.size.h=Object(u.a)(n,l,d.HEIGHT)},resizeEnd:function(){h.size.w=this.size.w,h.size.h=this.size.h,s.w.update("chat",{size:h.size}),Object(c.b)(document,"mouseup",this.resizeEnd),Object(c.b)(document,"mousemove",this.resizeMove)}}},v={top:0,left:0,right:0,bottom:0},m={x:0,y:0},g={h:0,w:0},b={data:function(){return{pos:Object(u.c)("pos")}},watch:{"settings.unpinned":{immediate:!0,handler:function(t){t?this.setWindowSize():(this.pos=Object(u.d)("pos"),s.w.update("chat",{pos:this.pos}))}}},mounted:function(){Object(c.c)(window,"resize",this.onWindowResize)},beforeDestroy:function(){Object(c.b)(window,"resize",this.onWindowResize)},methods:{moveStart:function(t){if(this.isOpen&&this.settings.unpinned){var e=this.getWrapRect(),n=e.top,r=e.left;m.x=this.size.w-(t.clientX-r),m.y=this.size.h-(t.clientY-n),this.setWindowBorders(),Object(c.c)(document,"mousemove",this.moveHandler),Object(c.c)(document,"mouseup",this.moveEnd)}},moveHandler:function(t){var e=g.w-m.x-t.clientX,n=g.h-m.y-t.clientY;this.pos.bottom=Object(u.a)(n,v.bottom,v.top),this.pos.right=Object(u.a)(e,v.right,v.left)},moveEnd:function(){s.w.update("chat",{pos:this.pos}),Object(c.b)(document,"mousemove",this.moveHandler),Object(c.b)(document,"mouseup",this.moveEnd)},setWindowBorders:function(){v.top=g.h-this.size.h,v.left=g.w-this.size.w},setWindowSize:function(){var t=document.documentElement;g.w=t.clientWidth,g.h=t.clientHeight},onWindowResize:function(){this.setWindowSize(),this.setWindowBorders()}}};e.default={components:{Chat:o.a,ChatSettings:a.a},mixins:[p,b],inject:["settings"],props:{open:{type:Boolean,default:!1}},data:function(){return{isOpen:this.open||this.settings.alwaysOpen,showSettings:!1}},computed:{styles:function(){return this.isOpen?{width:"".concat(this.size.w,"px"),height:"".concat(this.size.h,"px"),right:"".concat(this.pos.right,"px"),bottom:"".concat(this.pos.bottom,"px")}:null}},methods:{toggleOpen:function(t){t&&this.isOpen||(this.isOpen=t,this.showSettings=!1)},togglePin:function(){this.settings.unpinned=!this.settings.unpinned},getWrapRect:function(){return this.$refs.wrap.getBoundingClientRect()}}}},hrPF:function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},"i1w/":function(t,e,n){var r=n("VU/8")(n("WpjT"),n("Sp3X"),!1,function(t){n("rcbO")},"data-v-06b9a6e0",null);t.exports=r.exports},i3rX:function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?l((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function a(t,e,n){return t.concat(e).map(function(t){return i(t,n)})}function s(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}(t))}function c(t,e){try{return e in t}catch(t){return!1}}function u(t,e,n){var r={};return n.isMergeableObject(t)&&s(t).forEach(function(e){r[e]=i(t[e],n)}),s(e).forEach(function(o){(function(t,e){return c(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(c(t,o)&&n.isMergeableObject(e[o])?r[o]=function(t,e){if(!e.customMerge)return l;var n=e.customMerge(t);return"function"==typeof n?n:l}(o,n)(t[o],e[o],n):r[o]=i(e[o],n))}),r}function l(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(e);return o===Array.isArray(t)?o?n.arrayMerge(t,e,n):u(t,e,n):i(e,n)}l.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return l(t,n,e)},{})};var f=l;t.exports=f},i4Cv:function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],i(n),i(r))}function a(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=a(n[0]);r!==n[0]&&(e[n[0]]=r)}n=o.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var c=i[s];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},i4ON:function(t,e,n){var r=n("nw3t"),o=n("22B7"),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},i9tX:function(t,e,n){var r=n("hcE8"),o=n("He3V").f,i=n("wkr2"),a=n("+opI"),s=n("C/Wh"),c=n("PYrI"),u=n("hGaF");t.exports=function(t,e){var n,l,f,d,h,p=t.target,v=t.global,m=t.stat;if(n=v?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in e){if(d=e[l],f=t.noTargetGet?(h=o(n,l))&&h.value:n[l],!u(v?l:p+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,t)}}},iL3P:function(t,e,n){var r=n("eG8/"),o=n("3Did"),i=n("hIPy"),a=n("Ubhr");t.exports=function(t){return i(t)?r(a(t)):o(t)}},iLhm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("BUAs"),a=n.n(i),s=n("I3G/"),c=n.n(s),u=n("+nGo"),l=n.n(u),f=n("M0Fu"),d=n("Jaym"),h=n("OLx3");function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var m={rootComments:[],replies:{}},g=Object(d.g)().page;e.default=c.a.extend({mixins:[f.a],data:function(){return{chapterPage:g||1,slicePage:1,sliceLimit:18,totalSlicesCount:0}},computed:{hasNextSlice:function(){return this.slicePage<this.totalSlicesCount}},created:function(){var t,e=(t=o.a.mark(function t(){var e,n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d.b.on("comments.changeChapterPage",this.pageChanged),d.b.on("comments.commentDeleted",this._commentDeleted),d.b.on("comments.commentUpdated",this._commentUpdated),d.b.on("comments.commentAdded",this._commentAdded),t.next=6,this.fetchComments();case 6:e=t.sent,n=e.comments,r=e.replies,m.rootComments=this.sortComments(n),m.replies=Object(d.i)(r,"page_id"),this.setState();case 12:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){v(i,r,o,a,s,"next",t)}function s(t){v(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}(),methods:{pageChanged:function(t){if(t!=h.a.page){h.a.page=t,this.slicePage=1,this.sliceLimit=18,this.loading||this.showPartialComments||(h.a.replies={},h.a.comments=[]),this.setState();var e=this.$refs.comments.$el.querySelector(".comments");e&&e.scrollHeight>e.offsetHeight&&this.$nextTick(function(){return e.scrollTop=0})}},showNextSlice:function(){this.slicePage+=1,this.setState()},showAllComments:function(){this.showPartialComments=!1,this.slicePage=1,this.sliceLimit=18,h.a.comments=[],this.setState()},setState:function(){this.loading||(this.showPartialComments&&this.getPartialComments(),h.a.comments=h.a.comments.concat(this.getComments()),h.a.replies=this.getReplies(),this.$nextTick(this.jumpToComment))},getComments:function(){var t=m.rootComments.filter(function(t){return t.page_id===h.a.page});if(!t)return[];this.totalSlicesCount=this.getTotalSlicesCount(t.length);var e=(this.slicePage-1)*this.sliceLimit,n=this.slicePage*this.sliceLimit;return t.slice(e,n).map(this.mapCommentItem)},getReplies:function(){var t=m.replies[h.a.page];return t?Object(d.i)(t.map(this.mapCommentItem),"parent_comment"):{}},getTotalSlicesCount:function(t){return t?Math.ceil(t/this.sliceLimit):0},mapCommentItem:function(t){var e={created_at:l()(t.created_at)};return this._userVotes[t.id]&&(e.userVote=this._userVotes[t.id]),a()({},t,e)},sortChanged:function(t){this.currentOrder=t,this.slicePage=1,this.sliceLimit=18,this.showPartialComments=!1,h.a.comments=[],m.rootComments=this.sortComments(m.rootComments),this.setState()},sortComments:function(t){var e=function(t){return new Date(t.created_at).getTime()},n="desc";return"best"===this.currentOrder&&(e=function(t){return t.votes_up-t.votes_down}),"oldest"===this.currentOrder&&(n="asc"),Object(d.s)(t,n,e)},getPartialComments:function(){var t=m.replies[h.a.page],e=m.rootComments.filter(function(t){return t.page_id===h.a.page}),n=e.concat(t||[]),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return function(n){return n[e]===t}},o=Object(d.d)(n,r(this.targetCommentId)),i=o;if(!o)return this.showPartialComments=!1;if(o.parent_comment){for(var a,s=Object(d.t)(t,"id","parent_comment"),c=o.parent_comment;void 0===a;)c in s?c=s[c]:a=c;i=Object(d.d)(e,r(a))}var u=Object(d.e)(e,r(i.id));this.sliceLimit=7,this.slicePage=Math.ceil(u/this.sliceLimit),u%this.sliceLimit==0&&(this.slicePage+=1)},_commentUpdated:function(t){var e=this._getTargetToChangeCache(null!=t.parent_comment),n=Object(d.d)(e,this._findCommentById(t.id));for(var r in t)n[r]=t[r]},_commentDeleted:function(t){var e=t.parentComment,n=t.removeCommentId,r=this._getTargetToChangeCache(null!=e);if(r){var o=Object(d.e)(r,this._findCommentById(n));r.splice(o,1)}},_commentAdded:function(t){this._getTargetToChangeCache(null!=t.parent_comment).unshift(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},t))},_findCommentById:function(t){return function(e){return e.id===t}},_getTargetToChangeCache:function(t){return t?m.replies[h.a.page]:m.rootComments}}})},iRQX:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-item"},[n("div",{staticClass:"chat-item__header"},[n("div",{staticClass:"chat-item__ava-wrap"},[n("img",{staticClass:"chat-item__avatar",attrs:{src:t.item.avatar}}),t._v(" "),n("div",{staticClass:"chat-item__status",attrs:{"data-status":t.item.online}})]),t._v(" "),n("div",{staticClass:"chat-item__header-content"},[n("a",{staticClass:"chat-item__username text-truncate",attrs:{href:"/user/"+t.item.user_id}},[t._v(t._s(t.item.name))]),t._v(" "),n("div",{staticClass:"chat-item__date"},[n("timeago",{attrs:{datetime:t.item.created_at,"auto-update":60}})],1)])]),t._v(" "),n("div",{staticClass:"chat-item__message",domProps:{innerHTML:t._s(t.item.text)}}),t._v(" "),n("button",{staticClass:"chat-item__reply",attrs:{"data-reply":"@"+t.item.name+"#"+t.item.id}},[t._v("\n    Ответить\n  ")]),t._v(" "),t.store.auth&&t.store.auth.access?n("button",{staticClass:"chat-item__remove",on:{click:t.remove}},[t._v("\n    Удалить\n  ")]):t._e()])},staticRenderFns:[]}},iRXW:function(t,e,n){var r=n("zZbG"),o=n("3znZ");t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),o(n)}},icPT:function(t,e,n){var r,o=function(){return function(t){function e(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function n(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n)}function r(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener(e,n)}function o(t,r,o,i){n(i||document,r,function(n){for(var r,i=n.target||n.srcElement;i&&!(r=e(i,t));)i=i.parentElement;r&&o.call(i,n)})}if(document.querySelector){var i={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(t,e){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var n=new RegExp("("+e.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+t+'">'+t.replace(n,"<b>$1</b>")+"</div>"},onSelect:function(){}};for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);for(var s="object"==typeof i.selector?[i.selector]:document.querySelectorAll(i.selector),c=0;c<s.length;c++){var u=s[c];u.sc=document.createElement("div"),u.sc.className="autocomplete-suggestions "+i.menuClass,u.autocompleteAttr=u.getAttribute("autocomplete"),u.setAttribute("autocomplete","off"),u.cache={},u.last_val="",u.updateSC=function(t,e){var n=u.getBoundingClientRect();if(u.sc.style.left=Math.round(n.left+(window.pageXOffset||document.documentElement.scrollLeft)+i.offsetLeft)+"px",u.sc.style.top=Math.round(n.bottom+(window.pageYOffset||document.documentElement.scrollTop)+i.offsetTop)+"px",u.sc.style.width=Math.round(n.right-n.left)+"px",!t&&(u.sc.style.display="block",u.sc.maxHeight||(u.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(u.sc,null):u.sc.currentStyle).maxHeight)),u.sc.suggestionHeight||(u.sc.suggestionHeight=u.sc.querySelector(".autocomplete-suggestion").offsetHeight),u.sc.suggestionHeight))if(e){var r=u.sc.scrollTop,o=e.getBoundingClientRect().top-u.sc.getBoundingClientRect().top;o+u.sc.suggestionHeight-u.sc.maxHeight>0?u.sc.scrollTop=o+u.sc.suggestionHeight+r-u.sc.maxHeight:0>o&&(u.sc.scrollTop=o+r)}else u.sc.scrollTop=0},n(window,"resize",u.updateSC),document.body.appendChild(u.sc),o("autocomplete-suggestion","mouseleave",function(){var t=u.sc.querySelector(".autocomplete-suggestion.selected");t&&setTimeout(function(){t.className=t.className.replace("selected","")},20)},u.sc),o("autocomplete-suggestion","mouseover",function(){var t=u.sc.querySelector(".autocomplete-suggestion.selected");t&&(t.className=t.className.replace("selected","")),this.className+=" selected"},u.sc),o("autocomplete-suggestion","mousedown",function(t){if(e(this,"autocomplete-suggestion")){var n=this.getAttribute("data-val");u.value=n,i.onSelect(t,n,this),u.sc.style.display="none"}},u.sc),u.blurHandler=function(){try{var t=document.querySelector(".autocomplete-suggestions:hover")}catch(e){t=0}t?u!==document.activeElement&&setTimeout(function(){u.focus()},20):(u.last_val=u.value,u.sc.style.display="none",setTimeout(function(){u.sc.style.display="none"},350))},n(u,"blur",u.blurHandler);var l=function(t){var e=u.value;if(u.cache[e]=t,t.length&&e.length>=i.minChars){for(var n="",r=0;r<t.length;r++)n+=i.renderItem(t[r],e);u.sc.innerHTML=n,u.updateSC(0)}else u.sc.style.display="none"};u.keydownHandler=function(t){var e,n=window.event?t.keyCode:t.which;if((40==n||38==n)&&u.sc.innerHTML)return(r=u.sc.querySelector(".autocomplete-suggestion.selected"))?(e=40==n?r.nextSibling:r.previousSibling)?(r.className=r.className.replace("selected",""),e.className+=" selected",u.value=e.getAttribute("data-val")):(r.className=r.className.replace("selected",""),u.value=u.last_val,e=0):((e=40==n?u.sc.querySelector(".autocomplete-suggestion"):u.sc.childNodes[u.sc.childNodes.length-1]).className+=" selected",u.value=e.getAttribute("data-val")),u.updateSC(0,e),!1;if(27==n)u.value=u.last_val,u.sc.style.display="none";else if(13==n||9==n){var r;(r=u.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=u.sc.style.display&&(i.onSelect(t,r.getAttribute("data-val"),r),setTimeout(function(){u.sc.style.display="none"},20))}},n(u,"keydown",u.keydownHandler),u.keyupHandler=function(t){var e=window.event?t.keyCode:t.which;if(!e||(35>e||e>40)&&13!=e&&27!=e){var n=u.value;if(n.length>=i.minChars){if(n!=u.last_val){if(u.last_val=n,clearTimeout(u.timer),i.cache){if(n in u.cache)return void l(u.cache[n]);for(var r=1;r<n.length-i.minChars;r++){var o=n.slice(0,n.length-r);if(o in u.cache&&!u.cache[o].length)return void l([])}}u.timer=setTimeout(function(){i.source(n,l)},i.delay)}}else u.last_val=n,u.sc.style.display="none"}},n(u,"keyup",u.keyupHandler),u.focusHandler=function(t){u.last_val="\n",u.keyupHandler(t)},i.minChars||n(u,"focus",u.focusHandler)}this.destroy=function(){for(var t=0;t<s.length;t++){var e=s[t];r(window,"resize",e.updateSC),r(e,"blur",e.blurHandler),r(e,"focus",e.focusHandler),r(e,"keydown",e.keydownHandler),r(e,"keyup",e.keyupHandler),e.autocompleteAttr?e.setAttribute("autocomplete",e.autocompleteAttr):e.removeAttribute("autocomplete"),document.body.removeChild(e.sc),e=null}}}}}();void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},igvw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i=n("En79"),a=n.n(i),s=n("V9wp"),c=n.n(s),u=n("Ba3q"),l=n.n(u),f=n("mtWM"),d=n.n(f),h=n("I3G/"),p=n.n(h),v=n("gAt4"),m=n.n(v),g=n("s+XX"),b=n.n(g),y=n("Jaym"),_=n("u5FJ"),O=n("vrSs");function w(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function k(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.default=p.a.extend({components:{AppChapterItem:b.a},data:function(){return{chapters:[],auth:!1,teams:[],manga:window.__MANGA__,sort:"desc",teamFilter:"all",chaptersOutputFrequency:null,showAll:!1}},computed:{sortedChapters:function(){var t=l()(this.chapters,["chapter_volume",function(t){return parseFloat(t.chapter_number)}],[this.sort,this.sort]);return!this.showAll&&t.length>30?t.slice(0,30):t},isManga:function(){return O.h.isManga}},created:function(){var t=this;if(r=window.__CHAPTERS_DATA__,(o=r.list).forEach(function(t){t.teamsMap={},t.isRead=-1!=r.read.indexOf(t.chapter_id),t.teams.forEach(function(e){e.slug&&(t.teamsMap[e.slug]=e)})}),this.chapters=o,this.teams=r.teams,this.auth=r.auth,y.b.on("chapters.anchor-click",function(){t.showAll=!0}),1==this.manga.status){for(var e=new Set,n=Date.now(),i=0,a=this.chapters.length;i<a;i++){var s=this.chapters[i],u=s.chapter_created_at.replace(/(\d{4}-\d{2}-\d{2}).*/,"$1");s.isNew=m()(n,u)<=4,e.size>=10||e.add(u)}if(e.size>4){var l,f=[];e.forEach(function(t){l&&f.push(m()(l,t)),l=t});var d=Math.round(c()(f));d>=1&&(this.chaptersOutputFrequency=d)}}},mounted:function(){this.$emit("chapters.mounted"),Object(_.a)(".media-chapters-list","click",".media-chapter__icon_read",this.toggleChapterRead)},methods:{changeSort:function(){this.sort="asc"===this.sort?"desc":"asc"},selectTeam:function(t){var e;this.teamFilter=t,(e="all"===t?k(o):o.filter(function(e){return null!=e.teamsMap[t]})).length<30?this.showAll=!0:this.showAll=!1,this.chapters=e},toggleChapterRead:function(){var t,e=(t=a.a.mark(function t(e,n){var r,o,i,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.auth){t.next=2;break}return t.abrupt("return");case 2:if(r=n.closest(".media-chapter"),o=parseInt(Object(_.f)(r,"data-volume"),10),i=Object(_.f)(r,"data-number"),!(s=Object(y.d)(this.chapters,function(t){return t.chapter_volume===o&&t.chapter_number==i}))){t.next=21;break}if(!s.readLoading){t.next=9;break}return t.abrupt("return");case 9:return s.isRead=!s.isRead,"readLoading"in s||this.$set(s,"readLoading",!0),s.readLoading=!0,t.prev=12,t.next=15,d.a.post("/toggle-chapter-read",{id:s.chapter_id,manga_id:this.manga.id});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(12),console.error(t.t0);case 20:s.readLoading=!1;case 21:case"end":return t.stop()}},t,this,[[12,17]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){w(i,r,o,a,s,"next",t)}function s(t){w(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t,n){return e.apply(this,arguments)}}()}})},imBK:function(t,e,n){var r=n("22B7");t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},in12:function(t,e,n){var r=n("VU/8")(n("h5cE"),n("gqne"),!1,null,null,null);t.exports=r.exports},izte:function(t,e,n){var r=n("hcE8"),o=n("C/Wh"),i=n("pzR0"),a=r["__core-js_shared__"]||o("__core-js_shared__",{});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.1.3",mode:i?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},jAiL:function(t,e,n){var r=n("hcE8"),o=n("izte"),i=n("17Rs"),a=n("9+GO"),s=r.Symbol,c=o("wks");t.exports=function(t){return c[t]||(c[t]=a&&s[t]||(a?s:i)("Symbol."+t))}},jD7S:function(t,e,n){var r=n("tv3T"),o=n("ktak");t.exports=function(t,e){return t&&r(e,o(e),t)}},jDxG:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,".multi-select[data-v-06b9a6e0]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.multi-select__menu[data-v-06b9a6e0]{max-height:300px;overflow-y:auto;min-width:160px;max-width:210px}.multi-select__tag[data-v-06b9a6e0]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;line-height:26px;height:26px;border-radius:3px;padding-left:8px;padding-right:4px;background:#e7edf3;background:var(--tag-bg);margin-right:4px;margin-bottom:4px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px}.multi-select__close[data-v-06b9a6e0]{width:18px;height:18px;padding:5px;margin-left:6px;border-radius:3px;cursor:pointer}.multi-select__close[data-v-06b9a6e0]:hover{background:#fff;background:var(--foreground)}.multi-select__close svg[data-v-06b9a6e0]{display:block;width:8px;height:8px;stroke:#868e96}.multi-select__input[data-v-06b9a6e0]{height:26px;border-radius:3px;width:auto;max-width:50%;min-width:120px}",""])},jE8y:function(t,e,n){var r=n("5+O3"),o=n("oEhq");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},jQas:function(t,e,n){var r=n("SJLv");t.exports=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],u={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return o[t.getDay()]},dddd:function(t){return i[t.getDay()]},A:function(t){return t.getHours()/12>=1?a[1]:a[0]},a:function(t){return t.getHours()/12>=1?s[1]:s[0]},aa:function(t){return t.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){u[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:u,formattingTokensRegExp:r(u)}}},jgJS:function(t,e,n){var r=n("raVe"),o=n("jAiL")("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},"k+y2":function(t,e,n){var r=n("VU/8")(n("oAJX"),n("7UFo"),!1,null,null,null);t.exports=r.exports},kK0S:function(t,e,n){var r=n("VU/8")(n("kiZs"),n("Pam+"),!1,null,null,null);t.exports=r.exports},kTZw:function(t,e,n){var r=n("RQWI");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("4683f78e",r,!0,{})},kfSc:function(t,e,n){var r=n("VU/8")(n("QmTJ"),n("qjwg"),!1,null,null,null);t.exports=r.exports},kiZs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("6Ikj"),o=n.n(r);e.default={components:{Chat:o.a},inject:["settings","store"],methods:{toggleWindow:function(){this.settings.inWindow=!0}}}},ktak:function(t,e,n){var r=n("7e4z"),o=n("/GnY"),i=n("bGc4");t.exports=function(t){return i(t)?r(t):o(t)}},kvU2:function(t,e,n){var r=n("Fkvj"),o=1,i=4;t.exports=function(t){return r(t,o|i)}},kxzG:function(t,e,n){var r=n("yCNF"),o=n("6MiT"),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=c.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):s.test(t)?i:+t}},"l/2K":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},l9Lx:function(t,e,n){var r=n("lb6C"),o=n("C0hh"),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return i.call(t,e)}))}:o;t.exports=s},lA4Z:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("vue-modal",{attrs:{id:"bookmark-settings",type:"bottom-sheet","close-icon":""}},[e("bookmark-settings",{attrs:{suffix:"modal"}})],1)},staticRenderFns:[]}},lHK6:function(t,e,n){var r=n("/GnY"),o=n("gHOb"),i=n("1Yb9"),a=n("NGEn"),s=n("bGc4"),c=n("ggOT"),u=n("HT7L"),l=n("YsVG"),f="[object Map]",d="[object Set]",h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||i(t)))return!t.length;var e=o(t);if(e==f||e==d)return!t.size;if(u(t))return!r(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}},lb6C:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},lelv:function(t,e,n){var r=n("VU/8")(n("L8xD"),n("Lb8E"),!1,function(t){n("kTZw")},null,null);t.exports=r.exports},ln3S:function(t,e,n){var r=n("VU/8")(n("Opag"),n("aHVx"),!1,null,null,null);t.exports=r.exports},mAt8:function(t,e,n){var r=n("4RiB"),o=NaN;t.exports=function(t,e){var n=null==t?0:t.length;return n?r(t,e)/n:o}},mJPh:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},"mKB/":function(t,e,n){(function(t){var r=n("TQ3y"),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(e,n("3IRH")(t))},mTAn:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},mWhC:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},mXYp:function(t,e,n){var r=n("YRFD"),o=n("xA5w"),i=n("25hp"),a=n("GI7G"),s=n("uyaC"),c=1440,u=2520,l=43200,f=86400;t.exports=function(t,e,n){var d=n||{},h=r(t,e),p=d.locale,v=s.distanceInWords.localize;p&&p.distanceInWords&&p.distanceInWords.localize&&(v=p.distanceInWords.localize);var m,g,b={addSuffix:Boolean(d.addSuffix),comparison:h};h>0?(m=o(t),g=o(e)):(m=o(e),g=o(t));var y,_=i(g,m),O=g.getTimezoneOffset()-m.getTimezoneOffset(),w=Math.round(_/60)-O;if(w<2)return d.includeSeconds?_<5?v("lessThanXSeconds",5,b):_<10?v("lessThanXSeconds",10,b):_<20?v("lessThanXSeconds",20,b):_<40?v("halfAMinute",null,b):v(_<60?"lessThanXMinutes":"xMinutes",1,b):0===w?v("lessThanXMinutes",1,b):v("xMinutes",w,b);if(w<45)return v("xMinutes",w,b);if(w<90)return v("aboutXHours",1,b);if(w<c)return v("aboutXHours",Math.round(w/60),b);if(w<u)return v("xDays",1,b);if(w<l)return v("xDays",Math.round(w/c),b);if(w<f)return v("aboutXMonths",y=Math.round(w/l),b);if((y=a(g,m))<12)return v("xMonths",Math.round(w/l),b);var k=y%12,j=Math.floor(y/12);return k<3?v("aboutXYears",j,b):k<9?v("overXYears",j,b):v("almostXYears",j+1,b)}},mgnk:function(t,e,n){var r=n("aCM0"),o=n("UnEC"),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},mi1p:function(t,e){t.exports=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},mj2r:function(t,e,n){"use strict";e.a={methods:{_avatarUrl:function(t,e){return e&&"0"!=e?"/uploads/users/".concat(t,"/").concat(e):"/uploads/users/placeholder.png"},_coverThumb:function(t,e){return e?this.__coverUrl(t,!0):"/uploads/no-image.png"},_cover:function(t,e){return e?this.__coverUrl(t):"/uploads/no-image.png"},__coverUrl:function(t,e){var n="/uploads/cover/".concat(t,"/cover");return"".concat(n,e?"/cover_thumb.jpg":"/cover_250x350.jpg")}}}},mlqH:function(t,e,n){"use strict";e.a=function(t){var e=document.body,n=innerWidth-e.offsetWidth,o="";t&&(o="overflow: hidden; padding-right: ".concat(n,"px; overscroll-behavior: none;"));Object(r.f)(e,"style",o)};var r=n("u5FJ")},mxmQ:function(t,e,n){"use strict";var r=n("En79"),o=n.n(r),i=n("tuWI"),a=n.n(i);function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)})}}e.a={components:{AppLoader:a.a},props:{requestDataOnCreatedHook:{type:Boolean,default:!0}},data:function(){return{loading:!0,page:1,pageLoading:!1,hasNextPage:!1,hasPrevPage:!1,scrollTopBeforePaginate:!1}},created:function(){var t=c(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.requestDataOnCreatedHook){t.next=3;break}return t.next=3,this.requestHandler(this.page);case 3:this.loading=!1;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{nextPage:function(){this.requestHandler(this.page+1)},prevPage:function(){this.requestHandler(this.page-1)},requestHandler:function(){var t=c(o.a.mark(function t(e){var n,r,i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={page:e},this.pageLoading=!0,this.scrollTopBeforePaginate&&window.scrollTo({top:0,behavior:"smooth"}),t.next=5,this.request(n);case 5:r=t.sent,i=r.next_page_url,a=r.prev_page_url,this.page=e,this.pageLoading=!1,this.hasNextPage=null!=i,this.hasPrevPage=null!=a;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),resetPagination:function(){this.page=1,this.pageLoading=!1,this.hasNextPage=!1,this.hasPrevPage=!1},request:function(){}}}},"n/eG":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{chapter:{type:Object,required:!0},mangaId:{type:[String,Number],required:!0},chapterUrl:{type:Function,required:!0},index:Number},methods:{remove:function(){this.$emit("remove",this.chapter.book_id,this.index)}}}},nbsL:function(t,e,n){var r=n("6MiT");t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t==t,a=r(t),s=void 0!==e,c=null===e,u=e==e,l=r(e);if(!c&&!l&&!a&&t>e||a&&s&&u&&!c&&!l||o&&s&&u||!n&&u||!i)return 1;if(!o&&!a&&!l&&t<e||l&&n&&i&&!o&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}},nizW:function(t,e,n){var r=n("WNGz"),o=6e4,i=864e5;t.exports=function(t,e){var n=r(t),a=r(e),s=n.getTime()-n.getTimezoneOffset()*o,c=a.getTime()-a.getTimezoneOffset()*o;return Math.round((s-c)/i)}},nw3t:function(t,e,n){var r=n("p0bc");t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},"o/tC":function(t,e,n){var r=n("q0qZ"),o=n("1rEs"),i=n("5+O3"),a=n("/09a");t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,c=0;s>c;)o.f(t,n=r[c++],e[n]);return t}},o2mx:function(t,e,n){var r=n("NkRn"),o=n("Hxdr"),i=n("NGEn"),a=n("6MiT"),s=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},o51f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("k+y2"),o=n.n(r),i=n("oTFi"),a=n("OLx3");e.default={components:{CommentReply:o.a},data:function(){return{showForm:!1}},methods:{toggleForm:function(){if(!a.a.auth)return i.a.show("#sign-in-modal");this.showForm=!0}}}},o9Zb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("abp6"),a=n.n(i),s=n("P0Zj"),c=n.n(s),u=n("M7Fo"),l=n("7/oE"),f=n("oTFi");e.default=o.a.extend({components:{VueModal:a.a,BookmarkSettings:c.a},mixins:[Object(l.a)()],computed:{settings:function(){return u.b.settings}},methods:{openModal:function(t){f.a.close().show(t)}}})},oAJX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mtWM"),o=n.n(r),i=n("A7pH"),a=n("Ngrm"),s=n("Jaym"),c=n("gmAb"),u=n("OLx3");e.default={props:{isReply:{type:Boolean,default:!1}},data:function(){return{loading:!1,buttons:[{icon:"bold",title:"Жирный",action:"bold"},{icon:"italic",title:"Курсив",action:"italic"},{icon:"strikethrough",title:"Зачеркнутый",action:"strikethrough"},{icon:"underline",title:"Подчеркнутый",action:"underline"},{icon:"quote-right",title:"Цитата",action:"quote"},{icon:"eye-slash",title:"Спойлер",action:"spoiler"},{icon:"eraser",title:"Убрать форматирование",action:"clear"}]}},computed:{editing:function(){return this.isReply&&u.a.editing},btnClasses:function(){return{button_primary:!this.editing,button_green:this.editing,button_loading:this.loading}}},mounted:function(){var t=this.$refs,e=t.editor,n=t.toolbar;this.editor=Object(i.a)(e,{toolbar:n}),this.editing&&this.editor.setHTML(u.a.activeItem.comment),this.editor.focus(),this.isReply&&this.editor.moveCursorToEnd()},beforeDestroy:function(){this.loading&&this.$nextTick(c.d),this.editor&&this.editor.destroy()},methods:{submitForm:function(){if(!1===u.a.auth)return a.a.alert("Вы не авторизованы");if(!this.loading){if(this.editor.isEmpty())return a.a.alert("Сообщение не должно быть пустым");if(this.editor.contentLength()>1e4)return a.a.alert("Первышен лимит сообщения в 10.000 символов");var t=this.editor.getParsedHTML();this.loading=!0,this.editing&&this.isReply?this.updateMessage(t):this.sendMessage(t)}},sendMessage:function(t){var e=this,n=this.isReply?u.a.activeItem.id:null,r={post_id:u.a.info.postId,post_type:u.a.info.type,post_page:u.a.page,parent_comment:n,comment:t};o.a.post(u.a.info.api,r).then(function(t){var r=t.data;e.isReply&&!u.a.replies[n]&&e.$set(u.a.replies,n,[]);var o=e.isReply?"replies.".concat(n):"comments",i=Object(c.a)(u.a,o);e.isReply?i.push(r):i.unshift(r),e.editor.clearEditor(),u.a.activeItem=null,e.isReply||(e.loading=!1),s.b.emit("comments.commentAdded",r)}).catch(function(t){console.error(t);var n=t.response&&t.response.data;e.loading=!1,n&&n.message||a.a.alert("Произошла ошибка при отправке комментария")})},updateMessage:function(t){var e=this,n=u.a.activeItem.id;o.a.put("".concat(u.a.info.api,"/").concat(n),{comment:t}).then(function(t){var e=t.data;u.a.activeItem.comment=e.comment,s.b.emit("comments.commentUpdated",u.a.activeItem),a.a.confirm("Комментарий был обновлен"),u.a.editing=!1,u.a.activeItem=null}).catch(function(){a.a.alert("Призошла ошибка при редактировании"),e.loading=!1})}}}},oEhq:function(t,e,n){var r=n("HAas");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},oG8a:function(t,e,n){"use strict";var r=n("HyF7");function o(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=new(n.n(r).a),s={success:function(t,e){a.addItem(o({text:t},e,{status:"success"}))},info:function(t,e){a.addItem(o({text:t},e,{status:"info"}))},alert:function(t,e){a.addItem(o({text:t},e,{status:"alert"}))}};e.a=s},oTFi:function(t,e,n){"use strict";var r=n("Jaym"),o=n("u5FJ"),i=n("mlqH");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d="modal_open",h="modal_in",p="modal_out",v=function(t){function e(){var t,n,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,s=c(e).call(this),f(u(t=!s||"object"!==a(s)&&"function"!=typeof s?u(n):s),"show",function(e){if(!t.disabled&&e){var n=Object(r.p)(e)?Object(o.l)(e):e;if(n)return o.e.once(n,function(){t.emit("showed"),o.g.remove(n,h)}),o.g.add(n,h,d),Object(i.a)(!0),t._initModalEvents(n),t.active.push(n),t.emit("show"),u(t)}}),f(u(t),"close",function(e){if(!t.disabled){var n;if(e){var a=Object(r.p)(e)?Object(o.l)(e):e,s=Object(r.e)(t.active,function(t){return t===a});n=t.active.splice(s,1)[0]}else n=t.active.pop();if(n)return o.e.once(n,function(){o.g.remove(n,d,p),t.emit("closed"),t.active.length||Object(i.a)()}),o.g.remove(n,h),o.g.add(n,p),t.emit("close"),u(t)}}),f(u(t),"disable",function(){return t.disabled=!0,u(t)}),f(u(t),"enable",function(){return t.disabled=!1,u(t)}),t.active=[],t.disabled=!1,t._bindEvents(),t}var n,v,m;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r["a"]),n=e,(v=[{key:"_bindEvents",value:function(){var t=this;Object(o.c)(document,"click",function(e){var n=e.target,r=n.closest("[data-open-modal]");return r?(o.f.has(r,"data-stop")&&e.stopPropagation(),e.preventDefault(),t.show(Object(o.f)(r,"data-open-modal"))):(r=n.closest("[data-close-modal]"))?(e.preventDefault(),t.close()):void 0})}},{key:"_initModalEvents",value:function(t){var e=this;t.__inited||(t.__inited=!0,o.f.has(t,"data-disable-backdrop")||Object(o.c)(t,"click",function(t){t.target===t.currentTarget&&e.close()}))}}])&&s(n.prototype,v),m&&s(n,m),e}();e.a=new v},oV6p:function(t,e,n){var r=n("VU/8")(n("aOhm"),n("ekPa"),!1,null,null,null);t.exports=r.exports},oVi6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gAt4"),o=n.n(r),i=n("Jaym"),a=n("mj2r"),s=Date.now();e.default={mixins:[a.a],props:{item:{type:Object,required:!0},chapterUrl:{type:Function,required:!0},settings:{type:Object,required:!0}},computed:{commentText:function(){return this.item.dsc||"Добавить заметку"},chapters:function(){return this.item.chapters},lastBookmark:function(){var t=this.item.slug,e=this.chapters.length;if(!e)return"".concat(t,"/v1/c1");var n=this.chapters[e-1];return this.chapterUrl(n,n.page_id)},lastBookText:function(){var t=this.chapters.length;if(t){var e=this.chapters[t-1];return"#".concat(e.volume,"-").concat(e.number)}return null},isNewChapter:function(){return o()(s,this.item.last_chapter.created_at)<5}},methods:{addComment:function(){i.b.emit("showBookmarkModal",this.item)},imageError:function(t){t.target.src="/uploads/no-image.png"}}}},obAt:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-folder-create",class:[t.size&&"bookmark-folder-create_"+t.size]},[n("div",{staticClass:"bookmark-folder-create__icon",class:{"button_loading-inv":t.loading},on:{click:t.create}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-plus"}})])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"bookmark-folder-create__input form__input",attrs:{type:"text",placeholder:"Создать новый список"},domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.create(e)},input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])},staticRenderFns:[]}},ocCQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("I3G/"),c=n.n(s),u=n("oTFi"),l=n("abp6"),f=n.n(l),d=n("oG8a"),h=n("7/oE"),p=n("M7Fo");function v(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}e.default=c.a.extend({components:{VueModal:f.a},mixins:[Object(h.a)()],computed:{folders:function(){return p.b.folders.filter(function(t){return t.id!==p.b.filter.folder&&"all"!==t.id})}},methods:{moveBookmarksToFolder:function(){var t,e=(t=o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=v(p.b.checked),u.a.close(),p.b.checked=[],p.b.bookmarks.forEach(function(t){-1!==n.indexOf(t.manga_id)&&(t.status=e)}),p.a.emit("count"),t.prev=5,t.next=8,a.a.post("/bookmark/change-status",{ids:n,status:e});case 8:p.a.emit("updateCache"),d.a.success("Манга успешно перемещена"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.error(t.t0),d.a.alert("Произошла ошибка при перемещении закладок");case 16:case"end":return t.stop()}},t,null,[[5,12]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){m(i,r,o,a,s,"next",t)}function s(t){m(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()}})},octw:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},odTk:function(t,e,n){t.exports=n("hcE8")},ooSW:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return o});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._events={}}var e,n,o;return e=t,(n=[{key:"on",value:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)}},{key:"off",value:function(t,e){this._events[t]&&(this._events[t]=this._events[t].filter(function(t){return t!==e}))}},{key:"once",value:function(t,e){var n=this,r=function r(){n.off(t,r),e.apply(void 0,arguments)};this.on(t,r)}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this._events[t]&&this._events[t].forEach(function(t){return t.apply(void 0,n)})}}])&&r(e.prototype,n),o&&r(e,o),t}()},oqL2:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},orNa:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t),o=r(e);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},ot7w:function(t,e,n){"use strict";var r=n("UFcy").IteratorPrototype,o=n("43zn"),i=n("C1ru"),a=n("GB3+"),s=n("eZ0g"),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,u,!1,!0),s[u]=c,t}},p0bc:function(t,e,n){var r=n("ICSD"),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},pH57:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-chapters"},[t.teams.length>1?n("div",{staticClass:"section-body paper"},[n("div",{staticClass:"media-section__title"},[t._v("\n      Переводчик\n    ")]),t._v(" "),n("div",{staticClass:"tags-scroller"},[n("div",{staticClass:"tag-item",class:{"tag-item_active":"all"===t.teamFilter},attrs:{"data-team":"all"},on:{click:function(e){return t.selectTeam("all")}}},[t._v("\n        Все\n      ")]),t._v(" "),t._l(t.teams,function(e){return n("div",{key:e.slug,staticClass:"tag-item",class:{"tag-item_active":e.slug===t.teamFilter},attrs:{"data-team":t.teams.slug},on:{click:function(n){return t.selectTeam(e.slug)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})],2)]):t._e(),t._v(" "),n("div",{staticClass:"section-body paper flex justify_between media-chapter-actions"},[n("div",{staticClass:"media-chapters-sort",attrs:{"data-sort":t.sort},on:{click:t.changeSort}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 113.144 90.311"}},[n("path",{staticClass:"media-chapters-sort__arr-left",attrs:{d:"M54.79 24.23L32.214 1.654l-.003-.003a5.686 5.686 0 00-.41-.371c-.066-.054-.135-.1-.202-.15-.08-.06-.159-.123-.242-.179-.08-.053-.164-.1-.246-.15-.076-.044-.15-.092-.228-.134-.084-.045-.17-.083-.256-.123-.081-.039-.161-.08-.244-.114-.084-.034-.169-.062-.254-.092-.089-.032-.177-.066-.268-.094-.084-.026-.17-.044-.256-.066-.093-.023-.185-.05-.28-.068-.098-.02-.198-.032-.298-.046-.082-.012-.163-.027-.247-.036a5.68 5.68 0 00-1.114 0c-.083.009-.164.024-.247.036-.1.014-.2.026-.299.046-.095.019-.186.045-.28.068-.085.022-.17.04-.255.066-.091.028-.18.062-.268.094-.085.03-.17.058-.254.092-.083.035-.163.075-.244.114-.086.04-.172.078-.256.123-.078.042-.152.09-.228.135-.082.049-.165.096-.246.15-.083.055-.162.117-.242.177-.067.05-.136.097-.202.15a5.63 5.63 0 00-.41.372l-.003.003L1.653 24.23a5.645 5.645 0 007.983 7.983L22.578 19.27v65.395a5.644 5.644 0 1011.288 0V19.271L46.81 32.213a5.645 5.645 0 007.982-7.982z"}}),t._v(" "),n("path",{staticClass:"media-chapters-sort__arr-right",attrs:{d:"M103.508 58.098L90.566 71.04V5.645a5.644 5.644 0 10-11.289 0V71.04L66.335 58.098a5.645 5.645 0 00-7.982 7.983L80.93 88.658l.004.003c.13.13.267.254.41.371.065.054.134.1.202.151.08.06.158.122.242.178.08.054.163.1.246.15.076.045.15.092.227.134.084.045.17.083.257.123.08.039.16.08.244.114.083.034.168.062.253.092.09.032.177.066.268.094.085.026.17.044.256.066.093.023.185.05.28.068.1.02.2.031.299.046.082.011.163.027.247.035.37.037.743.037 1.114 0 .083-.008.164-.024.247-.035.1-.015.2-.026.299-.046.094-.019.186-.045.279-.069.086-.02.172-.04.256-.065.091-.028.18-.062.268-.094.085-.03.17-.058.253-.093.084-.034.163-.075.244-.113.086-.04.173-.078.257-.124.078-.041.151-.089.227-.134.082-.049.166-.096.246-.15.084-.055.162-.117.242-.177.067-.05.136-.097.202-.151.142-.116.278-.239.408-.368l.006-.006L111.49 66.08a5.645 5.645 0 00-7.982-7.982z"}})])]),t._v(" "),t._m(0)]),t._v(" "),t.sortedChapters.length?[t.chaptersOutputFrequency?n("div",{staticClass:"px-10 pt-10 text-center text-muted"},[n("i",{staticClass:"fa fa-clock-o"}),t._v(" Новая глава раз в "+t._s(t.chaptersOutputFrequency)+" дн.\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"section-body media-chapters-list"},[t._l(t.sortedChapters,function(e){return n("app-chapter-item",{key:e.chapter_id,attrs:{chapter:e,"team-filter":t.teamFilter,auth:t.auth,"is-manga":t.isManga}})}),t._v(" "),!t.showAll&&t.chapters.length>30?n("button",{staticClass:"button button_block mt-10",on:{click:function(e){t.showAll=!t.showAll}}},[t._v("\n        Показать все главы\n      ")]):t._e()],2)]:n("div",{staticClass:"empty"},["all"!==t.selectTeam?[t._v("\n      По текущему фильтру нет глав\n    ")]:[t._v("\n      Тут пока нет глав\n    ")]],2)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-chapters-anchor text-muted",attrs:{"data-open-modal":"#chapter-volumes-list"}},[e("span",[this._v("перейти к тому")])])}]}},pQJ6:function(t,e,n){var r=n("bGc4");t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},pTUa:function(t,e,n){var r=n("/I3N");t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},pkSX:function(t,e,n){var r=n("i9tX"),o=n("q0qZ"),i=n("aske"),a=n("9mDF"),s=n("He3V"),c=n("hffE");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=s.f,u=i(r),l={},f=0;u.length>f;)void 0!==(n=o(r,e=u[f++]))&&c(l,e,n);return l}})},plyo:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("vue-modal",{attrs:{id:"bookmark-change-status-modal",type:"bottom-sheet",title:"Добавить в список","close-icon":""}},[e("bookmark-folders-list",{attrs:{folders:this.filteredFolders,"show-deletion-button":this.showDeletionButton},on:{selected:this.changeStatus,created:this.folderCreated}})],1)},staticRenderFns:[]}},pm3x:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("M7Fo"),o=n("6Vnj"),i=n.n(o),a=n("IjNM"),s=n.n(a);e.default={components:{VCheckbox:i.a,VRadio:s.a},props:{suffix:{type:String,default:""}},computed:{settings:function(){return r.b.settings}}}},py9u:function(t,e,n){var r=n("tv3T"),o=n("t8rQ");t.exports=function(t,e){return t&&r(e,o(e),t)}},pzR0:function(t,e){t.exports=!1},q0qZ:function(t,e,n){var r=n("r54x");t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},qAbW:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-modal",{ref:"editBook",attrs:{size:"xs",title:"Редакитрование закладки","close-icon":""}},[n("div",{staticClass:"modal__body"},[n("div",{staticClass:"form__label"},[t._v("\n      Комментарий к "),n("strong",[t._v(t._s(t.name))])]),t._v(" "),n("div",{staticClass:"form__field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.dsc,expression:"dsc"}],ref:"input",staticClass:"form__input",attrs:{disabled:t.sending,type:"text",placeholder:"Ваш комментарий"},domProps:{value:t.dsc},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveComment(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeModal(e)}],input:function(e){e.target.composing||(t.dsc=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"buttons-stretch"},[n("button",{staticClass:"button button_md button_green",attrs:{disabled:t.sending},on:{click:t.saveComment}},[t._v("\n        Сохранить\n      ")]),t._v(" "),n("button",{staticClass:"button button_md",attrs:{disabled:t.sending},on:{click:t.closeModal}},[t._v("\n        Отменить\n      ")])])])])},staticRenderFns:[]}},qEBd:function(t,e,n){n("8/eq"),n("vw/H"),n("GPcm"),n("3mz+");var r=n("odTk");t.exports=r.Set},qGuN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("RpmR"),o=n.n(r),i=n("rxKx"),a=n.n(i),s=n("vrSs"),c=n("Us2S"),u=n("BiKz"),l=n("u5FJ"),f=n("ZLZl"),d="/images/icons",h="".concat(d,"/chat.svg"),p={manga:{text:function(){return"Добавил новую мангу"}},forum:{img:h,text:function(){return"Ответил на форуме"}},forum_post:{img:h,text:function(t){return"Оставил новое сообщение в теме <b>".concat(t.discussion.title,"</b>")}},comment:{img:h,text:function(){return"Ответил на ваш комментарий"}},post_comment:{img:h,text:function(){return"Оставил новый комментарий к новости"}},manga_comment:{img:h,text:function(){return"Оставил новый комментарий к добавленной вами манге"}},chapter_comment:{img:h,text:function(){return"Оставил новый комментарий к добавленной вами главе"}},message:{img:"".concat(d,"/new-message.svg"),text:function(){return"Прислал новое сообщение"}},repmessage:{img:"".concat(d,"/repmessage.svg"),text:function(){return"Ответил на ваше сообщение"}},friend_request:{img:"".concat(d,"/follower.svg"),text:function(){return"Хочет добавить вас в друзья"}},friend_accept:{img:"".concat(d,"/follower_add.svg"),text:function(){return"Принял ваш запрос на добавление в друзья"}},friend_deny:{img:"".concat(d,"/follower_del.svg"),text:function(){return"Отклонил ваш запрос на добавление в друзья"}},chapter_accept:{text:function(){return"Модератор принял вашу главу в манге"}},chapter_deny:{text:function(){return"Модератор отклонил вашу главу в манге"}},manga_accept:{text:function(){return"Модератор принял вашу мангу"}},manga_deny:{text:function(){return"Модератор отклонил вашу мангу"}},manga_changes_accept:{text:function(){return"Модератор принял ваши изменения в"}},manga_changes_deny:{text:function(){return"Модератор отклонил ваши изменения в"}}};e.default={props:{notification:Object,mangaNameProp:String},data:function(){return{imgUrl:c.a.coverPlaceholder,titleByType:"",content:""}},computed:{hasCover:function(){return"chapter"==this.notification.type||"manga"===this.notification.type},mangaName:function(){return this.notification.data.manga[this.mangaNameProp]||this.notification.data.manga.name}},created:function(){var t,e,n=this.notification.data;if("manga"===this.notification.type||"chapter"===this.notification.type){if(t=c.a.coverThumb(n.manga),s.h.isHentai&&n.manga.site!=s.h.id){var r=n.manga.site||1,o=s.h.domainsById[r];t="https://".concat(o).concat(t)}if("chapter"===this.notification.type){if(e="Добавил новую Главу",n.chapter?(e+=" ".concat(n.chapter.number),n.chapter.name&&(e+=": ".concat(n.chapter.name)),e+="."):n.link="".concat(n.link,"?section=chapters"),n.chaptersCount&&!n.chapter){var i=Object(u.a)(n.chaptersCount,"новую","новых","новых"),a=Object(u.a)(n.chaptersCount,"главу","главы","глав");e="Добавил <b>".concat(n.chaptersCount,"</b> ").concat(i," ").concat(a,".")}}else e=p[this.notification.type].text(this.notification.data)}else t=p[this.notification.type].img,e=p[this.notification.type].text(this.notification.data),t||(/deny/.test(this.notification.type)&&(t="".concat(d,"/sad.svg")),/accept/.test(this.notification.type)&&(t="".concat(d,"/smile.svg")));this.imgUrl=t,this.titleByType=e},mounted:function(){s.j&&(this._hammerManager=new a.a.Manager(this.$el,{recognizers:[[a.a.Pan,{direction:a.a.DIRECTION_HORIZONTAL}]]}),this._hammerManager.on("panstart",this.panStart),this._hammerManager.on("panend",this.panEnd),this._hammerManager.on("panleft panright",this.panMove))},beforeDestroy:function(){this._hammerManager&&(this._hammerManager.off("panleft panright",this.panMove),this._hammerManager.off("panstart",this.panStart),this._hammerManager.off("panend",this.panEnd))},methods:{markAsRead:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.which||t.keyCode;-1===[1,2].indexOf(r)||1===r&&this._isDragging||(2===r&&(n=!0),requestAnimationFrame(function(){return e.markRead(n)}))},markRead:function(t){Object(f.a)(this.notification.id,this.notification.data.link,t),t&&this.$emit("remove",this.notification.id)},panStart:function(){this._isDragging=!0,this.$refs.notificationItem.style.transition="none",l.g.add(this.$el,"is-dragable")},panMove:function(t){if(this._isDragging){var e=o()(t.deltaX,0,90);this.$refs.notificationItem.style.transform="translateX(".concat(e,"px)")}},panEnd:function(t){var e=this;!this._isDragging||t.deltaX<0||(this.$refs.notificationItem.style.transition="",this._isDragging=!1,t.deltaX>=80?this.markRead(!0):requestAnimationFrame(function(){e.$refs.notificationItem.style.transform=""}))}}}},qjwg:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-comments",{attrs:{"current-order":t.currentOrder,loading:t.loading,"show-partials":t.showPartialComments},on:{"sort-changed":t.sortChanged,"show-all-comments":t.showAllComments},scopedSlots:t._u([{key:"footer-button",fn:function(){return[n("div",{staticClass:"comments__load-page"},[t.hasNextPage?n("button",{staticClass:"button button_block",class:{"button_loading-inv":t.pageLoading},attrs:{disabled:t.pageLoading},on:{click:t.nextPage}},[t._v("\n        Показать ещё комментарии\n      ")]):t._e()])]},proxy:!0}])})},staticRenderFns:[]}},qqLQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:String}}},qrdl:function(t,e){t.exports=function(){}},qwTf:function(t,e,n){var r=n("TQ3y").Uint8Array;t.exports=r},r54x:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},r66C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{visible:{type:Boolean,required:!0}},methods:{start:function(t){t.style.height="".concat(t.scrollHeight,"px")},end:function(t){t.style.height=""}}}},r8hV:function(t,e,n){var r=n("VU/8")(n("VB+d"),n("6f0J"),!1,null,null,null);t.exports=r.exports},rCVp:function(t,e,n){var r=n("1C79");t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},rInL:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-folders"},[n("div",{staticClass:"menu menu_default",class:[t.size&&"menu_"+t.size]},[t._l(t.folders,function(e){return n("div",{key:e.id,staticClass:"menu__item text-truncate",on:{click:function(n){return t.onMenuItemClick(e)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}),t._v(" "),t.showDeletionButton?n("div",{staticClass:"menu__item text-truncate",attrs:{"data-status":"default"},on:{click:function(e){return t.onMenuItemClick({id:null})}}},[t._v("\n      Удалить из списка\n    ")]):t._e()],2),t._v(" "),t.enableCreation?n("create-bookmark-folder-input",{attrs:{size:t.size},on:{created:function(e){return t.$emit("created",e)}}}):t._e()],1)},staticRenderFns:[]}},raVe:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},rcbO:function(t,e,n){var r=n("jDxG");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("3691a56c",r,!0,{})},rjj0:function(t,e,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o=n("tTVk"),i={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,u=!1,l=function(){},f=null,d="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t){for(var e=0;e<t.length;e++){var n=t[e],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(m(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(m(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,n,r=document.querySelector("style["+d+'~="'+t.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(h){var o=c++;r=s||(s=v()),e=y.bind(null,r,o,!1),n=y.bind(null,r,o,!0)}else r=v(),e=function(t,e){var n=e.css,r=e.media,o=e.sourceMap;r&&t.setAttribute("media",r);f.ssrId&&t.setAttribute(d,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}t.exports=function(t,e,n,r){u=n,f=r||{};var a=o(t,e);return p(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r];(c=i[s.id]).refs--,n.push(c)}e?p(a=o(t,e)):a=[];for(r=0;r<n.length;r++){var c;if(0===(c=n[r]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete i[c.id]}}}};var g,b=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function y(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},rpnb:function(t,e,n){var r=n("tHks")();t.exports=r},rprB:function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},rxKx:function(t,e,n){var r;!function(o,i,a,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=i.createElement("div"),f="function",d=Math.round,h=Math.abs,p=Date.now;function v(t,e,n){return setTimeout(w(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function b(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var y=b(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===s)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),_=b(function(t,e){return y(t,e,!0)},"merge","Use `assign`.");function O(t,e,n){var r,o=e.prototype;(r=t.prototype=Object.create(o)).constructor=t,r._super=o,n&&c(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function k(t,e){return typeof t==f?t.apply(e&&e[0]||s,e):t}function j(t,e){return t===s?e:t}function x(t,e,n){g(T(e),function(e){t.addEventListener(e,n,!1)})}function C(t,e,n){g(T(e),function(e){t.removeEventListener(e,n,!1)})}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function T(t){return t.trim().split(/\s+/g)}function A(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function N(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];A(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function I(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<u.length;){if((r=(n=u[i])?n+o:e)in t)return r;i++}return s}var M=1;function L(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var D="ontouchstart"in o,R=I(o,"PointerEvent")!==s,q=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,F=1,U=2,z=4,H=8,$=1,W=2,G=4,Y=8,V=16,K=W|G,Z=Y|V,J=K|Z,X=["x","y"],Q=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){k(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&F&&r-o==0,a=e&(z|H)&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=nt(e));o>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,c=a?a.center:i.center,u=e.center=rt(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=st(c,u),e.distance=at(c,u),function(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==F&&i.eventType!==z||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}(n,e),e.offsetDirection=it(e.deltaX,e.deltaY);var l=ot(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,e.scale=a?(f=a.pointers,d=r,at(d[0],d[1],Q)/at(f[0],f[1],Q)):1,e.rotation=a?function(t,e){return st(e[1],e[0],Q)+st(t[1],t[0],Q)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,o,i,a=t.lastInterval||e,c=e.timeStamp-a.timeStamp;if(e.eventType!=H&&(c>B||a.velocity===s)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=ot(c,u,l);r=f.x,o=f.y,n=h(f.x)>h(f.y)?f.x:f.y,i=it(u,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}(n,e);var f,d;var v=t.element;E(e.srcEvent.target,v)&&(v=e.srcEvent.target);e.target=v}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:rt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rt(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:d(n/e),y:d(r/e)}}function ot(t,e,n){return{x:e/t||0,y:n/t||0}}function it(t,e){return t===e?$:h(t)>=h(e)?t<0?W:G:e<0?Y:V}function at(t,e,n){n||(n=X);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function st(t,e,n){n||(n=X);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(L(this.element),this.evWin,this.domHandler)}};var ct={mousedown:F,mousemove:U,mouseup:z},ut="mousedown",lt="mousemove mouseup";function ft(){this.evEl=ut,this.evWin=lt,this.pressed=!1,tt.apply(this,arguments)}O(ft,tt,{handler:function(t){var e=ct[t.type];e&F&&0===t.button&&(this.pressed=!0),e&U&&1!==t.which&&(e=z),this.pressed&&(e&z&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:F,pointermove:U,pointerup:z,pointercancel:H,pointerout:H},ht={2:"touch",3:"pen",4:"mouse",5:"kinect"},pt="pointerdown",vt="pointermove pointerup pointercancel";function mt(){this.evEl=pt,this.evWin=vt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(pt="MSPointerDown",vt="MSPointerMove MSPointerUp MSPointerCancel"),O(mt,tt,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=dt[r],i=ht[t.pointerType]||t.pointerType,a="touch"==i,s=A(e,t.pointerId,"pointerId");o&F&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(z|H)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var gt={touchstart:F,touchmove:U,touchend:z,touchcancel:H},bt="touchstart",yt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=bt,this.evWin=yt,this.started=!1,tt.apply(this,arguments)}O(_t,tt,{handler:function(t){var e=gt[t.type];if(e===F&&(this.started=!0),this.started){var n=function(t,e){var n=P(t.touches),r=P(t.changedTouches);e&(z|H)&&(n=N(n.concat(r),"identifier",!0));return[n,r]}.call(this,t,e);e&(z|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Ot={touchstart:F,touchmove:U,touchend:z,touchcancel:H},wt="touchstart touchmove touchend touchcancel";function kt(){this.evTarget=wt,this.targetIds={},tt.apply(this,arguments)}O(kt,tt,{handler:function(t){var e=Ot[t.type],n=function(t,e){var n=P(t.touches),r=this.targetIds;if(e&(F|U)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=P(t.changedTouches),s=[],c=this.target;if(i=n.filter(function(t){return E(t.target,c)}),e===F)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;o=0;for(;o<a.length;)r[a[o].identifier]&&s.push(a[o]),e&(z|H)&&delete r[a[o].identifier],o++;if(!s.length)return;return[N(i.concat(s),"identifier",!0),s]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var jt=2500,xt=25;function Ct(){tt.apply(this,arguments);var t=w(this.handler,this);this.touch=new kt(this.manager,t),this.mouse=new ft(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},jt)}}O(Ct,tt,{handler:function(t,e,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(t,e){t&F?(this.primaryTouch=e.changedPointers[0].identifier,Et.call(this,e)):t&(z|H)&&Et.call(this,e)}).call(this,e,n);else if(o&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=xt&&a<=xt)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var St=I(l.style,"touchAction"),Tt=St!==s,At="auto",Pt="manipulation",Nt="none",It="pan-x",Mt="pan-y",Lt=function(){if(!Tt)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}();function Dt(t,e){this.manager=t,this.set(e)}Dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Tt&&this.manager.element.style&&Lt[t]&&(this.manager.element.style[St]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){k(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(S(t,Nt))return Nt;var e=S(t,It),n=S(t,Mt);if(e&&n)return Nt;if(e||n)return e?It:Mt;if(S(t,Pt))return Pt;return At}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,o=S(r,Nt)&&!Lt[Nt],i=S(r,Mt)&&!Lt[Mt],a=S(r,It)&&!Lt[It];if(o){var s=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(s&&c&&u)return}if(!a||!i)return o||i&&n&K||a&&n&Z?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Rt=1,qt=2,Bt=4,Ft=8,Ut=Ft,zt=16;function Ht(t){this.options=c({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=j(this.options.enable,!0),this.state=Rt,this.simultaneous={},this.requireFail=[]}function $t(t){return t&zt?"cancel":t&Ft?"end":t&Bt?"move":t&qt?"start":""}function Wt(t){return t==V?"down":t==Y?"up":t==W?"left":t==G?"right":""}function Gt(t,e){var n=e.manager;return n?n.get(t):t}function Yt(){Ht.apply(this,arguments)}function Vt(){Yt.apply(this,arguments),this.pX=null,this.pY=null}function Kt(){Yt.apply(this,arguments)}function Zt(){Ht.apply(this,arguments),this._timer=null,this._input=null}function Jt(){Yt.apply(this,arguments)}function Xt(){Yt.apply(this,arguments)}function Qt(){Ht.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=j(e.recognizers,te.defaults.preset),new ee(t,e)}Ht.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Gt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Gt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===A(e,t=Gt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Gt(t,this);var e=A(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<Ft&&r(e.options.event+$t(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=Ft&&r(e.options.event+$t(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Rt)))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!k(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ut|zt|32)&&(this.state=Rt),this.state=this.process(e),this.state&(qt|Bt|Ft|zt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},O(Yt,Ht,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(qt|Bt),o=this.attrTest(t);return r&&(n&H||!o)?e|zt:r||o?n&z?e|Ft:e&qt?e|Bt:qt:32}}),O(Vt,Yt,{defaults:{event:"pan",threshold:10,pointers:1,direction:J},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(Mt),t&Z&&e.push(It),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&K?(o=0===i?$:i<0?W:G,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?$:a<0?Y:V,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return Yt.prototype.attrTest.call(this,t)&&(this.state&qt||!(this.state&qt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Wt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),O(Kt,Yt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Nt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&qt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),O(Zt,Ht,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[At]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(z|H)&&!o)this.reset();else if(t.eventType&F)this.reset(),this._timer=v(function(){this.state=Ut,this.tryEmit()},e.time,this);else if(t.eventType&z)return Ut;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ut&&(t&&t.eventType&z?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),O(Jt,Yt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Nt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&qt)}}),O(Xt,Yt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|Z,pointers:1},getTouchAction:function(){return Vt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(K|Z)?e=t.overallVelocity:n&K?e=t.overallVelocityX:n&Z&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&t.eventType&z},emit:function(t){var e=Wt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),O(Qt,Ht,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Pt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&F&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=z)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=v(function(){this.state=Ut,this.tryEmit()},e.interval,this),qt):Ut}return 32},failTimeout:function(){return this._timer=v(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Jt,{enable:!1}],[Kt,{enable:!1},["rotate"]],[Xt,{direction:K}],[Vt,{direction:K},["swipe"]],[Qt],[Qt,{event:"doubletap",taps:2},["tap"]],[Zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var n;this.options=c({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(R?mt:q?kt:D?Ct:ft))(n,et),this.touchAction=new Dt(this,this.options.touchAction),ne(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ne(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,function(o,i){n=I(r.style,i),e?(t.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&Ut)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(qt|Bt|Ft)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof Ht)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=A(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return g(T(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return g(T(t),function(t){e?n[t]&&n[t].splice(A(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(te,{INPUT_START:F,INPUT_MOVE:U,INPUT_END:z,INPUT_CANCEL:H,STATE_POSSIBLE:Rt,STATE_BEGAN:qt,STATE_CHANGED:Bt,STATE_ENDED:Ft,STATE_RECOGNIZED:Ut,STATE_CANCELLED:zt,STATE_FAILED:32,DIRECTION_NONE:$,DIRECTION_LEFT:W,DIRECTION_RIGHT:G,DIRECTION_UP:Y,DIRECTION_DOWN:V,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Z,DIRECTION_ALL:J,Manager:ee,Input:tt,TouchAction:Dt,TouchInput:kt,MouseInput:ft,PointerEventInput:mt,TouchMouseInput:Ct,SingleTouchInput:_t,Recognizer:Ht,AttrRecognizer:Yt,Tap:Qt,Pan:Vt,Swipe:Xt,Pinch:Kt,Rotate:Jt,Press:Zt,on:x,off:C,each:g,merge:_,extend:y,assign:c,inherit:O,bindFn:w,prefixed:I}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=te,(r=function(){return te}.call(e,n,e,t))===s||(t.exports=r)}(window,document)},ryCm:function(t,e,n){var r=n("VU/8")(n("6gl1"),n("8jzl"),!1,null,null,null);t.exports=r.exports},"s+XX":function(t,e,n){var r=n("VU/8")(n("9O5E"),n("2lO8"),!1,null,null,null);t.exports=r.exports},sBat:function(t,e,n){var r=n("kxzG"),o=1/0,i=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===o||t===-o?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}},sJvV:function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},sOR5:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},sTWb:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},siPu:function(t,e,n){var r=n("izte"),o=n("17Rs"),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},t8rQ:function(t,e,n){var r=n("7e4z"),o=n("G0Wc"),i=n("bGc4");t.exports=function(t){return i(t)?r(t,!0):o(t)}},tHks:function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}},tJnk:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast-item-wrap"},[n("div",{staticClass:"toast-item",class:["is-"+t.item.status,t.item.closeable&&"toast-item_closeable"],on:{click:t.onItemClick}},[n("div",{staticClass:"toast-item__icon"},[n("i",{staticClass:"fa",class:t.iconByStatus})]),t._v(" "),n("div",{staticClass:"toast-item__text",domProps:{innerHTML:t._s(t.item.text)}}),t._v(" "),t.item.closeable?n("div",{staticClass:"toast-item__close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])]):t._e()])])},staticRenderFns:[]}},tO4o:function(t,e,n){var r=n("yCNF");t.exports=function(t){return t==t&&!r(t)}},tTVk:function(t,e){t.exports=function(t,e){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=i[0],s={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}},tk99:function(t,e,n){var r=n("VU/8")(n("uC+2"),n("GrS8"),!1,null,null,null);t.exports=r.exports},tuWI:function(t,e,n){var r=n("VU/8")(n("qqLQ"),n("vYgC"),!1,null,null,null);t.exports=r.exports},tv3T:function(t,e,n){var r=n("i4ON"),o=n("nw3t");t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=i?i(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),a?o(n,u,l):r(n,u,l)}return n}},tyBP:function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"u/4p":function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,o=r(t),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}},u5FJ:function(t,e,n){"use strict";var r=function(t){return t&&t instanceof Node},o=function(t){return t&&t instanceof NodeList},i=n("Jaym");function a(t,e,n){if(r(t)){if(void 0===n){var o=t.getAttribute(e);return a.has(t,e)?void 0===o?"":o:void 0}t.setAttribute(e,n)}}a.has=function(t,e){return r(t)&&t.hasAttribute(e)},a.remove=function(t){if(r(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];n.forEach(function(e){return t.removeAttribute(e)})}},a.getObject=function(t){var e={};if(r(t)){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];Object(i.f)(o,function(n){e[n]=a(t,n)})}return e};var s,c={add:function(t){if(r(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];Object(i.f)(n,function(e){t.classList.add(e)})}},remove:function(t){if(r(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];Object(i.f)(n,function(e){t.classList.remove(e)})}},toggle:function(t,e,n){r(t)&&t.classList.toggle(e,n)},has:function(t,e){if(r(t))return t.classList.contains(e)}},u=function(t){return t&&"string"==typeof t},l=function(t,e){if(u(t))return(e||document).querySelector(t)},f=function(t,e){if(u(t))return(e||document).querySelectorAll(t)},d=/\s+/,h=function(t){if(t)return"string"==typeof t?f(t):o(t)||Array.isArray(t)?t:[t]},p=function(t,e,n,r){var o=h(t);if(o&&n&&e){e=e.trim().split(d);for(var i=o.length;i--;){var a=o[i];if(a&&a.addEventListener)for(var s=0;s<e.length;s++)a.addEventListener(e[s],n,!!r)}}},v=function(t,e,n){var r=h(t);if(r&&n&&e)for(var o=r.length;o--;){var i=r[o];i&&i.removeEventListener&&i.removeEventListener(e,n)}},m=function(t,e,n){p(t,e,function r(o){n.call(this,o),v(t,e,r)})},g=function(t,e,n,r,o){if(t){var i=function(t){var e=t.target.closest(n);e&&r.call(e,t,e)};return p(t,e,i,o),function(){v(t,e,i)}}};function b(t,e){if(r(t)){e||(e=t.parentNode);for(var n=e.children,o=n.length;o--;)if(n[o]===t)return o}}function y(t){if(!r(t))return 0;var e=t.getBoundingClientRect(),n=e.top,o=e.bottom,i=e.left,a=e.right;return{top:pageYOffset+n,bottom:pageYOffset+o,left:i,right:a}}var _=!1,O=document.createElement("div"),w={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var k in w)if(void 0!==O.style[k]){_=!0,s=w[k];break}var j={supported:_,once:function(t,e){if(!_)return e();m(t,s,e)},on:function(t,e){p(t,s,e)}};n.d(e,"f",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"j",function(){return r}),n.d(e,"k",function(){return o}),n.d(e,"l",function(){return l}),n.d(e,"m",function(){return f}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return v}),n.d(e,"a",function(){return g}),n.d(e,"d",function(){return m}),n.d(e,"h",function(){return b}),n.d(e,"i",function(){return y}),n.d(e,"e",function(){return j})},"uC+2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("I3G/"),a=n.n(i),s=n("abp6"),c=n.n(s),u=n("+35/"),l=n.n(u),f=n("2Ot3"),d=n.n(f),h=n("M7Fo"),p=n("7/oE");function v(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}e.default=a.a.extend({components:{VueModal:c.a,CreateBookmarkFolderInput:l.a,EditBookmarkFolderItem:d.a},mixins:[Object(p.a)()],computed:{folders:function(){return h.b.folders.filter(function(t){return t.id>5})}},methods:{created:function(){var t,e=(t=o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h.b.folders.push(e);case 1:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){v(i,r,o,a,s,"next",t)}function s(t){v(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),removed:function(t){h.b.folders=h.b.folders.filter(function(e){return e.id!==t.id})}}})},uCi2:function(t,e,n){var r=n("bIjD"),o=n("Ubhr");t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},uIr7:function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},uLhX:function(t,e,n){var r=n("NkRn"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},uN7r:function(t,e,n){var r=n("JyYQ"),o=n("+JtJ"),i=n("6PBa");t.exports=function(t,e){return i(t,o(r(e)))}},"uT+O":function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comments__form"},[this.showForm?e("comment-reply"):e("div",{staticClass:"comments__pseudo-form",on:{click:this.toggleForm}},[this._v("\n    Написать комментарий...\n  ")])],1)},staticRenderFns:[]}},uUYp:function(t,e,n){n("f9UU");var r=n("odTk");t.exports=r.Object.assign},"ue/d":function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},uieL:function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},ujcs:function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[n+h]=255&a,h+=p,a/=256,u-=8);t[n+h-p]|=128*v}},uyaC:function(t,e,n){var r=n("Ptqd"),o=n("jQas");t.exports={distanceInWords:r(),format:o()}},v8Dt:function(t,e,n){var r=n("pTUa");t.exports=function(t){return r(this,t).get(t)}},v9aJ:function(t,e,n){var r=n("M6Wl"),o=n("pQJ6")(r);t.exports=o},vAtx:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabs"},[n("div",{staticClass:"tabs__wrapper"},[n("ul",{directives:[{name:"magic-line",rawName:"v-magic-line"}],staticClass:"tabs__list tabs__list_center"},t._l(t.tabs,function(e,r){return n("li",{key:r,staticClass:"tabs__item",class:{tabs__item_active:r==t.active},on:{click:function(e){return t.changeTab(r)}}},[n("span",[t._v(t._s(e))]),t._v(" "),n("span",{staticClass:"tabs__label"},[t._v(t._s(t.count[r]))])])}),0)])])},staticRenderFns:[]}},vBvW:function(t,e,n){var r=n("mXYp");t.exports=function(t,e){return r(Date.now(),t,e)}},vYgC:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader-wrapper"},[e("div",{staticClass:"loader-circle",class:this.size&&"loader-circle_"+this.size})])},staticRenderFns:[]}},vi0E:function(t,e,n){var r=n("f931")(Object.getPrototypeOf,Object);t.exports=r},vrSs:function(t,e,n){"use strict";var r={a11y:!1,trigger:"click",placement:"bottom-start",animation:"shift-toward",duration:200,distance:0,animateFill:!1,theme:"dropdown"},o={a11y:!1,animateFill:!1,theme:"default",duration:[250,0],distance:5,animation:"fade"};function i(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={dragMode:"move",viewMode:1,aspectRatio:1,guides:!1,center:!1,cropBoxMovable:!1,cropBoxResizable:!1,toggleDragModeOnDblclick:!1},c=i({},s,{aspectRatio:1450/540,imageSize:"1450x540"}),u=i({},s,{aspectRatio:250/350,imageSize:"250x350"}),l=n("f6yZ"),f=["currently-reading","plan-to-read","on-hold","completed","favourites"],d=[{id:1,name:"Читаю"},{id:2,name:"В планах"},{id:3,name:"Брошено"},{id:4,name:"Прочитано"},{id:5,name:"Любимые"}],h=d.reduce(function(t,e){return t[e.id]=e.name,t},{}),p={0:"Ожидает модерации",1:"Принято",2:"Отклонено",3:"Принято автоматически"},v={manga:1,ranobe:3,hentai:4,domainsById:{1:"mangalib.me",3:"ranobelib.me",4:"hentailib.me"},get id(){return this.isHentai?this.hentai:this.isRanobe?this.ranobe:this.isManga?this.manga:null},get isRanobe(){return/ranobe|test3\.mangalib/.test(document.domain)},get isManga(){return/mangalib|yaoilib|hentailib/.test(document.domain)},get isHentai(){return/hentailib/.test(document.domain)},isNot:function(t){return t!==this.id}};n.d(e,"j",function(){return m}),n.d(e,"f",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"g",function(){return l.a}),n.d(e,!1,function(){return f}),n.d(e,!1,function(){return d}),n.d(e,"a",function(){return h}),n.d(e,"i",function(){return p}),n.d(e,"h",function(){return v});var m=document.body.classList.contains("page_mobile")},"vw/H":function(t,e,n){var r=n("+opI"),o=n("eTT4"),i=Object.prototype;o!==i.toString&&r(i,"toString",o,{unsafe:!0})},w9Mt:function(t,e,n){var r=n("ZD0O"),o=n("2N6f")(function(t,e){return null==t?{}:r(t,e)});t.exports=o},wC5p:function(t,e,n){"use strict";var r=n("u5FJ"),o=n("BV6Q"),i=n("Jaym");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d={tabListSelector:".tabs__list",tabContentSelector:".tabs__content",tabItemSelector:".tabs__item",active:"tabs__item_active",line:!1,historyKey:"section"},h=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=u(this,l(e).call(this))).options=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},d,{},n),o.el=t,o.tabsList=Object(r.l)(o.options.tabListSelector,t),o.options.preventInit||o.init(),o}var n,a,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i["a"]),n=e,(a=[{key:"init",value:function(){var t=Object(r.l)(".".concat(this.options.active),this.tabsList);if(this.options.history){var e=Object(i.g)();t=Object(r.l)('[data-key="'.concat(e[this.options.historyKey],'"]'),this.tabsList)}t||(t=Object(r.l)(".".concat(this.options.active),this.tabsList)),t||(t=Object(r.l)(this.options.tabItemSelector,this.tabsList)),this.onTabClick(null,t),this.bindEvents(),this.options.line&&this.tabsList&&new o.a(this.tabsList)}},{key:"bindEvents",value:function(){Object(r.a)(this.tabsList,"click",this.options.tabItemSelector,this.onTabClick.bind(this)),this.options.history&&Object(r.c)(window,"popstate",this.onPopState)}},{key:"onTabClick",value:function(t,e){if(e){var n=Object(r.h)(e,e.parentNode),o=Object(r.f)(e,"data-key");if(this.showContent(n),this.setActiveTab(e),this.options.history&&o){var i=this.options.historyKey,a=s({},i,o);window.history.replaceState(a,null,"".concat(location.pathname,"?").concat(i,"=").concat(o))}this.emit("changed",{index:n,name:o})}}},{key:"onPopState",value:function(){}},{key:"showContent",value:function(t){var e=Object(r.l)(".".concat("tabs__content_show"),this.el),n=Object(r.m)(this.options.tabContentSelector,this.el);e&&r.g.remove(e,"tabs__content_show"),r.g.add(n[t],"tabs__content_show")}},{key:"setActiveTab",value:function(t){var e=this.options.active,n=Object(r.l)(".".concat(e),this.tabsList);n&&r.g.remove(n,e),r.g.add(t,e)}}])&&c(n.prototype,a),h&&c(n,h),e}();e.a=h},wSKX:function(t,e){t.exports=function(t){return t}},whWw:function(t,e,n){var r=n("HAas");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},wjiB:function(t,e,n){var r=n("r54x");t.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},wkr2:function(t,e,n){var r=n("q0qZ"),o=n("1rEs"),i=n("C1ru");t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},wzd1:function(t,e,n){var r=n("l/2K"),o=n("EJk4"),i=n("siPu"),a=n("HVdB"),s=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},xA5w:function(t,e,n){var r=n("z4BQ"),o=n("607n"),i=36e5,a=6e4,s=2,c=/[T ]/,u=/:/,l=/^(\d{2})$/,f=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],d=/^(\d{4})/,h=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],p=/^-(\d{2})$/,v=/^-?(\d{3})$/,m=/^-?(\d{2})-?(\d{2})$/,g=/^-?W(\d{2})$/,b=/^-?W(\d{2})-?(\d{1})$/,y=/^(\d{2}([.,]\d*)?)$/,_=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,O=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,w=/([Z+-].*)$/,k=/^(Z)$/,j=/^([+-])(\d{2})$/,x=/^([+-])(\d{2}):?(\d{2})$/;function C(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var o=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}t.exports=function(t,e){if(o(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=(e||{}).additionalDigits;n=null==n?s:Number(n);var E=function(t){var e,n={},r=t.split(c);if(u.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1]),e){var o=w.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}(t),S=function(t,e){var n,r=f[e],o=h[e];if(n=d.exec(t)||o.exec(t)){var i=n[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(n=l.exec(t)||r.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(E.date,n),T=S.year,A=function(t,e){if(null===e)return null;var n,r,o,i;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=p.exec(t))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(e,o),r;if(n=v.exec(t)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(e,0,a),r}if(n=m.exec(t)){r=new Date(0),o=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(e,o,s),r}if(n=g.exec(t))return i=parseInt(n[1],10)-1,C(e,i);if(n=b.exec(t)){i=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return C(e,i,c)}return null}(S.restDateString,T);if(A){var P,N=A.getTime(),I=0;if(E.time&&(I=function(t){var e,n,r;if(e=y.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*i;if(e=_.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*i+r*a;if(e=O.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var o=parseFloat(e[3].replace(",","."));return n%24*i+r*a+1e3*o}return null}(E.time)),E.timezone)q=E.timezone,P=((B=k.exec(q))?0:(B=j.exec(q))?(F=60*parseInt(B[2],10),"+"===B[1]?-F:F):(B=x.exec(q))?(F=60*parseInt(B[2],10)+parseInt(B[3],10),"+"===B[1]?-F:F):0)*a;else{var M=N+I,L=new Date(M);P=r(L);var D=new Date(M);D.setDate(L.getDate()+1);var R=r(D)-r(L);R>0&&(P+=R)}return new Date(N+I+P)}var q,B,F;return new Date(t)}},xDUa:function(t,e,n){var r=n("mWhC"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},xond:function(t,e,n){var r=n("FCuZ"),o=n("09Qt"),i=n("t8rQ");t.exports=function(t){return r(t,i,o)}},yCNF:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},"yPE/":function(t,e,n){(function(e){var n;"undefined"!=typeof self&&self,n=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),a=n(45),s=n(46),c=n(47),u=n(48),l=n(49),f=n(12),d=n(32),h=n(33),p=n(31),v=n(1),m={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:a.default,Block:c.default,Inline:s.default,Text:l.default,Attributor:{Attribute:f.default,Class:d.default,Style:h.default,Store:p.default}};e.default=m},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return o(e,t),e}(Error);e.ParchmentError=i;var a,s={},c={},u={},l={};function f(t,e){var n;if(void 0===e&&(e=a.ANY),"string"==typeof t)n=l[t]||s[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=l.text;else if("number"==typeof t)t&a.LEVEL&a.BLOCK?n=l.block:t&a.LEVEL&a.INLINE&&(n=l.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var o in r)if(n=c[r[o]])break;n=n||u[t.tagName]}return null==n?null:e&a.LEVEL&n.scope&&e&a.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(a=e.Scope||(e.Scope={})),e.create=function(t,e){var n=f(t);if(null==n)throw new i("Unable to create "+t+" blot");var r=n;return new r(t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e),e)},e.find=function t(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:r?t(n.parentNode,r):null},e.query=f,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(e){return t(e)});var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");l[r.blotName||r.attrName]=r,"string"==typeof r.keyName?s[r.keyName]=r:(null!=r.className&&(c[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(t){return t.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(t){null!=u[t]&&null!=r.className||(u[t]=r)})));return r}},function(t,e,n){var r=n(51),o=n(11),i=n(3),a=n(20),s=String.fromCharCode(0),c=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};c.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},c.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},c.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},c.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=i(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},c.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},c.prototype.filter=function(t){return this.ops.filter(t)},c.prototype.forEach=function(t){this.ops.forEach(t)},c.prototype.map=function(t){return this.ops.map(t)},c.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(r){(t(r)?e:n).push(r)}),[e,n]},c.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},c.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t},0)},c.prototype.length=function(){return this.reduce(function(t,e){return t+a.length(e)},0)},c.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],r=a.iterator(this.ops),o=0;o<e&&r.hasNext();){var i;o<t?i=r.next(t-o):(i=r.next(e-o),n.push(i)),o+=a.length(i)}return new c(n)},c.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),r=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var s=i.retain;"insert"===e.peekType()&&e.peekLength()<=s;)s-=e.peekLength(),r.push(e.next());i.retain-s>0&&n.next(i.retain-s)}for(var u=new c(r);e.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===e.peekType())u.push(e.next());else{var l=Math.min(e.peekLength(),n.peekLength()),f=e.next(l),d=n.next(l);if("number"==typeof d.retain){var h={};"number"==typeof f.retain?h.retain=l:h.insert=f.insert;var p=a.attributes.compose(f.attributes,d.attributes,"number"==typeof f.retain);if(p&&(h.attributes=p),u.push(h),!n.hasNext()&&o(u.ops[u.ops.length-1],h)){var v=new c(e.rest());return u.concat(v).chop()}}else"number"==typeof d.delete&&"number"==typeof f.retain&&u.push(d)}return u.chop()},c.prototype.concat=function(t){var e=new c(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},c.prototype.diff=function(t,e){if(this.ops===t.ops)return new c;var n=[this,t].map(function(e){return e.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")}).join("")}),i=new c,u=r(n[0],n[1],e),l=a.iterator(this.ops),f=a.iterator(t.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case r.INSERT:n=Math.min(f.peekLength(),e),i.push(f.next(n));break;case r.DELETE:n=Math.min(e,l.peekLength()),l.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(l.peekLength(),f.peekLength(),e);var s=l.next(n),c=f.next(n);o(s.insert,c.insert)?i.retain(n,a.attributes.diff(s.attributes,c.attributes)):i.push(c).delete(n)}e-=n}}),i.chop()},c.prototype.eachLine=function(t,e){e=e||"\n";for(var n=a.iterator(this.ops),r=new c,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=a.length(i)-n.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(e,s)-s:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===t(r,n.next(1).attributes||{},o))return;o+=1,r=new c}}r.length()>0&&t(r,{},o)},c.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=a.iterator(this.ops),r=a.iterator(t.ops),o=new c;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),s=n.next(i),u=r.next(i);if(s.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(s.attributes,u.attributes,e))}else o.retain(a.length(n.next()));return o.chop()},c.prototype.transformPosition=function(t,e){e=!!e;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<t||!e)&&(t+=o),r+=o):t-=Math.min(o,t-r)}return t},t.exports=c},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},s=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e,o=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(e in t);return void 0===e||n.call(t,e)},c=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(i)return i(t,e).value}return t[e]};t.exports=function t(){var e,n,r,o,i,l,f=arguments[0],d=1,h=arguments.length,p=!1;for("boolean"==typeof f&&(p=f,f=arguments[1]||{},d=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});d<h;++d)if(null!=(e=arguments[d]))for(n in e)r=u(f,n),f!==(o=u(e,n))&&(p&&o&&(s(o)||(i=a(o)))?(i?(i=!1,l=r&&a(r)?r:[]):l=r&&s(r)?r:{},c(f,{name:n,newValue:t(p,l,o)})):void 0!==o&&c(f,{name:n,newValue:o}));return f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=f(n(3)),a=f(n(2)),s=f(n(0)),c=f(n(16)),u=f(n(6)),l=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,s.default.Embed),r(e,[{key:"attach",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=s.default.query(t,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,n,r){if("string"==typeof n&&n.endsWith("\n")){var i=s.default.create(m.blotName);this.parent.insertBefore(i,0===t?this:this.next),i.insertAt(0,n.slice(0,-1))}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r)}}]),e}();v.scope=s.default.Scope.BLOCK_BLOT;var m=function(t){function e(t){d(this,e);var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return p(e,s.default.Block),r(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(t,e){return 0===e.length()?t:t.insert(e.value(),g(e))},new a.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,r,i){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?t+n===this.length()&&this.format(r,i):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),r,i),this.cache={})}},{key:"insertAt",value:function(t,n,r){if(null!=r)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);if(0!==n.length){var i=n.split("\n"),a=i.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;i.reduce(function(t,e){return(s=s.split(t,!0)).insertAt(0,e),e.length},t+a.length)}}},{key:"insertBefore",value:function(t,n){var r=this.children.head;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),r instanceof c.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},i}}]),e}();function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,i.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:g(t.parent,e))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[u.default,s.default.Embed,l.default],e.bubbleFormats=g,e.BlockEmbed=v,e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(50);var a=m(n(2)),s=m(n(14)),c=m(n(8)),u=m(n(9)),l=m(n(0)),f=n(15),d=m(f),h=m(n(3)),p=m(n(10)),v=m(n(34));function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=(0,p.default)("quill"),y=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=_(e,r),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new c.default,this.scroll=l.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(c.default.events.EDITOR_CHANGE,function(t){t===c.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(c.default.events.SCROLL_UPDATE,function(t,e){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;O.call(n,function(){return n.editor.update(null,e,o)},t)});var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),p.default.level(t)}},{key:"find",value:function(t){return t.__quill||l.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&b.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o=t.attrName||t.blotName;"string"==typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach(function(r){n.register(r,t[r],e)})}else null==this.imports[t]||r||b.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?l.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),i(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,i=w(t,e,n),a=o(i,4);return t=a[0],e=a[1],n=a[3],O.call(this,function(){return r.editor.deleteText(t,e)},n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;return O.call(this,function(){var r=n.getSelection(!0),o=new a.default;if(null==r)return o;if(l.default.query(t,l.default.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,g({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,g({},t,e))}return n.setSelection(r,c.default.sources.SILENT),o},r)}},{key:"formatLine",value:function(t,e,n,r,i){var a,s=this,c=w(t,e,n,r,i),u=o(c,4);return t=u[0],e=u[1],a=u[2],i=u[3],O.call(this,function(){return s.editor.formatLine(t,e,a)},i,t,0)}},{key:"formatText",value:function(t,e,n,r,i){var a,s=this,c=w(t,e,n,r,i),u=o(c,4);return t=u[0],e=u[1],a=u[2],i=u[3],O.call(this,function(){return s.editor.formatText(t,e,a)},i,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=w(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=w(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return O.call(this,function(){return o.editor.insertEmbed(e,n,r)},i,e)}},{key:"insertText",value:function(t,e,n,r,i){var a,s=this,c=w(t,0,n,r,i),u=o(c,4);return t=u[0],a=u[2],i=u[3],O.call(this,function(){return s.editor.insertText(t,e,a)},i,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var r=this,i=w(t,e,n),a=o(i,4);return t=a[0],e=a[1],n=a[3],O.call(this,function(){return r.editor.removeFormat(t,e)},n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return O.call(this,function(){t=new a.default(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),r.compose(o)},n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var i=w(e,n,r),a=o(i,4);e=a[0],n=a[1],r=a[3],this.selection.setRange(new f.Range(e,n),r),r!==c.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API,n=(new a.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return O.call(this,function(){return t=new a.default(t),e.editor.applyDelta(t,n)},n,!0)}}]),t}();function _(t,e){if((e=(0,h.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==y.DEFAULTS.theme){if(e.theme=y.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=v.default;var n=(0,h.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={})})});var r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce(function(t,e){var n=y.import("modules/"+e);return null==n?b.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,h.default)(!0,{},y.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function O(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===c.default.sources.USER)return new a.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,s=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=k(o,s,e):0!==r&&(o=k(o,n,r,e)),this.setSelection(o,c.default.sources.SILENT)),s.length()>0){var u,l,f=[c.default.events.TEXT_CHANGE,s,i,e];if((u=this.emitter).emit.apply(u,[c.default.events.EDITOR_CHANGE].concat(f)),e!==c.default.sources.SILENT)(l=this.emitter).emit.apply(l,f)}return s}function w(t,e,n,o,i){var a={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(i=o,o=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(i=o,o=n,n=e,e=0),"object"===(void 0===n?"undefined":r(n))?(a=n,i=o):"string"==typeof n&&(null!=o?a[n]=o:i=n),[t,e,a,i=i||c.default.sources.API]}function k(t,e,n,r){if(null==t)return null;var i=void 0,s=void 0;if(e instanceof a.default){var u=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,r!==c.default.sources.USER)}),l=o(u,2);i=l[0],s=l[1]}else{var d=[t.index,t.index+t.length].map(function(t){return t<e||t===e&&r===c.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),h=o(d,2);i=h[0],s=h[1]}return new f.Range(i,s-i)}y.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},y.events=c.default.events,y.sources=c.default.sources,y.version="1.3.7",y.imports={delta:a.default,parchment:l.default,"core/module":u.default,"core/theme":v.default},e.expandConfig=_,e.overload=w,e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=s(n(7)),a=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Inline),r(e,[{key:"formatAt",value:function(t,n,r,i){if(e.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var s=this.isolate(t,n);i&&s.wrap(r,i)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,i)}},{key:"optimize",value:function(t){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var r=e.order.indexOf(t),o=e.order.indexOf(n);return r>=0||o>=0?r-o:t===n?0:t<n?-1:1}}]),e}();c.allowedChildren=[c,a.default.Embed,i.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Text),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=i(n(54));function i(t){return t&&t.__esModule?t:{default:t}}var a=(0,i(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)})})});var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",a.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"emit",value:function(){a.log.apply(a,arguments),function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach(function(e){var r=e.node,o=e.handler;(t.target===r||r.contains(t.target))&&o.apply(void 0,[t].concat(n))})}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}();s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n};r.DEFAULTS={},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],o="warn";function i(t){if(r.indexOf(t)<=r.indexOf(o)){for(var e,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(e=console)[t].apply(e,i)}}function a(t){return r.reduce(function(e,n){return e[n]=i.bind(console,n,t),e},{})}i.level=a.level=function(t){o=t},e.default=a},function(t,e,n){var r=Array.prototype.slice,o=n(52),i=n(53),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var u,l;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(c(t)){if(!c(e))return!1;if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}try{var f=o(t),d=o(e)}catch(t){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),u=f.length-1;u>=0;u--)if(f[u]!=d[u])return!1;for(u=f.length-1;u>=0;u--)if(l=f[u],!a(t[l],e[l],n))return!1;return typeof t==typeof e}(t,e,n))};function s(t){return null===t||void 0===t}function c(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=f(n(2)),s=f(n(0)),c=f(n(4)),u=f(n(6)),l=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,u.default),e}();v.blotName="code",v.tagName="CODE";var m=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,c.default),o(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(function(e,n){return e.insert(n).insert("\n",t.formats())},new a.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var o=this.descendant(l.default,this.length()-1),a=r(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,r,o){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(t);if(!(i<0||i>=t+n)){var a=this.newlineIndex(t,!0)+1,c=i-a+1,u=this.isolate(a,c),l=u.next;u.format(r,o),l instanceof e&&l.formatAt(0,t-a+n-c,r,o)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var o=this.descendant(l.default,t),i=r(o,2),a=i[0],s=i[1];a.insertAt(s,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=s.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof s.default.Embed?e.remove():e.unwrap()})}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}();m.blotName="code-block",m.tagName="PRE",m.TAB="  ",e.Code=v,e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=g(n(2)),s=g(n(20)),c=g(n(0)),u=g(n(13)),l=g(n(24)),f=n(4),d=g(f),h=g(n(16)),p=g(n(21)),v=g(n(11)),m=g(n(3));function g(t){return t&&t.__esModule?t:{default:t}}var b=/^[ -~]*$/,y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return i(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce(function(t,e){if(1===e.insert){var n=(0,p.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,p.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)},new a.default)}(t)).reduce(function(t,a){var u=a.retain||a.delete||a.insert.length||1,l=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var h=a.insert;h.endsWith("\n")&&n&&(n=!1,h=h.slice(0,-1)),t>=i&&!h.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,h);var p=e.scroll.line(t),v=o(p,2),g=v[0],b=v[1],y=(0,m.default)({},(0,f.bubbleFormats)(g));if(g instanceof d.default){var _=g.descendant(c.default.Leaf,b),O=o(_,1)[0];y=(0,m.default)(y,(0,f.bubbleFormats)(O))}l=s.default.attributes.diff(y,l)||{}}else if("object"===r(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return t;e.scroll.insertAt(t,w,a.insert[w])}i+=u}return Object.keys(l).forEach(function(n){e.scroll.formatAt(t,u,n,l[n])}),t+u},0),t.reduce(function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new a.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(t,Math.max(e,1)),a=e;i.forEach(function(e){var i=e.length();if(e instanceof u.default){var s=t-e.offset(n.scroll),c=e.newlineIndex(s+a)-s+1;e.formatAt(s,c,o,r[o])}else e.format(o,r[o]);a-=i})}}),this.scroll.optimize(),this.update((new a.default).retain(t).retain(e,(0,p.default)(r)))}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(o){n.scroll.formatAt(t,e,o,r[o])}),this.update((new a.default).retain(t).retain(e,(0,p.default)(r)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new a.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach(function(t){var e=o(t,1)[0];e instanceof d.default?n.push(e):e instanceof c.default.Leaf&&r.push(e)}):(n=this.scroll.lines(t,e),r=this.scroll.descendants(c.default.Leaf,t,e));var i=[n,r].map(function(t){if(0===t.length)return{};for(var e=(0,f.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=_((0,f.bubbleFormats)(n),e)}return e});return m.default.apply(m.default,i)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return"string"==typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new a.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach(function(o){n.scroll.formatAt(t,e.length,o,r[o])}),this.update((new a.default).retain(t).insert(e,(0,p.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===d.default.blotName&&(!(t.children.length>1)&&t.children.head instanceof h.default)}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=this.scroll.line(t+e),i=o(r,2),s=i[0],c=i[1],l=0,f=new a.default;null!=s&&(l=s instanceof u.default?s.newlineIndex(c)-c+1:s.length()-c,f=s.delta().slice(c,c+l-1).insert("\n"));var d=this.getContents(t,e+l).diff((new a.default).insert(n).concat(f)),h=(new a.default).retain(t).concat(d);return this.applyDelta(h)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(b)&&c.default.find(e[0].target)){var o=c.default.find(e[0].target),i=(0,f.bubbleFormats)(o),s=o.offset(this.scroll),u=e[0].oldValue.replace(l.default.CONTENTS,""),d=(new a.default).insert(u),h=(new a.default).insert(o.value());t=(new a.default).retain(s).concat(d.diff(h,n)).reduce(function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)},new a.default),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&(0,v.default)(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}]),t}();function _(t,e){return Object.keys(e).reduce(function(n,r){return null==t[r]?n:(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]],n)},{})}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(0)),a=u(n(21)),s=u(n(11)),c=u(n(8));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=(0,u(n(10)).default)("quill:selection"),h=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.index=e,this.length=n},p=function(){function t(e,n){var r=this;f(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,c.default.sources.USER),1)}),this.emitter.on(c.default.events.EDITOR_CHANGE,function(t,e){t===c.default.events.TEXT_CHANGE&&e.length()>0&&r.update(c.default.sources.SILENT)}),this.emitter.on(c.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(c.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}})}}),this.emitter.on(c.default.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range,o=n.startNode,i=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(o,i,a,s)}}),this.update(c.default.sources.SILENT)}return o(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",function(){t.composing=!0}),this.root.addEventListener("compositionend",function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout(function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(c.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(t,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=i.default.find(n.start.node,!1);if(null==r)return;if(r instanceof i.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var o=void 0,i=this.scroll.leaf(t),a=r(i,2),s=a[0],c=a[1];if(null==s)return null;var u=s.position(c,!0),l=r(u,2);o=l[0],c=l[1];var f=document.createRange();if(e>0){f.setStart(o,c);var d=this.scroll.leaf(t+e),h=r(d,2);if(s=h[0],c=h[1],null==s)return null;var p=s.position(c,!0),v=r(p,2);return o=v[0],c=v[1],f.setEnd(o,c),f.getBoundingClientRect()}var m="left",g=void 0;return o instanceof Text?(c<o.data.length?(f.setStart(o,c),f.setEnd(o,c+1)):(f.setStart(o,c-1),f.setEnd(o,c),m="right"),g=f.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),c>0&&(m="right")),{bottom:g.top+g.height,height:g.height,left:g[m],right:g[m],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return d.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map(function(t){var n=r(t,2),o=n[0],a=n[1],s=i.default.find(o,!0),c=s.offset(e.scroll);return 0===a?c:s instanceof i.default.Container?c+s.length():c+s.index(o,a)}),a=Math.min(Math.max.apply(Math,l(o)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(l(o)));return new h(s,a-s)}},{key:"normalizeNative",value:function(t){if(!v(this.root,t.startContainer)||!t.collapsed&&!v(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n}),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],i=this.scroll.length();return n.forEach(function(t,n){t=Math.min(i-1,t);var a,s=e.scroll.leaf(t),c=r(s,2),u=c[0],l=c[1],f=u.position(l,0!==n),d=r(f,2);a=d[0],l=d[1],o.push(a,l)}),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(e.index,o)),a=r(i,1)[0],s=a;if(e.length>0){var c=this.scroll.line(Math.min(e.index+e.length,o));s=r(c,1)[0]}if(null!=a&&null!=s){var u=t.getBoundingClientRect();n.top<u.top?t.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(t.scrollTop+=n.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(d.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(n,r),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof e&&(n=e,e=!1),d.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,l(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,e=this.lastRange,n=this.getRange(),o=r(n,2),i=o[0],u=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(e,this.lastRange)){var l;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var f,d=[c.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(e),t];if((l=this.emitter).emit.apply(l,[c.default.events.EDITOR_CHANGE].concat(d)),t!==c.default.sources.SILENT)(f=this.emitter).emit.apply(f,d)}}}]),t}();function v(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=h,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Embed),o(e,[{key:"insertInto",value:function(t,n){0===t.children.length?function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}();s.blotName="break",s.tagName="BR",e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),a=n(30),s=n(1),c=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=u(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof s.ParchmentError)return;throw t}})},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})},e.prototype.descendant=function(t,n){var r=this.children.find(n),o=r[0],i=r[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof e?o.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,function(n,r,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,r,i))),i-=a}),o},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,function(t,e,o){t.formatAt(e,o,n,r)})},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),o=r[0],i=r[1];if(o)o.insertAt(i,e,n);else{var a=null==n?s.create("text",e):s.create(e,n);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(e){return t instanceof e}))throw new s.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),o=r[0],i=r[1],a=[[this,t]];return o instanceof e?a.concat(o.path(i,n)):(null!=o&&a.push([o,i]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),function(t,r,o){t=t.split(r,e),n.appendChild(t)}),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],o=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),o.push.apply(o,t.removedNodes))}),o.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=s.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}}),r.filter(function(t){return t.parentNode==n.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=s.find(t.nextSibling));var r=u(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))})},e}(a.default);function u(t){var e=s.find(t);if(null==e)try{e=s.create(t)}catch(n){e=s.create(s.Scope.INLINE),[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n(31),s=n(17),c=n(1),u=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new a.default(n.domNode),n}return o(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=c.query(t);n instanceof i.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===r.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(n,r){var o=t.prototype.wrap.call(this,n,r);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(s.default);e.default=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){var r=n(11),o=n(3),i={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=o(!0,{},e);for(var i in n||(r=Object.keys(r).reduce(function(t,e){return null!=r[e]&&(t[e]=r[e]),t},{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,o){return r(t[o],e[o])||(n[o]=void 0===e[o]?null:e[o]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce(function(n,r){return void 0===t[r]&&(n[r]=e[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t.exports=i},function(t,n){var r=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var n,r,o;try{n=Map}catch(t){n=function(){}}try{r=Set}catch(t){r=function(){}}try{o=Promise}catch(t){o=function(){}}function i(a,c,u,l,f){"object"==typeof c&&(u=c.depth,l=c.prototype,f=c.includeNonEnumerable,c=c.circular);var d=[],h=[],p=void 0!==e;return void 0===c&&(c=!0),void 0===u&&(u=1/0),function a(u,v){if(null===u)return null;if(0===v)return u;var m,g;if("object"!=typeof u)return u;if(t(u,n))m=new n;else if(t(u,r))m=new r;else if(t(u,o))m=new o(function(t,e){u.then(function(e){t(a(e,v-1))},function(t){e(a(t,v-1))})});else if(i.__isArray(u))m=[];else if(i.__isRegExp(u))m=new RegExp(u.source,s(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(i.__isDate(u))m=new Date(u.getTime());else{if(p&&e.isBuffer(u))return m=e.allocUnsafe?e.allocUnsafe(u.length):new e(u.length),u.copy(m),m;t(u,Error)?m=Object.create(u):void 0===l?(g=Object.getPrototypeOf(u),m=Object.create(g)):(m=Object.create(l),g=l)}if(c){var b=d.indexOf(u);if(-1!=b)return h[b];d.push(u),h.push(m)}for(var y in t(u,n)&&u.forEach(function(t,e){var n=a(e,v-1),r=a(t,v-1);m.set(n,r)}),t(u,r)&&u.forEach(function(t){var e=a(t,v-1);m.add(e)}),u){var _;g&&(_=Object.getOwnPropertyDescriptor(g,y)),_&&null==_.set||(m[y]=a(u[y],v-1))}if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(u);for(y=0;y<O.length;y++){var w=O[y];(!(j=Object.getOwnPropertyDescriptor(u,w))||j.enumerable||f)&&(m[w]=a(u[w],v-1),j.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(u);for(y=0;y<k.length;y++){var j,x=k[y];(j=Object.getOwnPropertyDescriptor(u,x))&&j.enumerable||(m[x]=a(u[x],v-1),Object.defineProperty(m,x,{enumerable:!1}))}}return m}(a,u)}function a(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=a,i.__isDate=function(t){return"object"==typeof t&&"[object Date]"===a(t)},i.__isArray=function(t){return"object"==typeof t&&"[object Array]"===a(t)},i.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===a(t)},i.__getRegExpFlags=s,i}();"object"==typeof t&&t.exports&&(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=h(n(0)),s=h(n(8)),c=n(4),u=h(c),l=h(n(16)),f=h(n(13)),d=h(n(25));function h(t){return t&&t.__esModule?t:{default:t}}function p(t){return t instanceof u.default||t instanceof c.BlockEmbed}var v=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(t,e){return t[e]=!0,t},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Scroll),o(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var o=this.line(t),a=r(o,2),s=a[0],u=a[1],d=this.line(t+n),h=r(d,1)[0];if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=h&&s!==h&&u>0){if(s instanceof c.BlockEmbed||h instanceof c.BlockEmbed)return void this.optimize();if(s instanceof f.default){var p=s.newlineIndex(s.length(),!0);if(p>-1&&(s=s.split(p+1))===h)return void this.optimize()}else if(h instanceof f.default){var v=h.newlineIndex(0);v>-1&&h.split(v+1)}var m=h.children.head instanceof l.default?null:h.children.head;s.moveChildren(h,m),s.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,r,o){(null==this.whitelist||this.whitelist[r])&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,o),this.optimize())}},{key:"insertAt",value:function(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==r||null==a.default.query(n,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var s=a.default.create(n,r);this.appendChild(s)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(t),t=r}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(p,t)}},{key:"lines",value:function(){return function t(e,n,r){var o=[],i=r;return e.children.forEachAt(n,r,function(e,n,r){p(e)?o.push(e):e instanceof a.default.Container&&(o=o.concat(t(e,n,i))),i-=r}),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,t),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,t)}}}]),e}();v.blotName="scroll",v.className="ql-editor",v.tagName="DIV",v.defaultChild="block",v.allowedChildren=[u.default,c.BlockEmbed,d.default],e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=v(n(21)),s=v(n(11)),c=v(n(3)),u=v(n(2)),l=v(n(20)),f=v(n(0)),d=v(n(5)),h=v(n(10)),p=v(n(9));function v(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=(0,h.default)("quill:keyboard"),b=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e])}),r.addBinding({key:e.keys.ENTER,shiftKey:null},j),r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},O),r.addBinding({key:e.keys.DELETE},{collapsed:!0},w)):(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},O),r.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),r.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},k),r.addBinding({key:e.keys.DELETE},{collapsed:!1},k),r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},O),r.listen(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,p.default),i(e,null,[{key:"match",value:function(t,e){return e=E(e),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!e[n]!==t[n]&&null!==e[n]})&&e.key===(t.which||t.keyCode)}}]),i(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=E(t);if(null==r||null==r.key)return g.warn("Attempted to add invalid keyboard binding",r);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),r=(0,c.default)(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,a=(t.bindings[i]||[]).filter(function(t){return e.match(n,t)});if(0!==a.length){var c=t.quill.getSelection();if(null!=c&&t.quill.hasFocus()){var u=t.quill.getLine(c.index),l=o(u,2),d=l[0],h=l[1],p=t.quill.getLeaf(c.index),v=o(p,2),m=v[0],g=v[1],b=0===c.length?[m,g]:t.quill.getLeaf(c.index+c.length),y=o(b,2),_=y[0],O=y[1],w=m instanceof f.default.Text?m.value().slice(0,g):"",k=_ instanceof f.default.Text?_.value().slice(O):"",j={collapsed:0===c.length,empty:0===c.length&&d.length()<=1,format:t.quill.getFormat(c),offset:h,prefix:w,suffix:k};a.some(function(e){if(null!=e.collapsed&&e.collapsed!==j.collapsed)return!1;if(null!=e.empty&&e.empty!==j.empty)return!1;if(null!=e.offset&&e.offset!==j.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==j.format[t]}))return!1}else if("object"===r(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=j.format[t]:!1===e.format[t]?null==j.format[t]:(0,s.default)(e.format[t],j.format[t])}))return!1;return!(null!=e.prefix&&!e.prefix.test(j.prefix))&&(!(null!=e.suffix&&!e.suffix.test(j.suffix))&&!0!==e.handler.call(t,c,j))})&&n.preventDefault()}}}})}}]),e}();function _(t,e){var n,r=t===y.keys.LEFT?"prefix":"suffix";return m(n={key:t,shiftKey:e,altKey:null},r,/^$/),m(n,"handler",function(n){var r=n.index;t===y.keys.RIGHT&&(r+=n.length+1);var i=this.quill.getLeaf(r);return!(o(i,1)[0]instanceof f.default.Embed)||(t===y.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index-1,d.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index+n.length+1,d.default.sources.USER),!1)}),n}function O(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),r=o(n,1)[0],i={};if(0===e.offset){var a=this.quill.getLine(t.index-1),s=o(a,1)[0];if(null!=s&&s.length()>1){var c=r.formats(),u=this.quill.getFormat(t.index-1,1);i=l.default.attributes.diff(c,u)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,d.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index-f,f,i,d.default.sources.USER),this.quill.focus()}}function w(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},i=0,a=this.quill.getLine(t.index),s=o(a,1)[0];if(e.offset>=s.length()-1){var c=this.quill.getLine(t.index+1),u=o(c,1)[0];if(u){var f=s.formats(),h=this.quill.getFormat(t.index,1);r=l.default.attributes.diff(f,h)||{},i=u.length()}}this.quill.deleteText(t.index,n,d.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+i-1,n,r,d.default.sources.USER)}}function k(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),o=e[e.length-1].formats();n=l.default.attributes.diff(o,r)||{}}this.quill.deleteText(t,d.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,d.default.sources.USER),this.quill.setSelection(t.index,d.default.sources.SILENT),this.quill.focus()}function j(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce(function(t,n){return f.default.query(n,f.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t},{});this.quill.insertText(t.index,"\n",r,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==r[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],d.default.sources.USER))})}function x(t){return{key:y.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=f.default.query("code-block"),r=e.index,i=e.length,a=this.quill.scroll.descendant(n,r),s=o(a,2),c=s[0],u=s[1];if(null!=c){var l=this.quill.getIndex(c),h=c.newlineIndex(u,!0)+1,p=c.newlineIndex(l+u+i),v=c.domNode.textContent.slice(h,p).split("\n");u=0,v.forEach(function(e,o){t?(c.insertAt(h+u,n.TAB),u+=n.TAB.length,0===o?r+=n.TAB.length:i+=n.TAB.length):e.startsWith(n.TAB)&&(c.deleteAt(h+u,n.TAB.length),u-=n.TAB.length,0===o?r-=n.TAB.length:i-=n.TAB.length),u+=e.length+1}),this.quill.update(d.default.sources.USER),this.quill.setSelection(r,i,d.default.sources.SILENT)}}}}function C(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],d.default.sources.USER)}}}function E(t){if("string"==typeof t||"number"==typeof t)return E({key:t});if("object"===(void 0===t?"undefined":r(t))&&(t=(0,a.default)(t,!1)),"string"==typeof t.key)if(null!=y.keys[t.key.toUpperCase()])t.key=y.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[b]=t.shortKey,delete t.shortKey),t}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":x(!0),"outdent code-block":x(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,d.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new u.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,d.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,d.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],a=(0,c.default)({},r.formats(),{list:"checked"}),s=(new u.default).retain(t.index).insert("\n",a).retain(r.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),r=o(n,2),i=r[0],a=r[1],s=(new u.default).retain(t.index).insert("\n",e.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,r=this.quill.getLine(t.index),i=o(r,2),a=i[0],s=i[1];if(s>n)return!0;var c=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":c="unchecked";break;case"[x]":c="checked";break;case"-":case"*":c="bullet";break;default:c="ordered"}this.quill.insertText(t.index," ",d.default.sources.USER),this.quill.history.cutoff();var l=(new u.default).retain(t.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:c});this.quill.updateContents(l,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,d.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],a=(new u.default).retain(t.index+r.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,d.default.sources.USER)}},"embed left":_(y.keys.LEFT,!1),"embed left shift":_(y.keys.LEFT,!0),"embed right":_(y.keys.RIGHT,!1),"embed right shift":_(y.keys.RIGHT,!0)}},e.default=y,e.SHORTKEY=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=c(n(0)),s=c(n(7));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.selection=n,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Embed),i(e,null,[{key:"value",value:function(){}}]),i(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var r=this,i=0;null!=r&&r.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(i,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),o=void 0,i=void 0,c=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var u=[t,n.start.offset,n.end.offset];o=u[0],i=u[1],c=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var l=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof s.default?(o=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=e.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var f=[i,c].map(function(t){return Math.max(0,Math.min(o.data.length,t-1))}),d=r(f,2);return i=d[0],c=d[1],{startNode:o,startOffset:i,endNode:o,endOffset:c}}}}},{key:"update",value:function(t,e){var n=this;if(t.some(function(t){return"characterData"===t.type&&t.target===n.textNode})){var r=this.restore();r&&(e.range=r)}}},{key:"value",value:function(){return""}}]),e}();u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(0)),o=n(4),i=a(o);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Container),e}();s.allowedChildren=[i.default,o.BlockEmbed,s],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Attributor.Style),o(e,[{key:"value",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join("")):n}}]),e}(),c=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),u=new s("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=s,e.ColorClass=c,e.ColorStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(6),s=(r=a)&&r.__esModule?r:{default:r};var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return u(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}();function u(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}c.blotName="link",c.tagName="A",c.SANITIZED_URL="about:blank",c.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=c,e.sanitize=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(23)),a=s(n(107));function s(t){return t&&t.__esModule?t:{default:t}}var c=0;function u(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var l=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(t){switch(t.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return o(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){e.selectItem(n,!0)}),n.addEventListener("keydown",function(t){switch(t.keyCode){case i.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case i.default.keys.ESCAPE:e.escape(),t.preventDefault()}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=a.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+c,c+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach(function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)}),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(0)),o=g(n(5)),i=n(4),a=g(i),s=g(n(16)),c=g(n(25)),u=g(n(24)),l=g(n(35)),f=g(n(6)),d=g(n(22)),h=g(n(7)),p=g(n(55)),v=g(n(42)),m=g(n(23));function g(t){return t&&t.__esModule?t:{default:t}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":s.default,"blots/container":c.default,"blots/cursor":u.default,"blots/embed":l.default,"blots/inline":f.default,"blots/scroll":d.default,"blots/text":h.default,"modules/clipboard":p.default,"modules/history":v.default,"modules/keyboard":m.default}),r.default.register(a.default,s.default,u.default,f.default,d.default,h.default),e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,o){var i=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);i.wrap(a),a.format(n,o)}},t.prototype.insertAt=function(t,e,n){var o=null==n?r.create("text",e):r.create(e,n),i=this.split(t);this.parent.insertBefore(o,i)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),a=n(1),s=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=o.default.keys(this.domNode),s=i.default.keys(this.domNode);e.concat(n).concat(s).forEach(function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)})},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}();e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){i(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(i(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}return r(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(0)),i=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var s="\ufeff",c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t)}),n.leftGuard=document.createTextNode(s),n.rightGuard=document.createTextNode(s),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Embed),r(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,r=t.data.split(s).join("");if(t===this.leftGuard)if(this.prev instanceof i.default){var a=this.prev.length();this.prev.insertAt(a,r),e={startNode:this.prev.domNode,startOffset:a+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data=s,e}},{key:"update",value:function(t,e){var n=this;t.forEach(function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}})}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new i.default.Attributor.Attribute("align","align",a),c=new i.default.Attributor.Class("align","ql-align",a),u=new i.default.Attributor.Style("align","text-align",a);e.AlignAttribute=s,e.AlignClass=c,e.AlignStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(26);var s=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},s=new i.default.Attributor.Attribute("direction","dir",a),c=new i.default.Attributor.Class("direction","ql-direction",a),u=new i.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=s,e.DirectionClass=c,e.DirectionStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};var s={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new a.default.Attributor.Class("font","ql-font",s),u=new(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Attributor.Style),o(e,[{key:"value",value:function(t){return function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}())("font","font-family",s);e.FontStyle=u,e.FontClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=s},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(0)),i=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(i.default.events.EDITOR_CHANGE,function(t,e,n,o){t!==i.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==i.default.sources.USER?r.transform(e):r.record(e,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],i.default.sources.USER),this.ignoreChange=!1;var r=u(n[t]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}),this.stack.redo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}();function u(t){var e=t.reduce(function(t,e){return t+=e.delete||0},0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)}))}(t)&&(n-=1),n}c.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=c,e.getLastChangeIndex=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=h(n(3)),i=h(n(2)),a=h(n(8)),s=h(n(23)),c=h(n(34)),u=h(n(59)),l=h(n(60)),f=h(n(28)),d=h(n(61));function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],y=[!1,"serif","monospace"],_=["1","2","3",!1],O=["small",!1,"large","huge"],w=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(t){t.container.contains(n.target)||t.close()})}),r}return m(e,c.default),r(e,[{key:"addModule",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach(function(t){(t.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}})})}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&j(t,g),new l.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&j(t,b,"background"===n?"#ffffff":"#000000"),new u.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?j(t,y):t.classList.contains("ql-header")?j(t,_):t.classList.contains("ql-size")&&j(t,O)),new f.default(t)});this.quill.on(a.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(t){t.update()})})}}]),e}();w.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var r=t.quill.getSelection(!0);t.quill.updateContents((new i.default).retain(r.index).delete(r.length).insert({image:n.target.result}),a.default.sources.USER),t.quill.setSelection(r.index+1,a.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}}),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var k=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return m(e,d.default),r(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){s.default.match(e,"enter")?(t.save(),e.preventDefault()):s.default.match(e,"escape")&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,a.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=function(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e)return(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0";if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/";return t}(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",a.default.sources.USER),this.quill.setSelection(r+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}();function j(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",e),t.appendChild(r)})}e.BaseTooltip=k,e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length()))return[n,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r,o=this.find(t),i=o[0],a=t-o[1],s=this.iterator(i);(r=s())&&a<t+e;){var c=r.length();t>a?n(r,t-a,Math.min(e,a+c-t)):n(r,0,Math.min(c,t+e-a)),a+=c}},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();)e=t(e,n);return e},t}();e.default=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver(function(t){n.update(t)}),n.observer.observe(n.domNode,s),n.attach(),n}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,o){this.update(),t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var s=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),e&&s(t.parent))},c=function(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(c),t.optimize(n))},u=e,l=0;u.length>0;l+=1){if(l>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(t){var e=a.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(s(a.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=a.find(t,!1);s(e,!1),e instanceof i.default&&e.children.forEach(function(t){s(t,!1)})})):"attributes"===t.type&&s(e.prev)),s(e))}),this.children.forEach(c),o=(u=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map(function(t){var e=a.find(t.target,!0);return null==e?null:null==e.domNode[a.DATA_KEY].mutations?(e.domNode[a.DATA_KEY].mutations=[t],e):(e.domNode[a.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null!=t&&t!==r&&null!=t.domNode[a.DATA_KEY]&&t.update(t.domNode[a.DATA_KEY].mutations||[],n)}),null!=this.domNode[a.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="DIV",e}(i.default);e.default=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),a=n(1);var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach(function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)}),this.unwrap())},e.prototype.formatAt=function(e,n,r,o){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(e,n).format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=a.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){var r=a.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,o){null!=a.query(r,a.Scope.BLOCK)?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=a.query(n,a.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var o=this.split(e),i=a.create(n,r);o.parent.insertBefore(i,o)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="P",e}(i.default);e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,o){0===e&&n===this.length()?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=a.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some(function(t){return"characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:o.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(e=n[i],t.call(o,e,i,n))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,e){var n=-1,r=1,o=0;function i(t,e,u){if(t==e)return t?[[o,t]]:[];(u<0||t.length<u)&&(u=null);var f=s(t,e),d=t.substring(0,f);f=c(t=t.substring(f),e=e.substring(f));var h=t.substring(t.length-f),p=function(t,e){var u;if(!t)return[[r,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,f=t.length>e.length?e:t,d=l.indexOf(f);if(-1!=d)return u=[[r,l.substring(0,d)],[o,f],[r,l.substring(d+f.length)]],t.length>e.length&&(u[0][0]=u[2][0]=n),u;if(1==f.length)return[[n,t],[r,e]];var h=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function o(t,e,n){for(var r,o,i,a,u=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";-1!=(l=e.indexOf(u,l+1));){var d=s(t.substring(n),e.substring(l)),h=c(t.substring(0,n),e.substring(0,l));f.length<h+d&&(f=e.substring(l-h,l)+e.substring(l,l+d),r=t.substring(0,n-h),o=t.substring(n+d),i=e.substring(0,l-h),a=e.substring(l+d))}return 2*f.length>=t.length?[r,o,i,a,f]:null}var i,a,u,l,f,d=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));if(!d&&!h)return null;i=h?d&&d[4].length>h[4].length?d:h:d;t.length>e.length?(a=i[0],u=i[1],l=i[2],f=i[3]):(l=i[0],f=i[1],a=i[2],u=i[3]);var p=i[4];return[a,u,l,f,p]}(t,e);if(h){var p=h[0],v=h[1],m=h[2],g=h[3],b=h[4],y=i(p,m),_=i(v,g);return y.concat([[o,b]],_)}return function(t,e){for(var o=t.length,i=e.length,s=Math.ceil((o+i)/2),c=s,u=2*s,l=new Array(u),f=new Array(u),d=0;d<u;d++)l[d]=-1,f[d]=-1;l[c+1]=0,f[c+1]=0;for(var h=o-i,p=h%2!=0,v=0,m=0,g=0,b=0,y=0;y<s;y++){for(var _=-y+v;_<=y-m;_+=2){for(var O=c+_,w=(E=_==-y||_!=y&&l[O-1]<l[O+1]?l[O+1]:l[O-1]+1)-_;E<o&&w<i&&t.charAt(E)==e.charAt(w);)E++,w++;if(l[O]=E,E>o)m+=2;else if(w>i)v+=2;else if(p){var k=c+h-_;if(k>=0&&k<u&&-1!=f[k]){var j=o-f[k];if(E>=j)return a(t,e,E,w)}}}for(var x=-y+g;x<=y-b;x+=2){for(var k=c+x,C=(j=x==-y||x!=y&&f[k-1]<f[k+1]?f[k+1]:f[k-1]+1)-x;j<o&&C<i&&t.charAt(o-j-1)==e.charAt(i-C-1);)j++,C++;if(f[k]=j,j>o)b+=2;else if(C>i)g+=2;else if(!p){var O=c+h-x;if(O>=0&&O<u&&-1!=l[O]){var E=l[O],w=c+E-O;if(E>=(j=o-j))return a(t,e,E,w)}}}}return[[n,t],[r,e]]}(t,e)}(t=t.substring(0,t.length-f),e=e.substring(0,e.length-f));return d&&p.unshift([o,d]),h&&p.push([o,h]),function t(e){e.push([o,""]);var i=0;var a=0;var u=0;var l="";var f="";var d;for(;i<e.length;)switch(e[i][0]){case r:u++,f+=e[i][1],i++;break;case n:a++,l+=e[i][1],i++;break;case o:a+u>1?(0!==a&&0!==u&&(0!==(d=s(f,l))&&(i-a-u>0&&e[i-a-u-1][0]==o?e[i-a-u-1][1]+=f.substring(0,d):(e.splice(0,0,[o,f.substring(0,d)]),i++),f=f.substring(d),l=l.substring(d)),0!==(d=c(f,l))&&(e[i][1]=f.substring(f.length-d)+e[i][1],f=f.substring(0,f.length-d),l=l.substring(0,l.length-d))),0===a?e.splice(i-u,a+u,[r,f]):0===u?e.splice(i-a,a+u,[n,l]):e.splice(i-a-u,a+u,[n,l],[r,f]),i=i-a-u+(a?1:0)+(u?1:0)+1):0!==i&&e[i-1][0]==o?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,u=0,a=0,l="",f=""}""===e[e.length-1][1]&&e.pop();var h=!1;i=1;for(;i<e.length-1;)e[i-1][0]==o&&e[i+1][0]==o&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),h=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),h=!0)),i++;h&&t(e)}(p),null!=u&&(p=function(t,e){var r=function(t,e){if(0===e)return[o,t];for(var r=0,i=0;i<t.length;i++){var a=t[i];if(a[0]===n||a[0]===o){var s=r+a[1].length;if(e===s)return[i+1,t];if(e<s){t=t.slice();var c=e-r,u=[a[0],a[1].slice(0,c)],l=[a[0],a[1].slice(c)];return t.splice(i,1,u,l),[i+1,t]}r=s}}throw new Error("cursor_pos is out of bounds!")}(t,e),i=r[1],a=r[0],s=i[a],c=i[a+1];if(null==s)return t;if(s[0]!==o)return t;if(null!=c&&s[1]+c[1]===c[1]+s[1])return i.splice(a,2,c,s),l(i,a,2);if(null!=c&&0===c[1].indexOf(s[1])){i.splice(a,2,[c[0],s[1]],[0,s[1]]);var u=c[1].slice(s[1].length);return u.length>0&&i.splice(a+2,0,[c[0],u]),l(i,a,3)}return t}(p,u)),p=function(t){for(var e=!1,i=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},a=2;a<t.length;a+=1)t[a-2][0]===o&&((s=t[a-2][1]).charCodeAt(s.length-1)>=55296&&s.charCodeAt(s.length-1)<=56319)&&t[a-1][0]===n&&i(t[a-1][1])&&t[a][0]===r&&i(t[a][1])&&(e=!0,t[a-1][1]=t[a-2][1].slice(-1)+t[a-1][1],t[a][1]=t[a-2][1].slice(-1)+t[a][1],t[a-2][1]=t[a-2][1].slice(0,-1));var s;if(!e)return t;for(var c=[],a=0;a<t.length;a+=1)t[a][1].length>0&&c.push(t[a]);return c}(p)}function a(t,e,n,r){var o=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),c=e.substring(r),u=i(o,a),l=i(s,c);return u.concat(l)}function s(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function c(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}var u=i;function l(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var o=t[r],i=t[r+1];o[0]===i[1]&&t.splice(r,2,[o[0],o[1]+i[1]])}return t}u.INSERT=r,u.DELETE=n,u.EQUAL=o,t.exports=u},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function o(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t,e){var n=r?r+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,s=new Array(a);i<a;i++)s[i]=o[i].fn;return s},a.prototype.emit=function(t,e,n,o,i,a){var s=r?r+t:t;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,o),!0;case 5:return l.fn.call(l.context,e,n,o,i),!0;case 6:return l.fn.call(l.context,e,n,o,i,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,o);break;default:if(!c)for(d=1,c=new Array(f-1);d<f;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){var o=new i(e,n||this),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(t,e,n){var o=new i(e,n||this,!0),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,i){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==e||i&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,void 0!==t&&(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=y(n(3)),s=y(n(2)),c=y(n(0)),u=y(n(5)),l=y(n(10)),f=y(n(9)),d=n(36),h=n(37),p=y(n(13)),v=n(26),m=n(38),g=n(39),b=n(40);function y(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=(0,l.default)("quill:clipboard"),w="__ql-matcher",k=[[Node.TEXT_NODE,D],[Node.TEXT_NODE,M],["br",function(t,e){T(e,"\n")||e.insert("\n");return e}],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,function(t,e){var n={},r=t.style||{};r.fontStyle&&"italic"===S(t).fontStyle&&(n.italic=!0);r.fontWeight&&(S(t).fontWeight.startsWith("bold")||parseInt(S(t).fontWeight)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(e=E(e,n));parseFloat(r.textIndent||0)>0&&(e=(new s.default).insert("\t").concat(e));return e}],["li",function(t,e){var n=c.default.query(t);if(null==n||"list-item"!==n.blotName||!T(e,"\n"))return e;var r=-1,o=t.parentNode;for(;!o.classList.contains("ql-clipboard");)"list"===(c.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?e:e.compose((new s.default).retain(e.length()-1).retain(1,{indent:r}))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["style",function(){return new s.default}]],j=[d.AlignAttribute,m.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),x=[d.AlignStyle,h.BackgroundStyle,v.ColorStyle,m.DirectionStyle,g.FontStyle,b.SizeStyle].reduce(function(t,e){return t[e.keyName]=e,t},{}),C=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],k.concat(r.options.matchers).forEach(function(t){var e=o(t,2),i=e[0],a=e[1];(n.matchVisual||a!==L)&&r.addMatcher(i,a)}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,f.default),i(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[p.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,_({},p.default.blotName,e[p.default.blotName]))}var r=this.prepareMatching(),i=o(r,2),a=i[0],c=i[1],u=function t(e,n,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,n){return n(e,t)},new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(o,i){var a=t(i,n,r);return i.nodeType===e.ELEMENT_NODE&&(a=n.reduce(function(t,e){return e(i,t)},a),a=(i[w]||[]).reduce(function(t,e){return e(i,t)},a)),o.concat(a)},new s.default):new s.default}(this.container,a,c);return T(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new s.default).retain(u.length()-1).delete(1))),O.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,u.default.sources.SILENT);else{var r=this.convert(e);this.quill.updateContents((new s.default).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout(function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,u.default.sources.USER),e.quill.setSelection(r.length()-n.length,u.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach(function(r){var i=o(r,2),a=i[0],s=i[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(a),function(t){t[w]=t[w]||[],t[w].push(s)})}}),[e,n]}}]),e}();function E(t,e,n){return"object"===(void 0===e?"undefined":r(e))?Object.keys(e).reduce(function(t,n){return E(t,n,e[n])},t):t.reduce(function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,(0,a.default)({},_({},e,n),r.attributes))},new s.default)}function S(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};return t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function T(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var o=t.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function A(t){if(0===t.childNodes.length)return!1;var e=S(t);return["block","list-item"].indexOf(e.display)>-1}function P(t,e,n){return E(n,t,!0)}function N(t,e){var n=c.default.Attributor.Attribute.keys(t),r=c.default.Attributor.Class.keys(t),o=c.default.Attributor.Style.keys(t),i={};return n.concat(r).concat(o).forEach(function(e){var n=c.default.query(e,c.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(t),i[n.attrName])||(null==(n=j[e])||n.attrName!==e&&n.keyName!==e||(i[n.attrName]=n.value(t)||void 0),null==(n=x[e])||n.attrName!==e&&n.keyName!==e||(n=x[e],i[n.attrName]=n.value(t)||void 0))}),Object.keys(i).length>0&&(e=E(e,i)),e}function I(t,e){var n=c.default.query(t);if(null==n)return e;if(n.prototype instanceof c.default.Embed){var r={},o=n.value(t);null!=o&&(r[n.blotName]=o,e=(new s.default).insert(r,n.formats(t)))}else"function"==typeof n.formats&&(e=E(e,n.blotName,n.formats(t)));return e}function M(t,e){return T(e,"\n")||(A(t)||e.length()>0&&t.nextSibling&&A(t.nextSibling))&&e.insert("\n"),e}function L(t,e){if(A(t)&&null!=t.nextElementSibling&&!T(e,"\n\n")){var n=t.offsetHeight+parseFloat(S(t).marginTop)+parseFloat(S(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function D(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!S(t.parentNode).whiteSpace.startsWith("pre")){var r=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&A(t.parentNode)||null!=t.previousSibling&&A(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&A(t.parentNode)||null!=t.nextSibling&&A(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return e.insert(n)}C.DEFAULTS={matchers:[],matchVisual:!0},e.default=C,e.matchAttributor=N,e.matchBlot=I,e.matchNewline=M,e.matchSpacing=L,e.matchText=D},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(6),s=(r=a)&&r.__esModule?r:{default:r};var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}();c.blotName="bold",c.tagName=["STRONG","B"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(2)),a=l(n(0)),s=l(n(5)),c=l(n(10)),u=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=(0,c.default)("quill:toolbar"),h=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,i=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(i.options.container)){var a=document.createElement("div");v(a,i.options.container),t.container.parentNode.insertBefore(a,t.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(t){i.addHandler(t,i.options.handlers[t])}),[].forEach.call(i.container.querySelectorAll("button, select"),function(t){i.attach(t)}),i.quill.on(s.default.events.EDITOR_CHANGE,function(t,e){t===s.default.events.SELECTION_CHANGE&&i.update(e)}),i.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var t=i.quill.selection.getRange(),e=r(t,1)[0];i.update(e)}),i):(o=d.error("Container required for toolbar",i.options),f(i,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),o(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,function(t){return 0===t.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void d.warn("ignoring attaching to disabled format",n,t);if(null==a.default.query(n))return void d.warn("ignoring attaching to nonexistent format",n,t)}var o="SELECT"===t.tagName?"change":"click";t.addEventListener(o,function(o){var c=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var u=t.options[t.selectedIndex];c=!u.hasAttribute("selected")&&(u.value||!1)}else c=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),o.preventDefault();e.quill.focus();var l=e.quill.selection.getRange(),f=r(l,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,c);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(c=prompt("Enter "+n)))return;e.quill.updateContents((new i.default).retain(f.index).delete(f.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,c)),s.default.sources.USER)}else e.quill.format(n,c,s.default.sources.USER);e.update(f)}),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(n){var o=r(n,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var s=void 0;if(null==t)s=null;else if(null==e[i])s=a.querySelector("option[selected]");else if(!Array.isArray(e[i])){var c=e[i];"string"==typeof c&&(c=c.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+c+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=e[i]===a.getAttribute("value")||null!=e[i]&&e[i].toString()===a.getAttribute("value")||null==e[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=e[i])})}}]),e}();function p(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+e),null!=n&&(r.value=n),t.appendChild(r)}function v(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t)p(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){var r=document.createElement("select");r.classList.add("ql-"+e),n.forEach(function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),r.appendChild(e)}),t.appendChild(r)}(n,e,r):p(n,e,r)}}),t.appendChild(n)})}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(e){null!=a.default.query(e,a.default.Scope.INLINE)&&t.quill.format(e,!1)})}else this.quill.removeFormat(e,s.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",s.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",t,s.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,s.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,s.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",t,s.default.sources.USER)}}},e.default=h,e.addControls=v},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(28),s=(r=a)&&r.__esModule?r:{default:r};var c=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"buildItem",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var r=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=o:r.style.fill=o)}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(28),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),o(e,[{key:"selectItem",value:function(t,n){(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=e+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=e+i+"px"),o.bottom>r.bottom){var a=o.bottom-o.top,s=t.bottom-t.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=h(n(3)),s=h(n(8)),c=n(43),u=h(c),l=h(n(27)),f=n(15),d=h(n(41));function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(t){function e(t,n){p(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-snow"),r}return m(e,u.default),i(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),d.default),this.tooltip=new y(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(e,n){t.handlers.link.call(t,!n.format.link)})}}]),e}();b.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return m(e,c.BaseTooltip),i(e,[{key:"listen",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,s.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()}),this.quill.on(s.default.events.SELECTION_CHANGE,function(e,n,o){if(null!=e){if(0===e.length&&o===s.default.sources.USER){var i=t.quill.scroll.descendant(l.default,e.index),a=r(i,2),c=a[0],u=a[1];if(null!=c){t.linkRange=new f.Range(e.index-u,c.length());var d=l.default.formats(c.domNode);return t.preview.textContent=d,t.preview.setAttribute("href",d),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}})}},{key:"show",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}();y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=L(n(29)),o=n(36),i=n(38),a=n(64),s=L(n(65)),c=L(n(66)),u=n(67),l=L(u),f=n(37),d=n(26),h=n(39),p=n(40),v=L(n(56)),m=L(n(68)),g=L(n(27)),b=L(n(69)),y=L(n(70)),_=L(n(71)),O=L(n(72)),w=L(n(73)),k=n(13),j=L(k),x=L(n(74)),C=L(n(75)),E=L(n(57)),S=L(n(41)),T=L(n(28)),A=L(n(59)),P=L(n(60)),N=L(n(61)),I=L(n(108)),M=L(n(62));function L(t){return t&&t.__esModule?t:{default:t}}r.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":f.BackgroundClass,"attributors/class/color":d.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":f.BackgroundStyle,"attributors/style/color":d.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":p.SizeStyle},!0),r.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":f.BackgroundStyle,"formats/color":d.ColorStyle,"formats/font":h.FontClass,"formats/size":p.SizeClass,"formats/blockquote":s.default,"formats/code-block":j.default,"formats/header":c.default,"formats/list":l.default,"formats/bold":v.default,"formats/code":k.Code,"formats/italic":m.default,"formats/link":g.default,"formats/script":b.default,"formats/strike":y.default,"formats/underline":_.default,"formats/image":O.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":x.default,"modules/syntax":C.default,"modules/toolbar":E.default,"themes/bubble":I.default,"themes/snow":M.default,"ui/icons":S.default,"ui/picker":T.default,"ui/icon-picker":P.default,"ui/color-picker":A.default,"ui/tooltip":N.default},!0),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r};var c=new(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Attributor.Class),o(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var r=this.value(t)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(t),!0):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}())("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),e}();a.blotName="blockquote",a.tagName="blockquote",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(4),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),o(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}();s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=c(n(0)),a=c(n(4)),s=c(n(25));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,a.default),r(e,[{key:"format",value:function(t,n){t!==h.blotName||n?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:o(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}();d.blotName="list-item",d.tagName="LI";var h=function(t){function e(t){u(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=function(e){if(e.target.parentNode===t){var r=n.statics.formats(t),o=i.default.find(e.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked")}};return t.addEventListener("touchstart",r),t.addEventListener("mousedown",r),n}return f(e,s.default),r(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",r=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||r.setAttribute("data-checked","checked"===t),r}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:"insertBefore",value:function(t,n){if(t instanceof d)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var r=null==n?this.length():n.offset(this),i=this.split(r);i.parent.insertBefore(t,i)}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}();h.blotName="list",h.scope=i.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[d],e.ListItem=d,e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(56),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),e}();a.blotName="italic",a.tagName=["EM","I"],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(6),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),o(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}();s.blotName="script",s.tagName=["SUB","SUP"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),e}();a.blotName="strike",a.tagName="S",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),e}();a.blotName="underline",a.tagName="U",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r},c=n(27);var u=["alt","height","width"],l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Embed),o(e,[{key:"format",value:function(t,n){u.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return u.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,c.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}();l.blotName="image",l.tagName="IMG",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(4),s=n(27),c=(r=s)&&r.__esModule?r:{default:r};var u=["height","width"],l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.BlockEmbed),o(e,[{key:"format",value:function(t,n){u.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return u.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return c.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}();l.blotName="video",l.className="ql-video",l.tagName="IFRAME",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(35)),i=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,o.default),r(e,null,[{key:"create",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}();f.blotName="formula",f.className="ql-formula",f.tagName="SPAN";var d=function(t){function e(){c(this,e);var t=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return l(e,a.default),r(e,null,[{key:"register",value:function(){i.default.register(f,!0)}}]),e}();e.FormulaBlot=f,e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=c(n(0)),i=c(n(5)),a=c(n(9)),s=c(n(13));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,s.default),r(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}();d.className="ql-syntax";var h=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),p=function(t){function e(t,n){u(this,e);var r=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return r.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(o),o=setTimeout(function(){r.highlight(),o=null},r.options.interval)}),r.highlight(),r}return f(e,a.default),r(e,null,[{key:"register",value:function(){i.default.register(h,!0),i.default.register(d,!0)}}]),r(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(d).forEach(function(e){e.highlight(t.options.highlight)}),this.quill.update(i.default.sources.SILENT),null!=e&&this.quill.setSelection(e,i.default.sources.SILENT)}}}]),e}();p.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=d,e.CodeToken=h,e.default=p},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var r=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=f(n(3)),a=f(n(8)),s=n(43),c=f(s),u=n(15),l=f(n(41));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(t){function e(t,n){d(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var r=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-bubble"),r}return p(e,c.default),o(e,[{key:"extendToolbar",value:function(t){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),l.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),l.default)}}]),e}();m.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(t){function e(t,n){d(this,e);var r=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.on(a.default.events.EDITOR_CHANGE,function(t,e,n,o){if(t===a.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(e.index,e.length);if(1===i.length)r.position(r.quill.getBounds(e));else{var s=i[i.length-1],c=r.quill.getIndex(s),l=Math.min(s.length()-1,e.index+e.length-c),f=r.quill.getBounds(new u.Range(c,l));r.position(f)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return p(e,s.BaseTooltip),o(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){t.root.classList.remove("ql-editing")}),this.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),e}();g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=g,e.default=m},function(t,e,n){t.exports=n(63)}]).default},t.exports=n()}).call(e,n("EuP9").Buffer)},ydQE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("vrSs");function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={props:{count:{type:[Object,Boolean],default:!1}},data:function(){return{tabs:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},r.a,{all:"Все"}),active:1}},methods:{changeTab:function(t){this.active=t,this.$emit("changeTab",t)}}}},ymQ7:function(t,e,n){var r=n("xA5w"),o=n("JURy"),i=n("nizW");t.exports=function(t){var e=r(t);return i(e,o(e))+1}},yzuE:function(t,e,n){var r=n("v9aJ"),o=n("bGc4");t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,function(t,r,o){i[++n]=e(t,r,o)}),i}},z0oX:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark__chapter"},[n("div",{staticClass:"bookmark__chapter-left"},[n("i",{staticClass:"fa fa-bookmark fa-fw"}),t._v(" "),n("a",{staticClass:"bookmark__chapter-number",attrs:{href:t.chapterUrl(t.chapter)}},[n("span",[t._v("Глава "+t._s(t.chapter.number))]),t._v(" "),t.chapter.name?n("span",[t._v(t._s(t.chapter.name))]):t._e()]),t._v(" "),n("div",{staticClass:"bookmark__chapter-page"},[n("span",[t._v(" - ")]),t._v(" "),n("a",{attrs:{href:t.chapterUrl(t.chapter,t.chapter.page_id)}},[t._v("Страница "+t._s(t.chapter.page_id))])])]),t._v(" "),n("div",{staticClass:"bookmark__date"},[n("span",[t._v("Добавлено")]),t._v(" "),n("span",[t._v(t._s(t._f("formatDate")(t.chapter.created_at)))])]),t._v(" "),n("div",{staticClass:"bookmark__actions"},[n("div",{staticClass:"bookmark__action bookmark__delete",on:{click:t.remove}},[n("i",{staticClass:"fa fa-trash-o"})])])])},staticRenderFns:[]}},z4BQ:function(t,e){t.exports=function(t){var e=new Date(t.getTime()),n=e.getTimezoneOffset();return e.setSeconds(0,0),6e4*n+e.getTime()%6e4}},z4hc:function(t,e,n){var r=n("aCM0"),o=n("Rh28"),i=n("UnEC"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},zBOP:function(t,e,n){var r=n("22B7"),o=n("bGc4"),i=n("ZGh9"),a=n("yCNF");t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},zGZ6:function(t,e,n){var r=n("YeCl"),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},zZbG:function(t,e,n){var r=n("xA5w"),o=n("3znZ");t.exports=function(t){var e=r(t),n=e.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var a=o(i),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var c=o(s);return e.getTime()>=a.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}},zhVe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:[Object,Array,String,Number,Boolean],label:String,model:[Object,Array,String,Number,Boolean],large:Boolean,name:{type:String,default:"radio-input"},disabled:{type:Boolean,default:!1}},computed:{isChecked:function(){return this.model===this.value}}}},zpVT:function(t,e,n){var r=n("duB3"),o=n("POb3"),i=n("YeCl"),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}}},[0]);